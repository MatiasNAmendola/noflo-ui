function require(a,b,c){var d=require.resolve(a);if(null==d){c=c||a,b=b||"root";var e=new Error('Failed to require "'+c+'" from "'+b+'"');throw e.path=c,e.parent=b,e.require=!0,e}var f=require.modules[d];return f.exports||(f.exports={},f.client=f.component=!0,f.call(this,f.exports,require.relative(d),f)),f.exports}require.modules={},require.aliases={},require.resolve=function(a){"/"===a.charAt(0)&&(a=a.slice(1));for(var b=[a,a+".js",a+".json",a+"/index.js",a+"/index.json"],c=0;c<b.length;c++){var a=b[c];if(require.modules.hasOwnProperty(a))return a;if(require.aliases.hasOwnProperty(a))return require.aliases[a]}},require.normalize=function(a,b){var c=[];if("."!=b.charAt(0))return b;a=a.split("/"),b=b.split("/");for(var d=0;d<b.length;++d)".."==b[d]?a.pop():"."!=b[d]&&""!=b[d]&&c.push(b[d]);return a.concat(c).join("/")},require.register=function(a,b){require.modules[a]=b},require.alias=function(a,b){if(!require.modules.hasOwnProperty(a))throw new Error('Failed to alias "'+a+'", it does not exist');require.aliases[b]=a},require.relative=function(a){function b(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function c(b){var d=c.resolve(b);return require(d,a,b)}var d=require.normalize(a,"..");return c.resolve=function(c){var e=c.charAt(0);if("/"==e)return c.slice(1);if("."==e)return require.normalize(d,c);var f=a.split("/"),g=b(f,"deps")+1;return g||(g=0),c=f.slice(0,g+1).join("/")+"/deps/"+c},c.exists=function(a){return require.modules.hasOwnProperty(c.resolve(a))},c},require.register("meemoo-dataflow/build/dataflow.build.js",function(a){!function(a){var b=function(a,b,c){a[b]||(a[b]=new c),a[b]instanceof c||(a[b]=new c(a[b]))},c=a.Model.extend({defaults:{action:null,label:"",disabled:!1,icon:""}}),d=a.Collection.extend({model:c}),e=a.Model.extend({view:null,context:null,defaults:{control:null,actions:null,overflow:null,className:"actionbar"},initialize:function(a,e){b(this.attributes,"control",c),b(this.attributes,"actions",d),b(this.attributes,"overflow",d),this.context=e},render:function(){return this.view=new g({model:this,context:this.context}),this.view.render().el},show:function(){var b=this.render();a.$("body").prepend(b)},hide:function(){this.view&&(this.view.$el.remove(),this.view=null)}}),f=a.Model.extend({view:null,context:null,defaults:{control:null,actions:null,className:"contextbar"},initialize:function(a,e){b(this.attributes,"control",c),b(this.attributes,"actions",d),this.context=e},render:function(){return this.view=new h({model:this,context:this.context}),this.view.render().el},show:function(){var b=this.render();a.$("body").prepend(b)},hide:function(){this.view&&(this.view.$el.remove(),this.view=null)}}),g=a.View.extend({tagName:"div",className:"navbar navbar-fixed-top",template:'<div class="navbar-inner"></div>',$inner:null,$control:null,$actions:null,context:null,events:{"click .control-up":"handleUp","click .control-icon":"handleIcon","click .control-label":"handleLabel"},initialize:function(a){this.listenTo(this.model.get("control"),"change",this.renderControl),this.context=a.context},handleUp:function(a){a.preventDefault(),this.model.get("control").get("disabled")||this.model.get("control").get("up")&&this.model.get("control").get("up").call(this.context)},handleIcon:function(a){return this.model.get("control").get("up")?(this.handleUp(a),void 0):(this.handleLabel(a),void 0)},handleLabel:function(a){a.preventDefault(),this.model.get("control").get("disabled")||this.model.get("control").get("action")&&this.model.get("control").get("action").call(this.context)},render:function(){return this.$el.html(this.template),this.$el.addClass(this.model.get("className")),this.$inner=a.$(".navbar-inner",this.$el),this.$control=null,this.$actions=null,this.renderControl(),this.renderActions(),this.renderOverflow(),this},renderControl:function(){if(this.model.get("control")){this.$control||(this.$control=a.$("<a>"),this.$control.addClass("brand"),this.$inner.prepend(this.$control));var b=this.model.get("control").get("icon"),c=this.model.get("control").get("up"),d=this.model.get("control").get("label");this.$control.empty(),c&&this.$control.append(a.$('<i class="control-up icon-chevron-left"></i><span class="control-up">&nbsp;</span>')),b&&this.$control.append(a.$('<i class="control-icon icon-'+b+'"></i>')),d&&this.$control.append('<span class="control-label">&nbsp;'+d+"</span>")}},renderActions:function(){if(!this.$actions){var a=new i({collection:this.model.get("actions"),context:this.context});this.$inner.append(a.render().$el),this.$actions=a.$el}},renderOverflow:function(){}}),h=a.View.extend({tagName:"div",className:"navbar navbar-inverse navbar-fixed-top",template:'<div class="navbar-inner"></div>',$inner:null,$control:null,$actions:null,context:null,events:{"click .control-icon":"handleControl","click .control-label":"handleControl"},handleControl:function(a){a.preventDefault(),this.model.get("control").get("disabled")||this.model.get("control").get("action")&&this.model.get("control").get("action").call(this.context)},initialize:function(a){this.listenTo(this.model.get("control"),"change",this.renderControl),this.context=a.context},render:function(){return this.$el.html(this.template),this.$el.addClass(this.model.get("className")),this.$inner=a.$(".navbar-inner",this.$el),this.$control=null,this.$actions=null,this.renderControl(),this.renderActions(),this},renderControl:function(){this.$control||(this.$control=a.$("<a>"),this.$control.addClass("brand"),this.$inner.prepend(this.$control));var b=this.model.get("control").get("icon"),c=this.model.get("control").get("label");this.$control.empty(),b&&this.$control.append(a.$('<i class="control-icon icon-'+b+'"></i>')),c&&this.$control.append('<span class="control-label"> '+c+"</span>")},renderActions:function(){if(!this.$actions){var a=new i({collection:this.model.get("actions"),context:this.context});this.$inner.append(a.render().$el),this.$actions=a.$el}}}),i=a.View.extend({tagName:"ul",className:"nav pull-right",views:{},context:null,initialize:function(a){this.collection=a.collection,this.context=a.context,this.listenTo(this.collection,"add",this.addItem),this.listenTo(this.collection,"remove",this.removeItem),this.listenTo(this.collection,"reset",this.render)},render:function(){return this.$el.empty(),this.collection.each(this.addItem,this),this},addItem:function(a){var b=new j({model:a,context:this.context});this.$el.append(b.render().el),this.views[a.cid]=b},removeItem:function(a){this.views[a.cid]&&(this.views[a.cid].$el.remove(),delete this.views[a.cid])}}),j=a.View.extend({tagName:"li",template:"<a></a>",context:null,events:{click:"handleClick"},initialize:function(a){this.context=a.context,this.listenTo(this.model,"change",this.render)},handleClick:function(a){a.preventDefault(),this.model.get("disabled")||this.model.get("action")&&this.model.get("action").call(this.context)},render:function(){this.$el.html(this.template);var b=a.$("a",this.$el);return b.append(a.$('<i class="icon-'+this.model.get("icon")+'"></i>')),b.append(this.model.get("label")),this.model.get("disabled")?this.$el.addClass("disabled"):this.$el.removeClass("disabled"),this}});window.ActionBar=e,window.ContextBar=f}(Backbone),function(){var b=Backbone.Model.extend({$:function(a){return this.$el.find(a)},initialize:function(){this.el=document.createElement("div"),this.el.className="dataflow",this.$el=$(this.el);var a=Dataflow.prototype.module("card");if(this.shownCards=new a.Collection,this.shownCards.view=new a.CollectionView({collection:this.shownCards}),this.$el.append(this.shownCards.view.$el),this.debug=this.get("debug"),this.controls=this.get("controls"),this.controls!==!1&&(this.controls=!0),this.controls){this.prepareActionBar(),this.renderActionBar();for(var b in this.plugins)this.plugins[b].initialize&&this.plugins[b].initialize(this)}this.inputs=this.get("inputs"),this.inputs!==!1&&(this.inputs=!0),this.editable=this.get("editable"),this.editable!==!1&&(this.editable=!0);var c=this.get("appendTo");c=c?c:"body","body"===c&&$("html, body").css({margin:"0px",padding:"0px",width:"100%",height:"100%"}),$(c).append(this.el),this.id||(this.id=$(c).attr("id")),this.loadState()},prepareActionBar:function(){this.actionBar=new ActionBar({},this),this.actionBar.get("control").set({label:"Dataflow",icon:"retweet"}),this.contextBar=new ContextBar({},this),this.contextBar.get("control").set({label:"1 selected",icon:"ok",action:function(){this.currentGraph&&this.currentGraph.view&&this.currentGraph.view.deselect()}})},renderActionBar:function(){this.$el.append(this.actionBar.render()),this.$(".brand").attr({href:"https://github.com/meemoo/dataflow",target:"_blank"}),this.$el.append(this.contextBar.render()),this.contextBar.view.$el.hide()},modules:{},module:function(a){return this.modules[a]?this.modules[a]:(this.modules[a]={},this.modules[a])},nodes:{},node:function(a){return this.nodes[a]?this.nodes[a]:(this.nodes[a]={},this.nodes[a])},plugins:{},plugin:function(a){return this.plugins[a]?this.plugins[a]:(this.plugins[a]={},this.plugins[a])},addCard:function(a,b){b||this.hideCards(),this.shownCards.get(a)?this.shownCards.view.bringToTop(a):this.shownCards.add(a)},removeCard:function(a){this.shownCards.remove(a)},hideCards:function(){var a=this.shownCards.where({pinned:!1});this.shownCards.remove(a)},addPlugin:function(a){if(a.menu){var b=Dataflow.prototype.module("card"),c=new b.Model({dataflow:this,card:{el:a.menu},pinned:a.pinned?!0:!1});this.actionBar.get("actions").add({id:a.id,icon:a.icon,label:a.name,showLabel:!1,action:function(){this.addCard(c)}})}},showContextBar:function(){this.actionBar.view.$el.hide(),this.contextBar.view.$el.show()},hideContextBar:function(){this.contextBar.view.$el.hide(),this.actionBar.view.$el.show()},contexts:{},addContext:function(a){for(var b=0;b<a.contexts.length;b++){var c=a.contexts[b];this.contexts[c]||(this.contexts[c]=[]),this.contexts[c].push(a)}},changeContext:function(a){return this.contextBar?(a.length>1?(this.contextBar.get("control").set({label:a.length+" selected"}),this.contextBar.get("actions").reset(),this.contextBar.get("actions").add(this.contexts.twoplus),this.showContextBar()):1===a.length?(this.contextBar.get("control").set({label:"1 selected"}),this.contextBar.get("actions").reset(),this.contextBar.get("actions").add(this.contexts.one),this.showContextBar()):this.hideContextBar(),void 0):!1},loadGraph:function(a){this.graph&&(this.currentGraph.view&&this.currentGraph.view.remove(),this.graph.view&&this.graph.view.remove(),this.graph.remove());var b=this.module("graph");a.dataflow=this;var c=new b.Model(a);return c.view=new b.View({model:c}),this.$el.append(c.view.render().el),this.graph=this.currentGraph=c,c},showGraph:function(a){this.currentGraph.view.$el.detach(),this.$el.append(a.view.el),a.view.render(),this.currentGraph=a},debug:!1,log:function(a){this.trigger("log",a,arguments),this.debug&&console.log("Dataflow: ",arguments)},types:["all","canvas:2d","canvas:webgl","string","number","int","object","array"]});window.Dataflow=b,"object"==typeof a&&(a.Dataflow=b),Backbone.View.prototype.addEvents=function(a){this.delegateEvents(_.extend(_.clone(this.events),a))},Backbone.CollectionView=Backbone.Model.extend({prepend:!1,initialize:function(a){this.el=document.createElement(this.tagName),this.el.className=this.className,this.$el=$(this.el),this.parent=a.parent;var b=this.get("collection");b.each(this.addItem,this),b.on("add",this.addItem,this),b.on("remove",this.removeItem,this)},addItem:function(a){a.view||(a.view=new this.itemView({model:a,parent:this.parent}),a.view.render()),this.prepend?this.$el.prepend(a.view.el):this.$el.append(a.view.el)},removeItem:function(a){a.view.remove()}})}(),function(a){var b=Backbone.Model.extend({});a.prototype.loadState=function(){var a="dataflow-"+(this.id?this.id:this.cid),c=JSON.parse(window.localStorage.getItem(a));c||(c={});var d=new b(c);this.set("state",d),d.on("change",function(b){window.localStorage.setItem(a,JSON.stringify(b.toJSON()))})}}(Dataflow),function(a){var b=a.prototype.module("graph"),c=a.prototype.module("node"),d=a.prototype.module("edge");b.Model=Backbone.Model.extend({defaults:{nodes:[],edges:[],panX:0,panY:0,zoom:1},initialize:function(){this.dataflow=this.get("dataflow");var a,b=this.nodes=new c.Collection;b.parentGraph=this,b.on("all",function(){this.trigger("change")},this),b.on("add",function(a){this.dataflow.trigger("node:add",this,a)},this),b.on("remove",function(a){a.remove(),this.dataflow.trigger("node:remove",this,a)},this);var e=this.get("nodes");for(a=0;a<e.length;a++){var f=e[a];f.parentGraph=this,f.type&&this.dataflow.nodes[f.type]?(f=new this.dataflow.nodes[f.type].Model(f),b.add(f)):this.dataflow.log("node "+f.id+" not added: node type ("+f.type+") not found",f)}var g=this.edges=new d.Collection;g.parentGraph=this,g.on("all",function(){this.trigger("change")},this),g.on("add",function(a){this.dataflow.trigger("edge:add",this,a)},this),g.on("remove",function(a){this.dataflow.trigger("edge:remove",this,a)},this);var h=this.get("edges");for(a=0;a<h.length;a++){var i=h[a];i.parentGraph=this,i.id=i.source.node+":"+i.source.port+"::"+i.target.node+":"+i.target.port;var j=b.get(i.source.node),k=b.get(i.target.node);j&&k&&j.outputs.get(i.source.port)&&k.inputs.get(i.target.port)?(i=new d.Model(i),g.add(i)):this.dataflow.log("edge "+i.id+" not added: node or port not found",i)}this.set({nodes:b,edges:g}),this.on("selectionChanged",this.selectionChanged,this),this.on("select:node",this.selectNode,this),this.on("select:edge",this.selectEdge,this),this.on("change",function(){this.dataflow.trigger("change",this)},this)},selectNode:function(a){this.dataflow.trigger("select:node",this,a)},selectEdge:function(a){this.dataflow.trigger("select:edge",this,a)},selectionChanged:function(){this.selected=this.nodes.where({selected:!0}),this.dataflow.changeContext(this.selected)},remove:function(){for(;this.nodes.length>0;)this.nodes.remove(this.nodes.at(this.nodes.length-1))},toJSON:function(){return{nodes:this.nodes,edges:this.edges}}})}(Dataflow),function(a){var b=a.prototype.module("node"),c=a.prototype.module("input"),d=a.prototype.module("output");b.Model=Backbone.Model.extend({defaults:function(){return{label:"",type:"test",x:200,y:100,state:{},selected:!1}},initialize:function(){this.parentGraph=this.get("parentGraph"),this.type=this.get("type"),""===this.get("label")&&this.set({label:this.get("type")});var a=this.inputs;this.inputs=new c.Collection,this.inputs.parentNode=this;for(var b=0;b<a.length;b++){var e=a[b],f=this.get("state");void 0!==e.value&&void 0===f[e.id]&&(f[e.id]=e.value),e.parentNode=this,e=new c.Model(e),this.inputs.add(e)}var g=this.outputs;for(this.outputs=new d.Collection,this.outputs.parentNode=this,b=0;b<g.length;b++){var h=g[b];h.parentNode=this,h=new d.Model(h),this.outputs.add(h)}this.on("change:selected",this.changeSelected,this)},changeSelected:function(){this.get("selected")&&this.parentGraph.trigger("select:node",this)},setState:function(a,b){var c=this.get("state");c[a]!==b&&(c[a]=b,this["input"+a]&&this["input"+a](b),this.trigger("change:state",a,b))},setBang:function(a){this["input"+a]&&this["input"+a](),this.trigger("bang",a)},send:function(a,b){var c=this;_.defer(function(){c.trigger("send:"+a,b)})},recieve:function(a,b){"function"==typeof this["input"+a]?this["input"+a](b):this["_"+a]=b},remove:function(){this.inputs.each(function(a){a.remove()}),this.outputs.each(function(a){a.remove()}),this.unload(),this.collection.remove(this)},unload:function(){},toString:function(){return this.id+" ("+this.type+")"},toJSON:function(){return{id:this.get("id"),label:this.get("label"),type:this.get("type"),x:this.get("x"),y:this.get("y"),state:this.get("state")}},inputs:[],outputs:[]}),b.Collection=Backbone.Collection.extend({model:b.Model,comparator:function(a){return a.get("x")}})}(Dataflow),function(a){var b=a.prototype.module("input");b.Model=Backbone.Model.extend({defaults:{id:"input",label:"",type:"all",description:""},initialize:function(){this.parentNode=this.get("parentNode"),""===this.get("label")&&this.set({label:this.id}),this.connected=[]},connect:function(a){this.connected.push(a),this.connected=_.uniq(this.connected)},disconnect:function(a){this.connected=_.without(this.connected,a)},remove:function(){for(;this.connected.length>0;)this.connected[0].remove()}}),b.Collection=Backbone.Collection.extend({model:b.Model})}(Dataflow),function(a){var b=a.prototype.module("input"),c=a.prototype.module("output");c.Model=b.Model.extend({defaults:{id:"output",label:"",type:"all",description:""}}),c.Collection=Backbone.Collection.extend({model:c.Model})}(Dataflow),function(a){var b=a.prototype.module("edge");b.Model=Backbone.Model.extend({defaults:{z:0,route:0,selected:!1},initialize:function(){var a,b,c,d=this.get("preview");if(this.parentGraph=this.get("parentGraph"),d){a=this.get("parentGraph").nodes;var e=this.get("source"),f=this.get("target");e?(b=a.get(this.get("source").node),this.source=b.outputs.get(this.get("source").port)):f&&(c=a.get(this.get("target").node),this.target=c.inputs.get(this.get("target").port))}else{a=this.parentGraph.nodes;try{b=a.get(this.get("source").node),this.source=b.outputs.get(this.get("source").port),c=a.get(this.get("target").node),this.target=c.inputs.get(this.get("target").port)}catch(g){}this.source.connect(this),this.target.connect(this),b.on("send:"+this.source.id,this.send,this),this.bringToTop(),this.on("select",this.select,this)}},select:function(){this.parentGraph.trigger("select:edge",this)},send:function(a){this.target.parentNode.recieve(this.target.id,a)},isConnectedToPort:function(a){return this.source===a||this.target===a},isConnectedToNode:function(a){return this.source.parentNode===a||this.target.parentNode===a},toString:function(){return this.get("source").node+":"+this.get("source").port+"::"+this.get("target").node+":"+this.get("target").port},toJSON:function(){return{source:this.get("source"),target:this.get("target"),route:this.get("route")}},bringToTop:function(){var a=0;this.parentGraph.edges.each(function(b){if(b!==this){var c=b.get("z");c>a&&(a=c),b.view&&b.view.unhighlight()}},this),this.set("z",a+1)},remove:function(){this.source.disconnect(this),this.target.disconnect(this),this.collection&&this.collection.remove(this),this.source.parentNode.off("send:"+this.source.id,this.send,this)}}),b.Collection=Backbone.Collection.extend({model:b.Model,comparator:function(a){return a.get("z")}})}(Dataflow),function(a){var b=a.prototype.module("graph");a.prototype.module("node");var c=a.prototype.module("edge"),d=.2,e=1.1;document.createElement("div").style.hasOwnProperty("zoom");var f='<div class="dataflow-graph-panzoom"><div class="dataflow-graph zoom-normal"><div class="dataflow-edges"><svg class="dataflow-svg-edges" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="800" height="800"></svg></div><div class="dataflow-nodes" /></div></div><div class="dataflow-graph-controls"><button class="dataflow-graph-gotoparent"><i class="icon-chevron-left"></i> back to parent</button></div>';b.View=Backbone.View.extend({template:_.template(f),className:"dataflow-g",events:{"click .dataflow-graph":"deselect","dragstart .dataflow-graph-panzoom":"panStart","drag .dataflow-graph-panzoom":"pan","dragstop .dataflow-graph-panzoom":"panStop","click .dataflow-graph-gotoparent":"gotoParent",mousewheel:"mouseWheel"},initialize:function(){this.$el.html(this.template(this.model.toJSON()));var a=this.model.get("nodes"),b=this.model.get("edges");this.nodes=a.view={},this.model.nodes.each(this.addNode,this),this.model.nodes.on("add",this.addNode,this),this.model.nodes.on("remove",this.removeNode,this),this.edges=b.view={},this.model.edges.each(this.addEdge,this),this.model.edges.on("add",this.addEdge,this),this.model.edges.on("remove",this.removeEdge,this);var c=this.model.get("parentNode");c||this.$(".dataflow-graph-controls").hide(),this.$(".dataflow-graph-panzoom").draggable({helper:function(){var a=$("<div>");return this.model.dataflow.$el.append(a),a}.bind(this)}),this.$graphEl=this.$(".dataflow-graph"),this.graphEl=this.$(".dataflow-graph")[0],this.$graphEl.css({transform:"translate3d(0, 0, 0) scale3d(1, 1, 1) ",transformOrigin:"left top"}),this.bindInteraction()},panStartOffset:null,panStart:function(a,b){b&&(this.panStartOffset=b.offset)},pan:function(a,b){if(b){var c=this.model.get("zoom"),d=b.offset.left-this.panStartOffset.left,e=b.offset.top-this.panStartOffset.top;this.$(".dataflow-graph").css({transform:"translate3d("+d/c+"px, "+e/c+"px, 0)"})}},panStop:function(a,b){this.$(".dataflow-graph").css({transform:"translate3d(0, 0, 0)"});var c=this.model.get("zoom"),d=b.offset.left-this.panStartOffset.left,e=b.offset.top-this.panStartOffset.top;this.model.set({panX:this.model.get("panX")+d/c,panY:this.model.get("panY")+e/c})},tempPanX:0,tempPanY:0,setPanDebounce:_.debounce(function(){this.$(".dataflow-graph").css({transform:"translate3d(0, 0, 0)"}),this.model.set({panX:this.model.get("panX")+this.tempPanX,panY:this.model.get("panY")+this.tempPanY}),this.tempPanX=0,this.tempPanY=0},250),mouseWheel:function(a){a.preventDefault();var b=a.originalEvent;this.tempPanX+=b.wheelDeltaX/6,this.tempPanY+=b.wheelDeltaY/6,this.$(".dataflow-graph").css({transform:"translate3d("+this.tempPanX+"px, "+this.tempPanY+"px, 0)"}),this.setPanDebounce()},gotoParent:function(){var a=this.model.get("parentNode");a&&this.model.dataflow.showGraph(a.parentGraph)},bindInteraction:function(){this.bindZoom(),this.bindScroll()},bindZoom:function(){if(window.Hammer){var a,b,c,f,g,h,i,j,k,l,m=this;Hammer(this.$(".dataflow-graph-panzoom")[0]).on("transformstart",function(d){a=m.model.get("zoom"),b=d.gesture.center.pageX,c=d.gesture.center.pageY,f=b/a,g=c/a;var e=m.$el.offset();k=f-e.left,l=g-e.top,m.$graphEl.css({transformOrigin:f+"px "+g+"px"})}).on("transform",function(f){h=Math.max(d/a,Math.min(f.gesture.scale,e/a)),i=(f.gesture.center.pageX-b)/a,j=(f.gesture.center.pageY-c)/a,m.$graphEl.css({transform:"translate3d("+i+"px,"+j+"px, 0) "+"scale3d("+h+","+h+", 1) "})}).on("transformend",function(){m.$graphEl.css({transform:"translate3d(0, 0, 0) scale3d(1, 1, 1) "});var b=a*h;b=Math.max(d,Math.min(b,e)),m.model.set("zoom",b),k*=b,l*=b,m.model.set({panX:m.model.get("panX")+i,panY:m.model.get("panY")+j}),console.log(m.model.attributes)});var n=function(){var a=m.model.get("zoom"),b=m.zoomClass;m.zoomClass=.5>a?"zoom-tiny":.8>a?"zoom-small":1.3>a?"zoom-normal":"zoom-big",m.$graphEl.removeClass(b).addClass(m.zoomClass),m.graphEl.style.zoom=m.model.get("zoom")};this.model.on("change:zoom",n),1!==this.model.get("zoom")&&n()}},zoomClass:1,zoomIn:function(){var a=this.model.get("zoom"),b=.9*a;b=Math.max(d,b),b!==a&&this.model.set("zoom",b)},zoomOut:function(){var a=this.model.get("zoom"),b=1.1*a;b=Math.min(e,b),b!==a&&this.model.set("zoom",b)},zoomCenter:function(){var a=this.model.get("zoom"),b=1;b!==a&&this.model.set("zoom",1)},bindScroll:function(){},render:function(){var a=this;return _.defer(function(){a.rerenderEdges()},this),this},addNode:function(a){var b=this.model.dataflow.nodes[a.type];if(b&&b.View)a.view=new b.View({model:a,graph:this});else{var c=this.model.dataflow.node("base");a.view=new c.View({model:a,graph:this})}this.nodes[a.id]=a.view,a.view.render(),this.$(".dataflow-nodes").append(a.view.el)},removeNode:function(a){a.view.remove(),this.nodes[a.id]=null,delete this.nodes[a.id]},addEdge:function(a){a.view=new c.View({model:a}),this.edges[a.id]=a.view,a.view.render(),this.$(".dataflow-svg-edges")[0].appendChild(a.view.el)},removeEdge:function(a){a.view&&a.view.remove(),this.edges[a.id]=null,delete this.edges[a.id]},rerenderEdges:function(){_.each(this.edges,function(a){a.render()},this)},sizeSVG:function(){try{var a=this.$(".dataflow-svg-edges")[0],b=a.getBBox(),c=Math.max(Math.round(b.x+b.width+50),50),d=Math.max(Math.round(b.y+b.height+50),50);a.setAttribute("width",c),a.setAttribute("height",d)}catch(e){}},deselect:function(){this.model.nodes.invoke("set",{selected:!1}),this.model.edges.invoke("set",{selected:!1}),this.model.trigger("selectionChanged"),this.unfade(),this.model.dataflow.hideCards()},fade:function(){this.model.nodes.each(function(a){a.view&&a.view.fade()}),this.fadeEdges()},fadeEdges:function(){this.model.edges.each(function(a){a.get("selected")||a.source.parentNode.get("selected")||a.target.parentNode.get("selected")?a.view.unfade():a.view.fade()})},unfade:function(){this.model.nodes.each(function(a){a.view&&a.view.unfade()}),this.model.edges.each(function(a){a.view&&a.view.unfade()})}})}(Dataflow),function(a){var b,c=a.prototype.module("node"),d=a.prototype.module("input"),e=a.prototype.module("output"),f='<div class="outer" /><div class="dataflow-node-header"><h1 class="dataflow-node-title" title="<%- label %>: <%- type %>"><%- label %></h1></div><div class="dataflow-node-ports"><div class="dataflow-node-ins"></div><div class="dataflow-node-outs"></div><div style="clear:both;"></div></div><div class="dataflow-node-inner"></div>',g="";c.View=Backbone.View.extend({template:_.template(f),innerTemplate:_.template(g),className:"dataflow-node",events:function(){return{"click .dataflow-node-header":"select",dragstart:"dragStart",drag:"drag",dragstop:"dragStop"}},initialize:function(a){this.$el.html(this.template(this.model.toJSON())),this.graph=a.graph,this.$el.addClass(this.model.type),this.model.parentGraph.dataflow.editable||this.$(".dataflow-node-edit").hide(),this.inputs=this.model.inputs.view=new d.CollectionView({collection:this.model.inputs,parent:this}),this.outputs=this.model.outputs.view=new e.CollectionView({collection:this.model.outputs,parent:this}),this.$el.draggable({handle:"h1",helper:function(){return $("<div>")}}),this.$el.data("dataflow-node-view",this),this.$(".dataflow-node-inner").append(this.innerTemplate),this.listenTo(this.model.parentGraph,"change:panX change:panY",this.bumpPosition),this.listenTo(this.model,"change:selected",this.selectedChanged),this.listenTo(this.model,"change:label",this.changeLabel),this.$inner=this.$(".dataflow-node-inner")},render:function(){return this.$el.css({left:this.model.get("x")+this.model.parentGraph.get("panX"),top:this.model.get("y")+this.model.parentGraph.get("panY")}),this.$(".dataflow-node-ins").html(this.inputs.el),this.$(".dataflow-node-outs").html(this.outputs.el),this.$(".dataflow-node-controls").hide(),this.$(".label-edit").hide(),this},_alsoDrag:[],_dragDelta:{},$dragHelpers:$('<div class="dataflow-nodes-helpers">'),dragStart:function(a,c){c&&(this.model.get("selected")||this.select(a,!0),a.stopPropagation(),b=this.model.parentGraph.get("zoom"),this.$dragHelpers.css({transform:"translate3d(0,0,0)"}),this.$el.parent().append(this.$dragHelpers),this._alsoDrag=this.model.collection.where({selected:!0}),_.each(this._alsoDrag,function(a){var b=a.view.$el,c=$('<div class="dataflow-node helper">').css({width:b.width(),height:b.height(),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)});this.$dragHelpers.append(c)},this))},changeLabel:function(){var a=this.model.get("label"),b=this.model.get("type");this.$(".dataflow-node-title").text(a).attr("title",a+": "+b)},drag:function(a,c){if(c){a.stopPropagation();var d=(c.position.left-c.originalPosition.left)/b,e=(c.position.top-c.originalPosition.top)/b;this.$dragHelpers.css({transform:"translate3d("+d+"px,"+e+"px,0)"})}},dragStop:function(a,c){if(c){a.stopPropagation(),this.model.parentGraph.get("panX"),this.model.parentGraph.get("panY");var d=(c.position.left-c.originalPosition.left)/b,e=(c.position.top-c.originalPosition.top)/b;this._alsoDrag.length&&(_.each(this._alsoDrag,function(a){a.view.moveToPosition(a.get("x")+d,a.get("y")+e)},this),this._alsoDrag=[]),this.$dragHelpers.empty(),this.$dragHelpers.remove()}},bumpPosition:function(){this.$el.css({left:this.model.get("x")+this.model.parentGraph.get("panX"),top:this.model.get("y")+this.model.parentGraph.get("panY")}),this.model.trigger("change:x change:y")},moveToPosition:function(a,b){this.model.set({x:a,y:b},{silent:!0}),this.bumpPosition()},removeModel:function(){this.model.remove()},bringToTop:function(){var a=0;this.model.collection.each(function(b){var c=parseInt(b.view.el.style.zIndex,10);c>a&&(a=c)},this),this.el.style.zIndex=a+1},select:function(a){a&&a.stopPropagation();var b=!1,c=this.model.get("selected");a&&(a.ctrlKey||a.metaKey)?(b=!0,c=!c,this.model.set("selected",c),c?this.showInspector(!0):(this.fade(),this.hideInspector())):(this.model.parentGraph.edges.invoke("set",{selected:!1}),this.model.parentGraph.nodes.invoke("set",{selected:!1}),this.model.parentGraph.view.fade(),c=!0,this.model.set("selected",!0),this.showInspector()),this.bringToTop(),this.model.parentGraph.view.fadeEdges(),this.model.parentGraph.trigger("selectionChanged")},inspector:null,getInspector:function(){if(!this.inspector){var b=new c.InspectView({model:this.model}),d=a.prototype.module("card");this.inspector=new d.Model({dataflow:this.model.parentGraph.dataflow,card:b})}return this.inspector},showInspector:function(a){this.model.parentGraph.dataflow.addCard(this.getInspector(),a)},hideInspector:function(){this.model.parentGraph.dataflow.removeCard(this.getInspector())},fade:function(){this.$el.addClass("fade"),this.$el.removeClass("ui-selected")},unfade:function(){this.$el.removeClass("fade")},selectedChanged:function(){this.model.get("selected")?this.highlight():this.unhighlight()},highlight:function(){this.$el.removeClass("fade"),this.$el.addClass("ui-selected")},unhighlight:function(){this.$el.removeClass("ui-selected")}})}(Dataflow),function(a){var b=a.prototype.module("input"),c=a.prototype.module("edge"),d='<span class="dataflow-port-plug in" title="drag to edit wire"></span><span class="dataflow-port-hole in" title="drag to make new wire"></span><label class="dataflow-port-label in" title="<%= description %>"><%= label %></label>',e=1;b.View=Backbone.View.extend({template:_.template(d),tagName:"li",className:"dataflow-port dataflow-in",events:{click:"getTopEdge",drop:"connectEdge","dragstart .dataflow-port-hole":"newEdgeStart","drag      .dataflow-port-hole":"newEdgeDrag","dragstop  .dataflow-port-hole":"newEdgeStop","dragstart .dataflow-port-plug":"changeEdgeStart","drag      .dataflow-port-plug":"changeEdgeDrag","dragstop  .dataflow-port-plug":"changeEdgeStop"},$input:null,initialize:function(a){this.$el.html(this.template(this.model.toJSON())),this.$el.addClass(this.model.get("type")),this.parent=a.parent;var b=this.parent.model,c=b.parentGraph;if(this.listenTo(b,"change:x change:y",function(){this._holePosition=null}.bind(this)),this.listenTo(c,"change:panX change:panY",function(){this._holePosition=null}.bind(this)),this.model.parentNode.parentGraph.dataflow.editable){var d=this;if(this.$(".dataflow-port-plug").draggable({cursor:"pointer",helper:function(){var a=$('<span class="dataflow-port-plug in helper" />');return d.parent.graph.$el.append(a),a},disabled:!0,distance:10,delay:100}),this.$(".dataflow-port-hole").draggable({cursor:"pointer",helper:function(){var a=$('<span class="dataflow-port-plug out helper" />').data({port:d.model});return d.parent.graph.$el.append(a),a}}),this.$el.droppable({accept:".dataflow-port-plug.in, .dataflow-port-hole.out",activeClassType:"droppable-hover",refreshPositions:!0}),this.model.parentNode.parentGraph.dataflow.inputs){var e=this.model.get("type"),f=this.model.parentNode.get("state");if(a=this.model.get("options"),void 0!==a&&(_.isString(a)&&(a=a.split(" "),this.model.set("options",a)),_.isArray(a))){for(var g={},h=0;h<a.length;h++)g[a[h]]=a[h];a=g,this.model.set("options",a)}var i,j=this.renderInput(e,a);f&&void 0!==f[this.model.id]?i=f[this.model.id]:void 0!==this.model.get("value")&&(i=this.model.get("value")),this.setInputValue(j,e,i),this.model.parentNode.on("change:state",function(){var a=this.model.parentNode.get("state");a&&void 0!==a[this.model.id]&&this.setInputValue(j,e,a[this.model.id])}.bind(this));var k=$("<label>").append(j).prepend("<span>"+this.model.get("label")+"</span> ");
this.$input=k}}},renderInput:function(a,b){var c;if(b){c=$('<select class="input input-select">');for(var d in b){var e=$('<option value="'+b[d]+'">'+d+"</option>").data("val",b[d]);c.append(e)}return c.change(this.inputSelect.bind(this)),c}switch(a){case"int":case"float":case"number":var f={};return void 0!==this.model.get("min")&&(f.min=this.model.get("min")),void 0!==this.model.get("max")&&(f.max=this.model.get("max")),"int"===a&&(f.step=1),c=$('<input type="number" class="input input-number">').attr(f).addClass("int"===a?"input-int":"input-float"),"int"==a?c.change(this.inputInt.bind(this)):c.change(this.inputFloat.bind(this)),c;case"boolean":return c=$('<input type="checkbox" class="input input-boolean">'),c.change(this.inputBoolean.bind(this)),c;case"object":return c=$('<textarea class="input input-object"></textarea>'),c.on("change, keyup",this.inputObject.bind(this)),c;case"bang":return c=$('<button class="input input-bang">!</button>'),c.click(this.inputBang.bind(this)),c;default:return c=$('<input class="input input-string">'),c.change(this.inputString.bind(this)),c}},setInputValue:function(a,b,c){return a?"SELECT"===a[0].tagName?($("option",a).each(function(){var a=$(this).data("val");$(this).prop("selected",a==c)}),void 0):"boolean"===b?(a.prop("checked",c),void 0):"object"===b?(a.text(JSON.stringify(c,null,2)),void 0):(a.val(c),void 0):void 0},inputSelect:function(a){var b=$(a.target).find(":selected").data("val");this.model.parentNode.setState(this.model.id,b)},inputInt:function(a){this.model.parentNode.setState(this.model.id,parseInt($(a.target).val(),10))},inputFloat:function(a){this.model.parentNode.setState(this.model.id,parseFloat($(a.target).val()))},inputString:function(a){this.model.parentNode.setState(this.model.id,$(a.target).val())},inputBoolean:function(a){this.model.parentNode.setState(this.model.id,$(a.target).prop("checked"))},inputObject:function(a){try{var b=JSON.parse($(a.target).text());this.model.parentNode.setState(this.model.id,b)}catch(c){}},inputBang:function(){this.model.parentNode.setBang(this.model.id)},render:function(){return this},newEdgeStart:function(a,b){if(b){a.stopPropagation(),b.helper.data({route:this.topRoute}),this.previewEdgeNew=new c.Model({target:{node:this.model.parentNode.id,port:this.model.id},parentGraph:this.model.parentNode.parentGraph,preview:!0,route:this.topRoute}),this.previewEdgeNewView=new c.View({model:this.previewEdgeNew});var d=this.model.parentNode.parentGraph.view.$(".dataflow-svg-edges")[0];d.appendChild(this.previewEdgeNewView.el),e=this.model.parentNode.parentGraph.get("zoom")}},newEdgeDrag:function(a,b){if(this.previewEdgeNewView&&b){a.stopPropagation(),b.position.top=a.clientY/e,b.position.left=a.clientX/e;var c=this.model.parentNode.parentGraph.view.el;b.position.left+=c.scrollLeft,b.position.top+=c.scrollTop,this.previewEdgeNewView.render({left:b.position.left-c.scrollLeft,top:b.position.top-c.scrollTop}),this.model.parentNode.parentGraph.view.sizeSVG()}},newEdgeStop:function(a){a.stopPropagation(),this.previewEdgeNewView.remove(),delete this.previewEdgeNew,delete this.previewEdgeNewView},getTopEdge:function(){var a,b=-1;return this.isConnected&&(this.model.parentNode.parentGraph.edges.each(function(c){var d=c.get("z");c.target===this.model&&d>b&&(a=c,b=d),c.view&&c.view.unhighlight()},this),a&&a.view&&a.view.bringToTop()),a},changeEdgeStart:function(a,b){if(b&&(a.stopPropagation(),this.isConnected)){var d=this.getTopEdge();if(d){d.remove(),b&&b.helper.data({port:d.source,route:d.get("route")}),this.previewEdgeChange=new c.Model({source:d.get("source"),route:d.get("route"),parentGraph:this.model.parentNode.parentGraph,preview:!0}),this.previewEdgeChangeView=new c.View({model:this.previewEdgeChange});var f=this.model.parentNode.parentGraph.view.$(".dataflow-svg-edges")[0];f.appendChild(this.previewEdgeChangeView.el),e=this.model.parentNode.parentGraph.get("zoom")}}},changeEdgeDrag:function(a,b){b&&(a.stopPropagation(),this.previewEdgeChange&&(this.previewEdgeChangeView.render(b.offset),this.model.parentNode.parentGraph.view.sizeSVG()))},changeEdgeStop:function(a){a.stopPropagation(),this.previewEdgeChange&&(this.previewEdgeChangeView.remove(),delete this.previewEdgeChange,delete this.previewEdgeChangeView)},connectEdge:function(a,b){var c=b.helper.data("port"),d=this.model.parentNode.parentGraph.edges.length;if(c.parentNode.parentGraph.dataflow!==this.model.parentNode.parentGraph.dataflow)return!1;var e=0;void 0!==b.helper.data("route")&&(e=b.helper.data("route")),this.model.parentNode.parentGraph.edges.add({id:c.parentNode.id+":"+c.id+"::"+this.model.parentNode.id+":"+this.model.id,parentGraph:this.model.parentNode.parentGraph,source:{node:c.parentNode.id,port:c.id},target:{node:this.model.parentNode.id,port:this.model.id},route:e}),b.helper.data("removeChangeEdge",d<this.model.parentNode.parentGraph.edges.length)},_holePosition:null,holePosition:function(){if(!this._holePosition){this.parent||(this.parent=this.options.parent);var a=this.parent.model,b=a.parentGraph;this.parent.graph.$el;var c=this.$el.index(),d=b.get("panX")+a.get("x")+18,e=b.get("panY")+a.get("y")+48+20*c;this._holePosition={left:d,top:e}}return this._holePosition},isConnected:!1,plugSetActive:function(){try{this.$(".dataflow-port-plug").draggable("enable")}catch(a){}this.$(".dataflow-port-plug, .dataflow-port-hole").addClass("active"),this.isConnected=!0},plugCheckActive:function(){var a,b=-1;if(this.model.parentNode.parentGraph.edges.each(function(c){if(c.target===this.model){var d=c.get("z");d>b&&(a=c,b=d)}},this),a)this.bringToTop(a);else{try{this.$(".dataflow-port-plug").draggable("disable")}catch(c){}this.$(".dataflow-port-plug, .dataflow-port-hole").removeClass("active"),this.isConnected=!1}},topRoute:0,bringToTop:function(a){var b=a.get("route");void 0!==b&&(this.$(".dataflow-port-hole, .dataflow-port-plug").removeClass("route"+this.topRoute),this.$(".dataflow-port-hole, .dataflow-port-plug").addClass("route"+b),this.topRoute=b)}}),b.CollectionView=Backbone.CollectionView.extend({tagName:"ul",itemView:b.View})}(Dataflow),function(a){var b=a.prototype.module("output"),c=a.prototype.module("edge"),d='<span class="dataflow-port-label out" title="<%= description %>"><%= label %></span><span class="dataflow-port-hole out" title="drag to make new wire"></span><span class="dataflow-port-plug out" title="drag to edit wire"></span>',e=1;b.View=Backbone.View.extend({template:_.template(d),tagName:"li",className:"dataflow-port dataflow-out",events:{click:"getTopEdge",drop:"connectEdge","dragstart .dataflow-port-hole":"newEdgeStart","drag      .dataflow-port-hole":"newEdgeDrag","dragstop  .dataflow-port-hole":"newEdgeStop","dragstart .dataflow-port-plug":"changeEdgeStart","drag      .dataflow-port-plug":"changeEdgeDrag","dragstop  .dataflow-port-plug":"changeEdgeStop"},initialize:function(a){this.$el.html(this.template(this.model.toJSON())),this.$el.addClass(this.model.get("type")),this.parent=a.parent;var b=this.parent.model,c=b.parentGraph;if(this.listenTo(b,"change:x change:y change:w",function(){this._holePosition=null}.bind(this)),this.listenTo(c,"change:panX change:panY",function(){this._holePosition=null}.bind(this)),this.model.parentNode.parentGraph.dataflow.editable){var d=this;this.$(".dataflow-port-plug").draggable({cursor:"pointer",helper:function(){var a=$('<span class="dataflow-port-plug out helper" />');return d.parent.graph.$el.append(a),a},disabled:!0,distance:10,delay:100}),this.$(".dataflow-port-hole").draggable({cursor:"pointer",helper:function(){var a=$('<span class="dataflow-port-plug in helper" />').data({port:d.model});return d.parent.graph.$el.append(a),a}}),this.$el.droppable({accept:".dataflow-port-plug.out, .dataflow-port-hole.in",activeClassType:"droppable-hover"})}},render:function(){return this},newEdgeStart:function(a,b){if(a.stopPropagation(),b){b.helper.data({route:this.topRoute}),this.previewEdge=new c.Model({source:{node:this.model.parentNode.id,port:this.model.id},parentGraph:this.model.parentNode.parentGraph,preview:!0,route:this.topRoute}),this.previewEdgeView=new c.View({model:this.previewEdge});var d=this.model.parentNode.parentGraph.view.$(".dataflow-svg-edges")[0];d.appendChild(this.previewEdgeView.el),e=this.model.parentNode.parentGraph.get("zoom")}},newEdgeDrag:function(a,b){if(a.stopPropagation(),this.previewEdgeView&&b){b.position.top=a.clientY/e,b.position.left=a.clientX/e;var c=this.model.parentNode.parentGraph.view.el;b.position.left+=c.scrollLeft,b.position.top+=c.scrollTop,this.previewEdgeView.render({left:b.position.left-c.scrollLeft,top:b.position.top-c.scrollTop})}},newEdgeStop:function(a){a.stopPropagation(),this.previewEdgeView.remove(),delete this.previewEdge,delete this.previewEdgeView},getTopEdge:function(){var a,b=-1;return this.isConnected&&(this.model.parentNode.parentGraph.edges.each(function(c){var d=c.get("z");c.source===this.model&&d>b&&(a=c,b=d),c.view&&c.view.unhighlight()},this),a&&a.view&&a.view.bringToTop()),a},changeEdgeStart:function(a,b){if(b&&(a.stopPropagation(),this.isConnected)){var d=this.getTopEdge();if(d){d.remove(),b&&b.helper.data({port:d.target,route:d.get("route")}),this.previewEdgeChange=new c.Model({target:d.get("target"),route:d.get("route"),parentGraph:this.model.parentNode.parentGraph,preview:!0}),this.previewEdgeChangeView=new c.View({model:this.previewEdgeChange});var f=this.model.parentNode.parentGraph.view.$(".dataflow-svg-edges")[0];f.appendChild(this.previewEdgeChangeView.el),e=this.model.parentNode.parentGraph.get("zoom")}}},changeEdgeDrag:function(a,b){b&&(a.stopPropagation(),this.previewEdgeChange&&(this.previewEdgeChangeView.render(b.offset),this.model.parentNode.parentGraph.view.sizeSVG()))},changeEdgeStop:function(a){a.stopPropagation(),this.previewEdgeChange&&(this.previewEdgeChangeView.remove(),delete this.previewEdgeChange,delete this.previewEdgeChangeView)},connectEdge:function(a,b){var c=b.helper.data("port"),d=this.model.parentNode.parentGraph.edges.length;if(c.parentNode.parentGraph.dataflow!==this.model.parentNode.parentGraph.dataflow)return!1;var e=0;void 0!==b.helper.data("route")&&(e=b.helper.data("route")),this.model.parentNode.parentGraph.edges.add({id:this.model.parentNode.id+":"+this.model.id+"::"+c.parentNode.id+":"+c.id,parentGraph:this.model.parentNode.parentGraph,source:{node:this.model.parentNode.id,port:this.model.id},target:{node:c.parentNode.id,port:c.id},route:e}),b.helper.data("removeChangeEdge",d<this.model.parentNode.parentGraph.edges.length)},_holePosition:null,holePosition:function(){if(!this._holePosition){this.parent||(this.parent=this.options.parent);var a=this.parent.model,b=a.parentGraph;this.parent.graph.$el;var c=this.$el.index(),d=void 0!==a.get("w")?a.get("w"):175,e=b.get("panX")+a.get("x")+d-18,f=b.get("panY")+a.get("y")+48+20*c;this._holePosition={left:e,top:f}}return this._holePosition},isConnected:!1,plugSetActive:function(){try{this.$(".dataflow-port-plug").draggable("enable")}catch(a){}this.$(".dataflow-port-plug, .dataflow-port-hole").addClass("active"),this.isConnected=!0},plugCheckActive:function(){var a,b=-1;if(this.model.parentNode.parentGraph.edges.each(function(c){if(c.source===this.model){var d=c.get("z");d>b&&(a=c,b=d)}},this),a)this.bringToTop(a);else{try{this.$(".dataflow-port-plug").draggable("disable")}catch(c){}this.$(".dataflow-port-plug, .dataflow-port-hole").removeClass("active"),this.isConnected=!1}},topRoute:0,bringToTop:function(a){var b=a.get("route");void 0!==b&&(this.$(".dataflow-port-hole").removeClass("route"+this.topRoute),this.$(".dataflow-port-hole").addClass("route"+b),this.topRoute=b)}}),b.CollectionView=Backbone.CollectionView.extend({tagName:"ul",itemView:b.View})}(Dataflow),function(a){var b=a.prototype.module("edge"),c=function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);for(var d in b)"xlink:href"===d?c.setAttributeNS("http://www.w3.org/1999/xlink","href",b[d]):c.setAttribute(d,b[d]);return c},d=function(a,b){a.classList?a.classList.add(b):a.className="dataflow-edge "+b},e=function(a,b){a.classList?a.classList.remove(b):a.className="dataflow-edge"};b.View=Backbone.View.extend({tagName:"div",className:"dataflow-edge",positions:null,initialize:function(){this.positions={from:null,to:null},this.model.source&&this.model.source.parentNode.on("change:x change:y change:w",this.render,this),this.model.target&&this.model.target.parentNode.on("change:x change:y",this.render,this),this.model.source&&this.model.source.view&&(this.model.source.view.plugSetActive(),this.model.source.view.bringToTop(this.model)),this.model.target&&this.model.target.view&&(this.model.target.view.plugSetActive(),this.model.target.view.bringToTop(this.model)),this.el=c("g",{"class":"dataflow-edge"}),this.elEdge=c("path",{"class":"dataflow-edge-wire"}),this.elShadow=c("path",{"class":"dataflow-edge-shadow"}),void 0!==this.model.get("route")&&this.elEdge.setAttribute("class","dataflow-edge-wire route"+this.model.get("route"));var a=this;this.model.on("change:route",function(){a.elEdge.setAttribute("class","dataflow-edge-wire route"+a.model.get("route")),a.bringToTop()}),this.el.appendChild(this.elShadow),this.el.appendChild(this.elEdge),this.el.addEventListener("click",function(b){a.click(b)}),this.listenTo(this.model,"change:selected",this.selectedChange)},render:function(a){var b,c=this.model.source,d=this.model.target;c?this.positions.from=c.view.holePosition():(b=this.model.parentGraph.dataflow.$el.parent().position(),graph=this.model.parentGraph.view.$el,this.positions.from={left:graph.scrollLeft()+a.left-5-b.left,top:graph.scrollTop()+a.top+5-b.top}),d?this.positions.to=d.view.holePosition():(b=this.model.parentGraph.dataflow.$el.parent().position(),graph=this.model.parentGraph.view.$el,this.positions.to={left:graph.scrollLeft()+a.left+15-b.left,top:graph.scrollTop()+a.top+5-b.top});var e=this.edgePath(this.positions);this.elEdge.setAttribute("d",e),this.elShadow.setAttribute("d",e),this.model.parentGraph&&this.model.parentGraph.view&&this.model.parentGraph.view.sizeSVG()},fade:function(){this.model.source.parentNode.get("selected")||this.model.target.parentNode.get("selected")||d(this.el,"fade")},unfade:function(){e(this.el,"fade")},selectedChange:function(){this.model.get("selected")?this.highlight():this.unhighlight()},highlight:function(){d(this.el,"highlight")},unhighlight:function(){e(this.el,"highlight")},edgePath:function(a){var b=20,c=a.to.left-b-(a.from.left+b),d=Math.floor(c/2),e=c-d,f=a.to.top-a.from.top,g=Math.floor(f/2),h=f-g,i="",j="";return Math.abs(f)>Math.abs(c)?f>0?c>0?(i=" L "+(a.from.left+b+d)+" "+(a.from.top+d),j=" L "+(a.to.left-b-e)+" "+(a.to.top-e)):0>c&&(i=" L "+(a.from.left+b+d)+" "+(a.from.top-d),j=" L "+(a.to.left-b-e)+" "+(a.to.top+e)):0>f&&(c>0?(i=" L "+(a.from.left+b+d)+" "+(a.from.top-d),j=" L "+(a.to.left-b-e)+" "+(a.to.top+e)):0>c&&(i=" L "+(a.from.left+b+d)+" "+(a.from.top+d),j=" L "+(a.to.left-b-e)+" "+(a.to.top-e))):Math.abs(f)<Math.abs(c)&&(c>0?f>0?(i=" L "+(a.from.left+b+g)+" "+(a.from.top+g),j=" L "+(a.to.left-b-h)+" "+(a.to.top-h)):0>f&&(i=" L "+(a.from.left+b-g)+" "+(a.from.top+g),j=" L "+(a.to.left-b+h)+" "+(a.to.top-h)):0>c&&(f>0?(i=" L "+(a.from.left+b-g)+" "+(a.from.top+g),j=" L "+(a.to.left-b+h)+" "+(a.to.top-h)):0>f&&(i=" L "+(a.from.left+b+g)+" "+(a.from.top+g),j=" L "+(a.to.left-b-h)+" "+(a.to.top-h)))),"M "+a.from.left+" "+a.from.top+" L "+(a.from.left+b)+" "+a.from.top+i+j+" L "+(a.to.left-b)+" "+a.to.top+" L "+a.to.left+" "+a.to.top},remove:function(){var a=this.model.source,b=this.model.target;a&&a.parentNode.off(null,null,this),b&&b.parentNode.off(null,null,this),a&&a.view.plugCheckActive(),b&&b.view.plugCheckActive(),this.el.parentNode.removeChild(this.el)},click:function(a){a&&a.stopPropagation();var b,c;a&&(a.ctrlKey||a.metaKey)?(b=this.model.get("selected"),b=!b,c=!0):(b=!0,this.model.parentGraph.nodes.invoke("set",{selected:!1}),this.model.collection.invoke("set",{selected:!1})),this.model.set({selected:b}),b?(this.bringToTop(),this.model.trigger("select"),this.unfade(),this.showInspector(c)):this.hideInspector(),this.model.parentGraph.view.fade()},bringToTop:function(){this.model.bringToTop();var a=this.el.parentNode;a&&a.appendChild(this.el),this.model.source.view.bringToTop(this.model),this.model.target.view.bringToTop(this.model)},inspector:null,getInspector:function(){if(!this.inspector){var c=new b.InspectView({model:this.model}),d=a.prototype.module("card");this.inspector=new d.Model({dataflow:this.model.parentGraph.dataflow,card:c})}return this.inspector},showInspector:function(a){this.model.parentGraph.dataflow.addCard(this.getInspector(),a)},hideInspector:function(){this.model.parentGraph.dataflow.removeCard(this.getInspector())}})}(Dataflow),function(a){var b=a.prototype.module("card");b.Model=Backbone.Model.extend({defaults:{pinned:!1},initialize:function(){this.dataflow=this.get("dataflow")},hide:function(){this.dataflow.shownCards.remove(this)}}),b.Collection=Backbone.Collection.extend({model:b.Model})}(Dataflow),function(a){var b=a.prototype.module("card"),c='<div class="dataflow-card-control"><button title="pin" class="dataflow-card-pin icon-pushpin"></button><button title="close" class="dataflow-card-close icon-remove"></button></div>';b.View=Backbone.View.extend({tagName:"div",className:"dataflow-card",template:_.template(c),events:{"click .dataflow-card-pin":"pin","click .dataflow-card-close":"hide"},initialize:function(){this.$el.html(this.template()),this.$el.append(this.model.get("card").el),this.listenTo(this.model,"change:pinned",this.pinnedChanged),this.pinnedChanged()},pin:function(){var a=!this.model.get("pinned");this.model.set("pinned",a),a||this.hide()},pinnedChanged:function(){this.model.get("pinned")?this.$(".dataflow-card-pin").addClass("active"):this.$(".dataflow-card-pin").removeClass("active")},hide:function(){this.model.set("pinned",!1),this.model.hide()},remove:function(){this.$el.detach()}}),b.CollectionView=Backbone.CollectionView.extend({tagName:"div",className:"dataflow-cards",itemView:b.View,prepend:!0,bringToTop:function(a){this.$el.prepend(a.view.el)}})}(Dataflow),function(a){var b=a.prototype.module("node"),c='<div class="dataflow-plugin-inspector-title"><h1 class="dataflow-node-inspector-label" title="click to edit"><%- label %></h1><h2 class="dataflow-node-inspector-type"><%- type %></h2></div><div class="dataflow-node-inspector-inputs"></div>',d=function(a,b,c){a[0].contentEditable=!0;var d=a.text(),e=function(){b.set(c,a.text())},f=function(){a.text(d)};a.focus(function(){d=a.text()}).blur(function(){e()}).keydown(function(b){27===b.which?(f(),a.blur()):13===b.which&&a.blur()})};b.InspectView=Backbone.View.extend({template:_.template(c),className:"dataflow-node-inspector",events:{},initialize:function(){this.$el.html(this.template(this.model.toJSON()));var a=this.$el.children(".dataflow-node-inspector-inputs");this.model.inputs.each(function(b){b.view&&b.view.$input&&a.append(b.view.$input)},this),d(this.$(".dataflow-node-inspector-label"),this.model,"label")},render:function(){return this},removeModel:function(){this.model.remove()}})}(Dataflow),function(a){var b=a.prototype.module("edge"),c='<div class="dataflow-plugin-inspector-title"><h1>Edge</h1><h2 class="dataflow-edge-inspector-id"><%- id %></h2></div><div class="dataflow-edge-inspector-route-choose"></div>';b.InspectView=Backbone.View.extend({tagName:"div",className:"dataflow-edge-inspector",positions:null,template:_.template(c),initialize:function(){this.$el.html(this.template(this.model));for(var a=this.$el.children(".dataflow-edge-inspector-route-choose"),b=function(a){var b=$(a.target).data("route");this.model.set("route",b)}.bind(this),c=0;12>c;c++){var d=$("<button>").data("route",c).addClass("route"+c).click(b);c===this.model.get("route")&&d.addClass("active"),a.append(d)}this.listenTo(this.model,"change:route",this.render),this.listenTo(this.model,"remove",this.remove)},render:function(){var a=this.model.get("route"),b=this.$el.children(".dataflow-edge-inspector-route-choose");return b.children(".active").removeClass("active"),b.children(".route"+a).addClass("active"),this}})}(Dataflow),function(a){var b=a.prototype.plugin("edit");b.initialize=function(a){function c(){a.currentGraph.nodes.invoke("set",{selected:!0})}function d(){e(),_.each(h.nodes,function(a){a.x-=50,a.y-=50});var b=a.currentGraph.nodes.where({selected:!0});_.each(b,function(a){a.remove()})}function e(){h={},h.nodes=a.currentGraph.nodes.where({selected:!0}),h.nodes=JSON.parse(JSON.stringify(h.nodes)),h.edges=[],a.currentGraph.edges.each(function(a){var b=_.any(h.nodes,function(b){return a.source.parentNode.id===b.id}),c=_.any(h.nodes,function(b){return a.target.parentNode.id===b.id});(b||c)&&h.edges.push(JSON.parse(JSON.stringify(a)))})}function f(){h&&h.nodes&&h.nodes.length>0&&(a.currentGraph.nodes.invoke("set",{selected:!1}),_.each(h.nodes,function(b){b.x+=50,b.y+=50,b.parentGraph=a.currentGraph,b.selected=!0;for(var c=b.id;a.currentGraph.nodes.get(b.id);)b.id++;c!==b.id&&_.each(h.edges,function(a){a.source.node===c&&(a.source.node=b.id),a.target.node===c&&(a.target.node=b.id)});var d=new a.nodes[b.type].Model(b);a.currentGraph.nodes.add(d),d.view.bringToTop(),d.view.highlight()}),_.each(h.edges,function(b){b=JSON.parse(JSON.stringify(b)),b.parentGraph=a.currentGraph,b.id=b.source.node+":"+b.source.port+"::"+b.target.node+":"+b.target.port;var c=new a.modules.edge.Model(b);a.currentGraph.edges.add(c)})),_.defer(function(){a.currentGraph.view.rerenderEdges()})}var g=$('<div class="dataflow-plugin-edit"><button class="selectall">Select All (A)</button><br /><button class="cut">Cut (X)</button><br /><button class="copy">Copy (C)</button><br /><button class="paste">Paste (V)</button><br /></div>');g.children(".selectall").click(c),b.selectAll=c,g.children(".cut").click(d),b.cut=d;var h={};g.children(".copy").click(e),b.copy=e,g.children(".paste").click(f),b.paste=f,a.addContext({id:"cut",icon:"cut",label:"cut",action:d,contexts:["one","twoplus"]}),a.addContext({id:"copy",icon:"copy",label:"copy",action:e,contexts:["one","twoplus"]}),a.addContext({id:"paste",icon:"paste",label:"paste",action:f,contexts:["one","twoplus"]})}}(Dataflow),function(a){var b=a.prototype.plugin("elements");b.list=[{type:"div",attributes:["id","class","style"],events:["pointermove","pointerover","pointerout"]},{type:"button",attributes:["id","class","style"],events:["pointerdown","pointerup"]}]}(Dataflow),function(a){var b=a.prototype.plugin("library");b.initialize=function(a){var c=$('<div class="dataflow-plugin-overflow">'),d=$('<ul class="dataflow-plugin-library" style="list-style:none; padding:0; margin:15px 0;" />');c.append(d);var e=function(b,c,d){return function(){a.currentGraph.view.$(".dataflow-node").removeClass("ui-selected"),zoom=a.currentGraph.get("zoom");for(var e=1;a.currentGraph.nodes.get(e);)e++;c=void 0===c?200:c,d=void 0===d?200:d,c=c/zoom-a.currentGraph.get("panX"),d=d/zoom-a.currentGraph.get("panY");var f=new b.Model({id:e,x:c,y:d,parentGraph:a.currentGraph});a.currentGraph.nodes.add(f),f.view.select()}},f=function(b,c){var f=$('<a class="button">+</a>').attr("title","click or drag").draggable({helper:function(){var b=$('<div class="dataflow-node helper"><div class="dataflow-node-title">'+c+"</div></div>");return a.$el.append(b),b},stop:function(a,c){e(b,c.position.left,c.position.top).call()}}).click(e(b)),g=$("<li />").append(f).append(c);d.append(g)},g=function(b){b=b?b:{},b.exclude=b.exclude?b.exclude:["base","base-resizable"],d.empty(),_.each(a.nodes,function(a,c){-1===b.exclude.indexOf(c)&&f(a,c)})};g(),a.addPlugin({id:"library",name:"",menu:c,icon:"plus"}),b.update=g}}(Dataflow),function(a){var b=a.prototype.plugin("source");b.initialize=function(a){var c=$('<form class="dataflow-plugin-view-source"><div style=""><textarea class="code" style="width:99%; height:400px;; margin:0; padding: 0;"></textarea><br/></div><input class="apply" type="submit" value="apply changes" style="position: absolute; right:5px; bottom:5px;" /></form>'),d=c.find(".code");d.keydown(function(a){a.stopPropagation()}),a.addPlugin({id:"source",name:"",menu:c,icon:"cog"});var e=function(a){var b=d.prop("scrollTop");d.val(a),d.scrollTop(b)};b.show=e;var f=function(){a.graph&&e(JSON.stringify(a.graph.toJSON(),null,"  "))};b.listeners=function(b){b?a.on("change",f):a.off("change",f)},b.listeners(!0),c.submit(function(){var b;try{b=JSON.parse(d.val())}catch(c){return a.log("Invalid JSON"),!1}if(b){var e=a.loadGraph(b);e.trigger("change")}return!1})}}(Dataflow),function(a){var b=a.prototype.plugin("log");b.initialize=function(a){function c(a){a=_.escape(a),d.children(".loglist").append("<li>"+a+"</li>"),d.scrollTop(d.prop("scrollHeight"))}var d=$('<div class="dataflow-plugin-log dataflow-plugin-overflow"><ol class="loglist"></ol></div>');a.addPlugin({id:"log",name:"",menu:d,icon:"th-list"}),b.add=c;var e=function(a){c("log: "+a)},f=function(a,b){c("node added: "+b.toString())},g=function(a,b){c("node removed: "+b.toString())},h=function(a,b){c("edge added: "+b.toString())},i=function(a,b){c("edge removed: "+b.toString())};b.listeners=function(b){b?(a.on("log",e),a.on("node:add",f),a.on("node:remove",g),a.on("edge:add",h),a.on("edge:remove",i)):(a.off("log",e),a.off("node:add",f),a.off("node:remove",g),a.off("edge:add",h),a.off("edge:remove",i))},b.listeners(!0)}}(Dataflow),function(a){var b=a.prototype.plugin("inspector");b.initialize=function(a){function b(){var b=a.currentGraph.nodes.where({selected:!0});b.forEach(function(b){var c=b.view.getInspector();c.set("pinned",!0),a.addCard(c)});var c=a.currentGraph.edges.where({selected:!0});c.forEach(function(b){var c=b.view.getInspector();c.set("pinned",!0),a.addCard(c)})}a.addContext({id:"inspector",icon:"info-sign",label:"inspect",action:b,contexts:["one","twoplus"]})}}(Dataflow),function(a){var b=a.prototype.plugin("keybinding"),c=a.prototype.plugin("edit");b.initialize=function(a){function d(){a&&a.currentGraph&&a.currentGraph.view&&a.currentGraph.view.zoomIn()}function e(){a&&a.currentGraph&&a.currentGraph.view&&a.currentGraph.view.zoomOut()}function f(){a&&a.currentGraph&&a.currentGraph.view&&a.currentGraph.view.zoomCenter()}function g(a){if(a.ctrlKey||a.metaKey)switch(a.which){case 189:a.preventDefault(),d();break;case 187:a.preventDefault(),e();break;case 48:a.preventDefault(),f();break;case 65:c.selectAll();break;case 88:c.cut();break;case 67:c.copy();break;case 86:c.paste();break;case 90:}}b.listeners=function(a){a?$(document).on("keydown",g):$(document).off("keydown",g)},b.listeners(!0)}}(Dataflow),function(a){var b=a.prototype.module("node"),c=a.prototype.node("base");c.Model=b.Model.extend({defaults:function(){var a=b.Model.prototype.defaults.call(this);return a.type="base",a},initialize:function(){b.Model.prototype.initialize.call(this)},unload:function(){},inputs:[],outputs:[]}),c.View=b.View.extend({})}(Dataflow),function(a){var b=a.prototype.node("base"),c=a.prototype.node("base-resizable");c.Model=b.Model.extend({defaults:function(){var a=b.Model.prototype.defaults.call(this);return a.type="base-resizable",a.w=200,a.h=200,a},initialize:function(){b.Model.prototype.initialize.call(this)},unload:function(){},toJSON:function(){var a=b.Model.prototype.toJSON.call(this);return a.w=this.get("w"),a.h=this.get("h"),a},inputs:[],outputs:[]}),c.View=b.View.extend({initialize:function(a){b.View.prototype.initialize.call(this,a),this.$el.css({width:this.model.get("w"),height:this.model.get("h")});var c=this;this.$el.resizable({helper:"dataflow-node helper",minHeight:100,minWidth:120,stop:function(a,b){c.resizeStop(a,b)}})},resizeStop:function(a,b){this.model.set({w:b.size.width,h:b.size.height})}})}(Dataflow),function(a){var b=a.prototype.node("base-resizable"),c=a.prototype.node("dataflow-subgraph"),d=a.prototype.module("graph"),e=a.prototype.module("input"),f=a.prototype.module("output");c.Model=b.Model.extend({defaults:function(){var a=b.Model.prototype.defaults.call(this);return a.label="subgraph",a.type="dataflow-subgraph",a.graph={nodes:[{id:"1",label:"in",type:"dataflow-input",x:180,y:15},{id:"99",label:"out",type:"dataflow-output",x:975,y:500}]},a},initialize:function(){b.Model.prototype.initialize.call(this);var a=this.get("graph");a.parentNode=this,a.dataflow=this.parentGraph.dataflow,this.graph=new d.Model(a);var c=this.graph.nodes.filter(function(a){return"dataflow-input"===a.type});_.each(c,this.addInput,this);var e=this.graph.nodes.filter(function(a){return"dataflow-output"===a.type});_.each(e,this.addOutput,this),this.graph.nodes.on("add",function(a){"dataflow-input"===a.type?this.addInput(a):"dataflow-output"===a.type&&this.addOutput(a)},this),this.graph.nodes.on("remove",function(a){"dataflow-input"===a.type?this.removeInput(a):"dataflow-output"===a.type&&this.removeOutput(a)},this)},addInput:function(a){var b=new e.Model({id:a.id,label:a.get("label"),type:a.get("input-type"),parentNode:this,inputNode:a});this.inputs.add(b)},recieve:function(a,b){var c=this.inputs.get(a).get("inputNode");c&&c.send("data",b)},addOutput:function(a){var b=new f.Model({id:a.id,label:a.get("label"),type:a.get("output-type"),parentNode:this,outputNode:a});this.outputs.add(b),a.set("parentNode",this)},removeInput:function(a){var b=this.inputs.get(a.id);b.remove(),this.inputs.remove(b)},removeOutput:function(a){var b=this.outputs.get(a.id);b.remove(),this.outputs.remove(b)},toJSON:function(){var a=b.Model.prototype.toJSON.call(this);return a.graph=this.graph,a},remove:function(){b.Model.prototype.remove.call(this),this.graph.remove()},inputs:[],outputs:[]});var g='<button class="show-subgraph">edit subgraph</button>';c.View=b.View.extend({events:function(){var a=b.View.prototype.events.call(this);return a["click .show-subgraph"]="showSubgraph",a},innerTemplate:_.template(g),initialize:function(a){b.View.prototype.initialize.call(this,a),this.model.graph.view=new d.View({model:this.model.graph}),this.model.inputs.each(this.addInput,this),this.model.inputs.on("add",this.addInput,this),this.model.outputs.each(this.addOutput,this),this.model.outputs.on("add",this.addOutput,this)},addInput:function(a){a.get("inputNode")&&a.get("inputNode").on("change:label",function(b){a.view.$(".label").text(b.get("label"))},this)},addOutput:function(a){a.get("outputNode")&&a.get("outputNode").on("change:label",function(b){a.view.$(".label").text(b.get("label"))},this)},showSubgraph:function(){this.model.graph.dataflow.showGraph(this.model.graph)}})}(Dataflow)}),require.register("component-indexof/index.js",function(a,b,c){c.exports=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}}),require.register("component-emitter/index.js",function(a,b,c){function d(a){return a?e(a):void 0}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}var f=b("indexof");c.exports=d,d.prototype.on=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},b._off=c,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;var d=f(c,b._off||b);return~d&&c.splice(d,1),this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}}),require.register("component-underscore/index.js",function(a,b,c){(function(){var b=this,d=b._,e={},f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.unshift,l=g.toString,m=g.hasOwnProperty,n=f.forEach,o=f.map,p=f.reduce,q=f.reduceRight,r=f.filter,s=f.every,t=f.some,u=f.indexOf,v=f.lastIndexOf,w=Array.isArray,x=Object.keys,y=h.bind,z=function(a){return new Q(a)
};"undefined"!=typeof a?("undefined"!=typeof c&&c.exports&&(a=c.exports=z),a._=z):b._=z,z.VERSION="1.3.3";var A=z.each=z.forEach=function(a,b,c){if(null!=a)if(n&&a.forEach===n)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,f=a.length;f>d;d++)if(b.call(c,a[d],d,a)===e)return}else for(var g in a)if(z.has(a,g)&&b.call(c,a[g],g,a)===e)return};z.map=z.collect=function(a,b,c){var d=[];return null==a?d:o&&a.map===o?a.map(b,c):(A(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)},z.reduce=z.foldl=z.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),p&&a.reduce===p)return d&&(b=z.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(A(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},z.reduceRight=z.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),q&&a.reduceRight===q)return d&&(b=z.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=z.toArray(a).reverse();return d&&!e&&(b=z.bind(b,d)),e?z.reduce(f,b,c,d):z.reduce(f,b)},z.find=z.detect=function(a,b,c){var d;return B(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},z.filter=z.select=function(a,b,c){var d=[];return null==a?d:r&&a.filter===r?a.filter(b,c):(A(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},z.reject=function(a,b,c){var d=[];return null==a?d:(A(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},z.every=z.all=function(a,b,c){var d=!0;return null==a?d:s&&a.every===s?a.every(b,c):(A(a,function(a,f,g){return(d=d&&b.call(c,a,f,g))?void 0:e}),!!d)};var B=z.some=z.any=function(a,b,c){b||(b=z.identity);var d=!1;return null==a?d:t&&a.some===t?a.some(b,c):(A(a,function(a,f,g){return d||(d=b.call(c,a,f,g))?e:void 0}),!!d)};z.include=z.contains=function(a,b){var c=!1;return null==a?c:u&&a.indexOf===u?-1!=a.indexOf(b):c=B(a,function(a){return a===b})},z.invoke=function(a,b){var c=j.call(arguments,2);return z.map(a,function(a){return(z.isFunction(b)?b:a[b]).apply(a,c)})},z.pluck=function(a,b){return z.map(a,function(a){return a[b]})},z.max=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&z.isEmpty(a))return-1/0;var d={computed:-1/0};return A(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},z.min=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&z.isEmpty(a))return 1/0;var d={computed:1/0};return A(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},z.shuffle=function(a){var b,c=0,d=[];return A(a,function(a){b=Math.floor(Math.random()*++c),d[c-1]=d[b],d[b]=a}),d},z.sortBy=function(a,b,c){var d=C(a,b);return z.pluck(z.map(a,function(a,b,e){return{value:a,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return void 0===c?1:void 0===d?-1:d>c?-1:c>d?1:0}),"value")};var C=function(a,b){return z.isFunction(b)?b:function(a){return a[b]}},D=function(a,b,c){var d={},e=C(a,b);return A(a,function(a,b){var f=e(a,b);c(d,f,a)}),d};z.groupBy=function(a,b){return D(a,b,function(a,b,c){(a[b]||(a[b]=[])).push(c)})},z.countBy=function(a,b){return D(a,b,function(a,b){a[b]||(a[b]=0),a[b]++})},z.sortedIndex=function(a,b,c){c||(c=z.identity);for(var d=c(b),e=0,f=a.length;f>e;){var g=e+f>>1;c(a[g])<d?e=g+1:f=g}return e},z.toArray=function(a){return a?z.isArray(a)?j.call(a):z.isArguments(a)?j.call(a):a.toArray&&z.isFunction(a.toArray)?a.toArray():z.values(a):[]},z.size=function(a){return z.isArray(a)?a.length:z.keys(a).length},z.first=z.head=z.take=function(a,b,c){return null==b||c?a[0]:j.call(a,0,b)},z.initial=function(a,b,c){return j.call(a,0,a.length-(null==b||c?1:b))},z.last=function(a,b,c){return null==b||c?a[a.length-1]:j.call(a,Math.max(a.length-b,0))},z.rest=z.tail=function(a,b,c){return j.call(a,null==b||c?1:b)},z.compact=function(a){return z.filter(a,function(a){return!!a})};var E=function(a,b,c){return A(a,function(a){z.isArray(a)?b?i.apply(c,a):E(a,b,c):c.push(a)}),c};z.flatten=function(a,b){return E(a,b,[])},z.without=function(a){return z.difference(a,j.call(arguments,1))},z.uniq=z.unique=function(a,b,c){var d=c?z.map(a,c):a,e=[];return z.reduce(d,function(c,d,f){return(b?z.last(c)===d&&c.length:z.include(c,d))||(c.push(d),e.push(a[f])),c},[]),e},z.union=function(){return z.uniq(E(arguments,!0,[]))},z.intersection=function(a){var b=j.call(arguments,1);return z.filter(z.uniq(a),function(a){return z.every(b,function(b){return z.indexOf(b,a)>=0})})},z.difference=function(a){var b=E(j.call(arguments,1),!0,[]);return z.filter(a,function(a){return!z.include(b,a)})},z.zip=function(){for(var a=j.call(arguments),b=z.max(z.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=z.pluck(a,""+d);return c},z.zipObject=function(a,b){for(var c={},d=0,e=a.length;e>d;d++)c[a[d]]=b[d];return c},z.indexOf=function(a,b,c){if(null==a)return-1;var d,e;if(c)return d=z.sortedIndex(a,b),a[d]===b?d:-1;if(u&&a.indexOf===u)return a.indexOf(b);for(d=0,e=a.length;e>d;d++)if(a[d]===b)return d;return-1},z.lastIndexOf=function(a,b){if(null==a)return-1;if(v&&a.lastIndexOf===v)return a.lastIndexOf(b);for(var c=a.length;c--;)if(a[c]===b)return c;return-1},z.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var F=function(){};z.bind=function(a,b){var c,d;if(a.bind===y&&y)return y.apply(a,j.call(arguments,1));if(!z.isFunction(a))throw new TypeError;return d=j.call(arguments,2),c=function(){if(!(this instanceof c))return a.apply(b,d.concat(j.call(arguments)));F.prototype=a.prototype;var e=new F,f=a.apply(e,d.concat(j.call(arguments)));return Object(f)===f?f:e}},z.bindAll=function(a){var b=j.call(arguments,1);return 0==b.length&&(b=z.functions(a)),A(b,function(b){a[b]=z.bind(a[b],a)}),a},z.memoize=function(a,b){var c={};return b||(b=z.identity),function(){var d=b.apply(this,arguments);return z.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},z.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},z.defer=function(a){return z.delay.apply(z,[a,1].concat(j.call(arguments,1)))},z.throttle=function(a,b){var c,d,e,f,g,h,i=z.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var j=function(){e=null,g&&a.apply(c,d),i()};return e||(e=setTimeout(j,b)),f?g=!0:(f=!0,h=a.apply(c,d)),i(),h}},z.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}},z.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments))}},z.wrap=function(a,b){return function(){var c=[a].concat(j.call(arguments,0));return b.apply(this,c)}},z.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},z.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},z.keys=x||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)z.has(a,c)&&(b[b.length]=c);return b},z.values=function(a){return z.map(a,z.identity)},z.functions=z.methods=function(a){var b=[];for(var c in a)z.isFunction(a[c])&&b.push(c);return b.sort()},z.extend=function(a){return A(j.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},z.pick=function(a){var b={};return A(E(j.call(arguments,1),!0,[]),function(c){c in a&&(b[c]=a[c])}),b},z.defaults=function(a){return A(j.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},z.clone=function(a){return z.isObject(a)?z.isArray(a)?a.slice():z.extend({},a):a},z.tap=function(a,b){return b(a),a};var G=function(a,b,c){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;if(a._chain&&(a=a._wrapped),b._chain&&(b=b._wrapped),a.isEqual&&z.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&z.isFunction(b.isEqual))return b.isEqual(a);var d=l.call(a);if(d!=l.call(b))return!1;switch(d){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var e=c.length;e--;)if(c[e]==a)return!0;c.push(a);var f=0,g=!0;if("[object Array]"==d){if(f=a.length,g=f==b.length)for(;f--&&(g=f in a==f in b&&G(a[f],b[f],c)););}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(var h in a)if(z.has(a,h)&&(f++,!(g=z.has(b,h)&&G(a[h],b[h],c))))break;if(g){for(h in b)if(z.has(b,h)&&!f--)break;g=!f}}return c.pop(),g};z.isEqual=function(a,b){return G(a,b,[])},z.isEmpty=function(a){if(null==a)return!0;if(z.isArray(a)||z.isString(a))return 0===a.length;for(var b in a)if(z.has(a,b))return!1;return!0},z.isElement=function(a){return!(!a||1!=a.nodeType)},z.isArray=w||function(a){return"[object Array]"==l.call(a)},z.isObject=function(a){return a===Object(a)},A(["Arguments","Function","String","Number","Date","RegExp"],function(a){z["is"+a]=function(b){return l.call(b)=="[object "+a+"]"}}),z.isArguments(arguments)||(z.isArguments=function(a){return!(!a||!z.has(a,"callee"))}),z.isFinite=function(a){return z.isNumber(a)&&isFinite(a)},z.isNaN=function(a){return a!==a},z.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==l.call(a)},z.isNull=function(a){return null===a},z.isUndefined=function(a){return void 0===a},z.has=function(a,b){return m.call(a,b)},z.noConflict=function(){return b._=d,this},z.identity=function(a){return a},z.times=function(a,b,c){for(var d=0;a>d;d++)b.call(c,d)};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},I=/[&<>"'\/]/g;z.escape=function(a){return(""+a).replace(I,function(a){return H[a]})},z.result=function(a,b){if(null==a)return null;var c=a[b];return z.isFunction(c)?c.call(a):c},z.mixin=function(a){A(z.functions(a),function(b){S(b,z[b]=a[b])})};var J=0;z.uniqueId=function(a){var b=J++;return a?a+b:b},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/.^/,L={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var M in L)L[L[M]]=M;var N=/\\|'|\r|\n|\t|\u2028|\u2029/g,O=/\\(\\|'|r|n|t|u2028|u2029)/g,P=function(a){return a.replace(O,function(a,b){return L[b]})};z.template=function(a,b,c){c=z.defaults(c||{},z.templateSettings);var d="__p+='"+a.replace(N,function(a){return"\\"+L[a]}).replace(c.escape||K,function(a,b){return"'+\n((__t=("+P(b)+"))==null?'':_.escape(__t))+\n'"}).replace(c.interpolate||K,function(a,b){return"'+\n((__t=("+P(b)+"))==null?'':__t)+\n'"}).replace(c.evaluate||K,function(a,b){return"';\n"+P(b)+"\n__p+='"})+"';\n";c.variable||(d="with(obj||{}){\n"+d+"}\n"),d="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'')};\n"+d+"return __p;\n";var e=new Function(c.variable||"obj","_",d);if(b)return e(b,z);var f=function(a){return e.call(this,a,z)};return f.source="function("+(c.variable||"obj")+"){\n"+d+"}",f},z.chain=function(a){return z(a).chain()};var Q=function(a){this._wrapped=a};z.prototype=Q.prototype;var R=function(a,b){return b?z(a).chain():a},S=function(a,b){Q.prototype[a]=function(){var a=j.call(arguments);return k.call(a,this._wrapped),R(b.apply(z,a),this._chain)}};z.mixin(z),A(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];Q.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],R(c,this._chain)}}),A(["concat","join","slice"],function(a){var b=f[a];Q.prototype[a]=function(){return R(b.apply(this._wrapped,arguments),this._chain)}}),Q.prototype.chain=function(){return this._chain=!0,this},Q.prototype.value=function(){return this._wrapped}}).call(this)}),require.register("noflo-fbp/lib/fbp.js",function(a,b,c){c.exports=function(){function a(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var b={parse:function(b,c){function d(a){D>B||(B>D&&(D=B,E=[]),E.push(a))}function e(){var a,b,c;for(c=B,a=[],b=f();null!==b;)a.push(b),b=f();return null!==a&&(a=function(){return y.getResult()}(c)),null===a&&(B=c),a}function f(){var a,c,e,f,j,k,l,m,n;if(m=B,n=B,a=t(),null!==a)if("EXPORT="===b.substr(B,7)?(c="EXPORT=",B+=7):(c=null,0===C&&d('"EXPORT="')),null!==c){if(/^[A-Z.]/.test(b.charAt(B))?(f=b.charAt(B),B++):(f=null,0===C&&d("[A-Z.]")),null!==f)for(e=[];null!==f;)e.push(f),/^[A-Z.]/.test(b.charAt(B))?(f=b.charAt(B),B++):(f=null,0===C&&d("[A-Z.]"));else e=null;if(null!==e)if(58===b.charCodeAt(B)?(f=":",B++):(f=null,0===C&&d('":"')),null!==f){if(/^[A-Z]/.test(b.charAt(B))?(k=b.charAt(B),B++):(k=null,0===C&&d("[A-Z]")),null!==k)for(j=[];null!==k;)j.push(k),/^[A-Z]/.test(b.charAt(B))?(k=b.charAt(B),B++):(k=null,0===C&&d("[A-Z]"));else j=null;null!==j?(k=t(),null!==k?(l=g(),l=null!==l?l:"",null!==l?a=[a,c,e,f,j,k,l]:(a=null,B=n)):(a=null,B=n)):(a=null,B=n)}else a=null,B=n;else a=null,B=n}else a=null,B=n;else a=null,B=n;return null!==a&&(a=function(a,b,c){return y.registerExports(b.join(""),c.join(""))}(m,a[2],a[4])),null===a&&(B=m),null===a&&(m=B,a=h(),null!==a?(/^[\n\r\u2028\u2029]/.test(b.charAt(B))?(c=b.charAt(B),B++):(c=null,0===C&&d("[\\n\\r\\u2028\\u2029]")),c=null!==c?c:"",null!==c?a=[a,c]:(a=null,B=m)):(a=null,B=m),null===a&&(m=B,a=t(),null!==a?(/^[\n\r\u2028\u2029]/.test(b.charAt(B))?(c=b.charAt(B),B++):(c=null,0===C&&d("[\\n\\r\\u2028\\u2029]")),null!==c?a=[a,c]:(a=null,B=m)):(a=null,B=m),null===a&&(m=B,n=B,a=t(),null!==a?(c=i(),null!==c?(e=t(),null!==e?(f=g(),f=null!==f?f:"",null!==f?a=[a,c,e,f]:(a=null,B=n)):(a=null,B=n)):(a=null,B=n)):(a=null,B=n),null!==a&&(a=function(a,b){return y.registerEdges(b)}(m,a[1])),null===a&&(B=m)))),a}function g(){var a,c,e,f,g;return g=B,a=t(),null!==a?(44===b.charCodeAt(B)?(c=",",B++):(c=null,0===C&&d('","')),c=null!==c?c:"",null!==c?(e=h(),e=null!==e?e:"",null!==e?(/^[\n\r\u2028\u2029]/.test(b.charAt(B))?(f=b.charAt(B),B++):(f=null,0===C&&d("[\\n\\r\\u2028\\u2029]")),f=null!==f?f:"",null!==f?a=[a,c,e,f]:(a=null,B=g)):(a=null,B=g)):(a=null,B=g)):(a=null,B=g),a}function h(){var a,c,e,f,g;if(g=B,a=t(),null!==a)if(35===b.charCodeAt(B)?(c="#",B++):(c=null,0===C&&d('"#"')),null!==c){for(e=[],f=r();null!==f;)e.push(f),f=r();null!==e?a=[a,c,e]:(a=null,B=g)}else a=null,B=g;else a=null,B=g;return a}function i(){var a,c,e,f,g,h,k;return h=B,k=B,a=j(),null!==a?(c=t(),null!==c?("->"===b.substr(B,2)?(e="->",B+=2):(e=null,0===C&&d('"->"')),null!==e?(f=t(),null!==f?(g=i(),null!==g?a=[a,c,e,f,g]:(a=null,B=k)):(a=null,B=k)):(a=null,B=k)):(a=null,B=k)):(a=null,B=k),null!==a&&(a=function(a,b,c){return[b,c]}(h,a[0],a[4])),null===a&&(B=h),null===a&&(a=j()),a}function j(){var a,b,c,d,e,f,g;return f=B,g=B,a=q(),null!==a?(b=t(),null!==b?(c=n(),null!==c?(d=t(),null!==d?(e=q(),null!==e?a=[a,b,c,d,e]:(a=null,B=g)):(a=null,B=g)):(a=null,B=g)):(a=null,B=g)):(a=null,B=g),null!==a&&(a=function(a,b,c,d){return[{tgt:{process:c,port:b}},{src:{process:c,port:d}}]}(f,a[0],a[2],a[4])),null===a&&(B=f),null===a&&(a=l(),null===a&&(a=m(),null===a&&(a=k()))),a}function k(){var a,b,c,d,e;return d=B,e=B,a=n(),null!==a?(b=t(),null!==b?(c=q(),null!==c?a=[a,b,c]:(a=null,B=e)):(a=null,B=e)):(a=null,B=e),null!==a&&(a=function(a,b,c){return{src:{process:b,port:c}}}(d,a[0],a[2])),null===a&&(B=d),a}function l(){var a,c,e,f,g;if(f=B,g=B,39===b.charCodeAt(B)?(a="'",B++):(a=null,0===C&&d('"\'"')),null!==a){for(c=[],e=s();null!==e;)c.push(e),e=s();null!==c?(39===b.charCodeAt(B)?(e="'",B++):(e=null,0===C&&d('"\'"')),null!==e?a=[a,c,e]:(a=null,B=g)):(a=null,B=g)}else a=null,B=g;return null!==a&&(a=function(a,b){return{data:b.join("")}}(f,a[1])),null===a&&(B=f),a}function m(){var a,b,c,d,e;return d=B,e=B,a=q(),null!==a?(b=t(),null!==b?(c=n(),null!==c?a=[a,b,c]:(a=null,B=e)):(a=null,B=e)):(a=null,B=e),null!==a&&(a=function(a,b,c){return{tgt:{process:c,port:b}}}(d,a[0],a[2])),null===a&&(B=d),a}function n(){var a,c,e,f;if(e=B,f=B,/^[a-zA-Z]/.test(b.charAt(B))?(c=b.charAt(B),B++):(c=null,0===C&&d("[a-zA-Z]")),null!==c)for(a=[];null!==c;)a.push(c),/^[a-zA-Z]/.test(b.charAt(B))?(c=b.charAt(B),B++):(c=null,0===C&&d("[a-zA-Z]"));else a=null;return null!==a?(c=o(),c=null!==c?c:"",null!==c?a=[a,c]:(a=null,B=f)):(a=null,B=f),null!==a&&(a=function(a,b,c){return c&&y.addNode(b.join(""),c),b.join("")}(e,a[0],a[1])),null===a&&(B=e),a}function o(){var a,c,e,f,g,h;if(g=B,h=B,40===b.charCodeAt(B)?(a="(",B++):(a=null,0===C&&d('"("')),null!==a){if(/^[a-zA-Z\/\-]/.test(b.charAt(B))?(e=b.charAt(B),B++):(e=null,0===C&&d("[a-zA-Z\\/\\-]")),null!==e)for(c=[];null!==e;)c.push(e),/^[a-zA-Z\/\-]/.test(b.charAt(B))?(e=b.charAt(B),B++):(e=null,0===C&&d("[a-zA-Z\\/\\-]"));else c=null;c=null!==c?c:"",null!==c?(e=p(),e=null!==e?e:"",null!==e?(41===b.charCodeAt(B)?(f=")",B++):(f=null,0===C&&d('")"')),null!==f?a=[a,c,e,f]:(a=null,B=h)):(a=null,B=h)):(a=null,B=h)}else a=null,B=h;return null!==a&&(a=function(a,b,c){var d={};return d.comp=b?b.join(""):"",c?d.meta=c.join("").split(","):null,d}(g,a[1],a[2])),null===a&&(B=g),a}function p(){var a,c,e,f,g;if(f=B,g=B,58===b.charCodeAt(B)?(a=":",B++):(a=null,0===C&&d('":"')),null!==a){if(/^[a-zA-Z\/]/.test(b.charAt(B))?(e=b.charAt(B),B++):(e=null,0===C&&d("[a-zA-Z\\/]")),null!==e)for(c=[];null!==e;)c.push(e),/^[a-zA-Z\/]/.test(b.charAt(B))?(e=b.charAt(B),B++):(e=null,0===C&&d("[a-zA-Z\\/]"));else c=null;null!==c?a=[a,c]:(a=null,B=g)}else a=null,B=g;return null!==a&&(a=function(a,b){return b}(f,a[1])),null===a&&(B=f),a}function q(){var a,c,e,f;if(e=B,f=B,/^[A-Z.0-9]/.test(b.charAt(B))?(c=b.charAt(B),B++):(c=null,0===C&&d("[A-Z.0-9]")),null!==c)for(a=[];null!==c;)a.push(c),/^[A-Z.0-9]/.test(b.charAt(B))?(c=b.charAt(B),B++):(c=null,0===C&&d("[A-Z.0-9]"));else a=null;return null!==a?(c=u(),null!==c?a=[a,c]:(a=null,B=f)):(a=null,B=f),null!==a&&(a=function(a,b){return b.join("").toLowerCase()}(e,a[0])),null===a&&(B=e),a}function r(){var a;return/^[^\n\r\u2028\u2029]/.test(b.charAt(B))?(a=b.charAt(B),B++):(a=null,0===C&&d("[^\\n\\r\\u2028\\u2029]")),a}function s(){var a,c,e,f;return e=B,f=B,/^[\\]/.test(b.charAt(B))?(a=b.charAt(B),B++):(a=null,0===C&&d("[\\\\]")),null!==a?(/^[']/.test(b.charAt(B))?(c=b.charAt(B),B++):(c=null,0===C&&d("[']")),null!==c?a=[a,c]:(a=null,B=f)):(a=null,B=f),null!==a&&(a=function(){return"'"}(e)),null===a&&(B=e),null===a&&(/^[^']/.test(b.charAt(B))?(a=b.charAt(B),B++):(a=null,0===C&&d("[^']"))),a}function t(){var a,c;for(a=[],32===b.charCodeAt(B)?(c=" ",B++):(c=null,0===C&&d('" "'));null!==c;)a.push(c),32===b.charCodeAt(B)?(c=" ",B++):(c=null,0===C&&d('" "'));return a=null!==a?a:""}function u(){var a,c;if(32===b.charCodeAt(B)?(c=" ",B++):(c=null,0===C&&d('" "')),null!==c)for(a=[];null!==c;)a.push(c),32===b.charCodeAt(B)?(c=" ",B++):(c=null,0===C&&d('" "'));else a=null;return a}function v(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);return c}function w(){for(var a=1,c=1,d=!1,e=0;e<Math.max(B,D);e++){var f=b.charAt(e);"\n"===f?(d||a++,c=1,d=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a++,c=1,d=!0):(c++,d=!1)}return{line:a,column:c}}var x={start:e,line:f,LineTerminator:g,comment:h,connection:i,bridge:j,leftlet:k,iip:l,rightlet:m,node:n,component:o,compMeta:p,port:q,anychar:r,iipchar:s,_:t,__:u};if(void 0!==c){if(void 0===x[c])throw new Error("Invalid rule name: "+a(c)+".")}else c="start";var y,z,A,B=0,C=0,D=0,E=[];y=this,z=y.edges=[],y.exports=[],A={},y.addNode=function(a,b){A[a]||(A[a]={}),b.comp&&(A[a].component=b.comp),b.meta&&(A[a].metadata={routes:b.meta})},y.getResult=function(){return{processes:A,connections:y.processEdges(),exports:y.exports}};var F=function(a,b){for(var c=-1,d=a?a.length:0,e=[];++c<d;){var f=a[c];f instanceof Array?Array.prototype.push.apply(e,b?f:F(f)):e.push(f)}return e};y.registerExports=function(a,b){y.exports.push({"private":a.toLowerCase(),"public":b.toLowerCase()})},y.registerEdges=function(a){a.forEach(function(a){y.edges.push(a)})},y.processEdges=function(){var a,b;return a=F(y.edges),b=[],a.forEach(function(a,c){if(0!==c%2){var d=b[b.length-1];return d.tgt=a.tgt,void 0}b.push(a)}),b};var G=x[c]();if(null===G||B!==b.length){var H=Math.max(B,D),I=H<b.length?b.charAt(H):null,J=w();throw new this.SyntaxError(v(E),I,H,J.line,J.column)}return G},toSource:function(){return this._source}};return b.SyntaxError=function(b,c,d,e,f){function g(b,c){var d,e;switch(b.length){case 0:d="end of input";break;case 1:d=b[0];break;default:d=b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}return e=c?a(c):"end of input","Expected "+d+" but "+e+" found."}this.name="SyntaxError",this.expected=b,this.found=c,this.message=g(b,c),this.offset=d,this.line=e,this.column=f},b.SyntaxError.prototype=Error.prototype,b}()}),require.register("noflo-noflo/src/lib/Graph.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c="undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node")?b("events").EventEmitter:b("emitter"),d=function(a){function c(a){this.name=null!=a?a:"",this.properties={},this.nodes=[],this.edges=[],this.initializers=[],this.exports=[]}return f(c,a),c.prototype.name="",c.prototype.properties={},c.prototype.nodes=[],c.prototype.edges=[],c.prototype.initializers=[],c.prototype.exports=[],c.prototype.addExport=function(a,b){return this.exports.push({"private":a.toLowerCase(),"public":b.toLowerCase()})},c.prototype.addNode=function(a,b,c){var d;return c||(c={}),d={id:a,component:b,metadata:c},this.nodes.push(d),this.emit("addNode",d),d},c.prototype.removeNode=function(a){var b,c,d,e,f,g,h,i,j;for(d=this.getNode(a),i=this.edges,e=0,g=i.length;g>e;e++)b=i[e],b&&(b.from.node===d.id&&this.removeEdge(b.from.node,b.from.port),b.to.node===d.id&&this.removeEdge(b.to.node,b.to.port));for(j=this.initializers,f=0,h=j.length;h>f;f++)c=j[f],c&&c.to.node===d.id&&this.removeInitial(c.to.node,c.to.port);return this.emit("removeNode",d),-1!==this.nodes.indexOf(d)?this.nodes.splice(this.nodes.indexOf(d),1):void 0},c.prototype.getNode=function(a){var b,c,d,e;for(e=this.nodes,c=0,d=e.length;d>c;c++)if(b=e[c],b&&b.id===a)return b;return null},c.prototype.renameNode=function(a,b){var c,d,e,f,g,h,i,j,k;if(e=this.getNode(a)){for(e.id=b,j=this.edges,f=0,h=j.length;h>f;f++)c=j[f],c&&(c.from.node===a&&(c.from.node=b),c.to.node===a&&(c.to.node=b));for(k=this.initializers,g=0,i=k.length;i>g;g++)d=k[g],d&&d.to.node===a&&(d.to.node=b);return this.emit("renameNode",a,b)}},c.prototype.addEdge=function(a,b,c,d,e){var f;return e||(e={}),f={from:{node:a,port:b},to:{node:c,port:d},metadata:e},this.edges.push(f),this.emit("addEdge",f),f},c.prototype.removeEdge=function(a,b,c,d){var e,f,g,h,i,j;for(i=this.edges,j=[],f=g=0,h=i.length;h>g;f=++g)if(e=i[f]){if(e.from.node===a&&e.from.port===b){if(c&&d&&(e.to.node!==c||e.to.port!==d))continue;this.emit("removeEdge",e),this.edges.splice(f,1)}if(e.to.node===a&&e.to.port===b){if(c&&d&&(e.from.node!==c||e.from.port!==d))continue;this.emit("removeEdge",e),j.push(this.edges.splice(f,1))}else j.push(void 0)}return j},c.prototype.addInitial=function(a,b,c,d){var e;return e={from:{data:a},to:{node:b,port:c},metadata:d},this.initializers.push(e),this.emit("addInitial",e),e},c.prototype.removeInitial=function(a,b){var c,d,e,f,g,h;for(g=this.initializers,h=[],d=e=0,f=g.length;f>e;d=++e)c=g[d],c&&(c.to.node===a&&c.to.port===b?(this.emit("removeInitial",c),h.push(this.initializers.splice(d,1))):h.push(void 0));return h},c.prototype.toDOT=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(a=function(a){return a.replace(/\s*/g,"")},b=function(a){return a.replace(/\./g,"")},c="digraph {\n",n=this.nodes,h=0,k=n.length;k>h;h++)g=n[h],c+="    "+a(g.id)+" [label="+g.id+" shape=box]\n";for(o=this.initializers,e=i=0,l=o.length;l>i;e=++i)f=o[e],c+="    data"+e+" [label=\"'"+f.from.data+"'\" shape=plaintext]\n",c+="    data"+e+" -> "+a(f.to.node)+"[headlabel="+b(f.to.port)+" labelfontcolor=blue labelfontsize=8.0]\n";for(p=this.edges,j=0,m=p.length;m>j;j++)d=p[j],c+="    "+a(d.from.node)+" -> "+a(d.to.node)+"[taillabel="+b(d.from.port)+" headlabel="+b(d.to.port)+" labelfontcolor=blue labelfontsize=8.0]\n";return c+="}"},c.prototype.toYUML=function(){var a,b,c,d,e,f,g,h,i;for(c=[],h=this.initializers,d=0,f=h.length;f>d;d++)b=h[d],c.push("(start)["+b.to.port+"]->("+b.to.node+")");for(i=this.edges,e=0,g=i.length;g>e;e++)a=i[e],c.push("("+a.from.node+")["+a.from.port+"]->("+a.to.node+")");return c.join(",")},c.prototype.toJSON=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;e={properties:{},exports:[],processes:{},connections:[]},q=this.properties;for(g in q)h=q[g],e.properties[g]=h;for(this.name&&(e.properties.name=this.name),r=this.exports,i=0,m=r.length;m>i;i++)c=r[i],e.exports.push({"private":c["private"],"public":c["public"]});for(s=this.nodes,j=0,n=s.length;n>j;j++)f=s[j],e.processes[f.id]={component:f.component},f.metadata&&(e.processes[f.id].metadata=f.metadata);for(t=this.edges,k=0,o=t.length;o>k;k++)b=t[k],a={src:{process:b.from.node,port:b.from.port},tgt:{process:b.to.node,port:b.to.port}},Object.keys(b.metadata).length&&(a.metadata=b.metadata),e.connections.push(a);for(u=this.initializers,l=0,p=u.length;p>l;l++)d=u[l],e.connections.push({data:d.from.data,tgt:{process:d.to.node,port:d.to.port}});return e},c.prototype.save=function(a,c){var d;return d=JSON.stringify(this.toJSON(),null,4),b("fs").writeFile(""+a+".json",d,"utf-8",function(b){if(b)throw b;return c(a)})},c}(c),a.Graph=d,a.createGraph=function(a){return new d(a)},a.loadJSON=function(a,b){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;a.properties||(a.properties={}),a.processes||(a.processes={}),a.connections||(a.connections=[]),g=new d(a.properties.name),p=a.properties;for(j in p)k=p[j],"name"!==j&&(g.properties[j]=k);q=a.processes;for(h in q)e=q[h],e.metadata||(e.metadata={}),g.addNode(h,e.component,e.metadata);for(r=a.connections,l=0,n=r.length;n>l;l++)c=r[l],void 0===c.data?(i=c.metadata?c.metadata:{},g.addEdge(c.src.process,c.src.port.toLowerCase(),c.tgt.process,c.tgt.port.toLowerCase(),i)):g.addInitial(c.data,c.tgt.process,c.tgt.port.toLowerCase());if(a.exports)for(s=a.exports,m=0,o=s.length;o>m;m++)f=s[m],g.addExport(f["private"],f["public"]);return b(g)},a.loadFBP=function(c,d){var e;return e=b("fbp").parse(c),a.loadJSON(e,d)},a.loadFile=function(c,d){var e,f;{if("undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node"))return b("fs").readFile(c,"utf-8",function(b,f){if(b)throw b;return"fbp"===c.split(".").pop()?a.loadFBP(f,d):(e=JSON.parse(f),a.loadJSON(e,d))});try{e=b(c),a.loadJSON(e,d)}catch(g){throw f=g,new Error("Failed to load graph "+c+": "+f.message)}}}}),require.register("noflo-noflo/src/lib/InternalSocket.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c="undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node")?b("events").EventEmitter:b("emitter"),d=function(a){function b(){this.connected=!1,this.groups=[]}return f(b,a),b.prototype.connect=function(){return this.connected?void 0:(this.connected=!0,this.emit("connect",this))},b.prototype.disconnect=function(){return this.connected?(this.connected=!1,this.emit("disconnect",this)):void 0},b.prototype.isConnected=function(){return this.connected},b.prototype.send=function(a){return this.connected||this.connect(),this.emit("data",a)},b.prototype.beginGroup=function(a){return this.groups.push(a),this.emit("begingroup",a)},b.prototype.endGroup=function(){return this.emit("endgroup",this.groups.pop())},b.prototype.getId=function(){var a,b;return a=function(a){return""+a.process.id+"() "+a.port.toUpperCase()},b=function(a){return""+a.port.toUpperCase()+" "+a.process.id+"()"},this.from||this.to?this.from&&!this.to?""+a(this.from)+" -> ANON":this.from?""+a(this.from)+" -> "+b(this.to):"DATA -> "+b(this.to):"UNDEFINED"},b}(c),a.InternalSocket=d,a.createSocket=function(){return new d}}),require.register("noflo-noflo/src/lib/Port.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c="undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node")?b("events").EventEmitter:b("emitter"),d=function(a){function b(a){this.type=a,this.type||(this.type="all"),this.socket=null,this.from=null}return f(b,a),b.prototype.attach=function(a){if(this.isAttached())throw new Error(""+this.name+": Socket already attached "+this.socket.getId()+" - "+a.getId());return this.socket=a,this.attachSocket(a)},b.prototype.attachSocket=function(a,b){var c=this;return null==b&&(b=null),this.emit("attach",a),this.from=a.from,a.setMaxListeners&&a.setMaxListeners(0),a.on("connect",function(){return c.emit("connect",a,b)}),a.on("begingroup",function(a){return c.emit("begingroup",a,b)}),a.on("data",function(a){return c.emit("data",a,b)}),a.on("endgroup",function(a){return c.emit("endgroup",a,b)}),a.on("disconnect",function(){return c.emit("disconnect",a,b)})},b.prototype.connect=function(){if(!this.socket)throw new Error("No connection available");return this.socket.connect()},b.prototype.beginGroup=function(a){var b=this;if(!this.socket)throw new Error("No connection available");return this.isConnected()?this.socket.beginGroup(a):(this.socket.once("connect",function(){return b.socket.beginGroup(a)}),this.socket.connect())},b.prototype.send=function(a){var b=this;if(!this.socket)throw new Error("No connection available");return this.isConnected()?this.socket.send(a):(this.socket.once("connect",function(){return b.socket.send(a)}),this.socket.connect())},b.prototype.endGroup=function(){if(!this.socket)throw new Error("No connection available");return this.socket.endGroup()},b.prototype.disconnect=function(){if(!this.socket)throw new Error("No connection available");return this.socket.disconnect()},b.prototype.detach=function(a){return this.isAttached(a)?(this.emit("detach",this.socket),this.from=null,this.socket=null):void 0},b.prototype.isConnected=function(){return this.socket?this.socket.isConnected():!1},b.prototype.isAttached=function(){return null!==this.socket},b}(c),a.Port=d}),require.register("noflo-noflo/src/lib/ArrayPort.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("./Port"),c=function(a){function b(a){this.type=a,this.type||(this.type="all"),this.sockets=[]}return f(b,a),b.prototype.attach=function(a){return this.sockets.push(a),this.attachSocket(a,this.sockets.length-1)},b.prototype.connect=function(a){if(null==a&&(a=null),null===a){if(!this.sockets.length)throw new Error("No sockets available");return this.sockets.forEach(function(a){return a.connect()}),void 0}if(!this.sockets[a])throw new Error("No socket '"+a+"' available");return this.sockets[a].connect()},b.prototype.beginGroup=function(a,b){var c=this;if(null==b&&(b=null),null===b){if(!this.sockets.length)throw new Error("No sockets available");return this.sockets.forEach(function(b,d){return c.beginGroup(a,d)}),void 0}if(!this.sockets[b])throw new Error("No socket '"+b+"' available");return this.isConnected(b)?this.sockets[b].beginGroup(a):(this.sockets[b].once("connect",function(){return c.sockets[b].beginGroup(a)}),this.sockets[b].connect())},b.prototype.send=function(a,b){var c=this;if(null==b&&(b=null),null===b){if(!this.sockets.length)throw new Error("No sockets available");
return this.sockets.forEach(function(b,d){return c.send(a,d)}),void 0}if(!this.sockets[b])throw new Error("No socket '"+b+"' available");return this.isConnected(b)?this.sockets[b].send(a):(this.sockets[b].once("connect",function(){return c.sockets[b].send(a)}),this.sockets[b].connect())},b.prototype.endGroup=function(a){var b=this;if(null==a&&(a=null),null===a){if(!this.sockets.length)throw new Error("No sockets available");return this.sockets.forEach(function(a,c){return b.endGroup(c)}),void 0}if(!this.sockets[a])throw new Error("No socket '"+a+"' available");return this.sockets[a].endGroup()},b.prototype.disconnect=function(a){var b,c,d,e;if(null==a&&(a=null),null!==a){if(this.sockets[a])return this.sockets[a].disconnect()}else{if(!this.sockets.length)throw new Error("No sockets available");for(e=this.sockets,c=0,d=e.length;d>c;c++)b=e[c],b.disconnect()}},b.prototype.detach=function(a){return-1!==this.sockets.indexOf(a)?(this.sockets.splice(this.sockets.indexOf(a),1),this.emit("detach",a)):void 0},b.prototype.isConnected=function(a){var b;return null==a&&(a=null),null===a?(b=!1,this.sockets.forEach(function(a){return a.isConnected()?b=!0:void 0}),b):this.sockets[a]?this.sockets[a].isConnected():!1},b.prototype.isAttached=function(a){return void 0===a?!1:this.sockets[a]?!0:!1},b}(d.Port),a.ArrayPort=c}),require.register("noflo-noflo/src/lib/Component.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d="undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node")?b("events").EventEmitter:b("emitter"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.description="",b.prototype.getDescription=function(){return this.description},b.prototype.isReady=function(){return!0},b.prototype.isSubgraph=function(){return!1},b}(d),a.Component=c}),require.register("noflo-noflo/src/lib/AsyncComponent.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("./Port"),d=b("./Component"),c=function(a){function b(a,b,c){var d=this;if(this.inPortName=null!=a?a:"in",this.outPortName=null!=b?b:"out",this.errPortName=null!=c?c:"error",!this.inPorts[this.inPortName])throw new Error("no inPort named '"+this.inPortName+"'");if(!this.outPorts[this.outPortName])throw new Error("no outPort named '"+this.outPortName+"'");this.load=0,this.q=[],this.outPorts.load=new e.Port,this.inPorts[this.inPortName].on("begingroup",function(a){return d.load>0?d.q.push({name:"begingroup",data:a}):d.outPorts[d.outPortName].beginGroup(a)}),this.inPorts[this.inPortName].on("endgroup",function(){return d.load>0?d.q.push({name:"endgroup"}):d.outPorts[d.outPortName].endGroup()}),this.inPorts[this.inPortName].on("disconnect",function(){return d.load>0?d.q.push({name:"disconnect"}):(d.outPorts[d.outPortName].disconnect(),d.outPorts.load.isAttached()?d.outPorts.load.disconnect():void 0)}),this.inPorts[this.inPortName].on("data",function(a){return d.q.length>0?d.q.push({name:"data",data:a}):d.processData(a)})}return g(b,a),b.prototype.processData=function(a){var b=this;return this.incrementLoad(),this.doAsync(a,function(a){if(a){if(!b.outPorts[b.errPortName]||!b.outPorts[b.errPortName].isAttached())throw a;b.outPorts[b.errPortName].send(a),b.outPorts[b.errPortName].disconnect()}return b.decrementLoad()})},b.prototype.incrementLoad=function(){return this.load++,this.outPorts.load.isAttached()&&this.outPorts.load.send(this.load),this.outPorts.load.isAttached()?this.outPorts.load.disconnect():void 0},b.prototype.doAsync=function(a,b){return b(new Error("AsyncComponents must implement doAsync"))},b.prototype.decrementLoad=function(){var a=this;if(0===this.load)throw new Error("load cannot be negative");return this.load--,this.outPorts.load.isAttached()&&this.outPorts.load.send(this.load),this.outPorts.load.isAttached()&&this.outPorts.load.disconnect(),"undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node")?process.nextTick(function(){return a.processQueue()}):setTimeout(function(){return a.processQueue()},0)},b.prototype.processQueue=function(){var a,b;if(!(this.load>0))for(b=!1;this.q.length>0;)switch(a=this.q[0],a.name){case"begingroup":if(b)return;this.outPorts[this.outPortName].beginGroup(a.data),this.q.shift();break;case"endgroup":if(b)return;this.outPorts[this.outPortName].endGroup(),this.q.shift();break;case"disconnect":if(b)return;this.outPorts[this.outPortName].disconnect(),this.outPorts.load.isAttached()&&this.outPorts.load.disconnect(),this.q.shift();break;case"data":this.processData(a.data),this.q.shift(),b=!0}},b}(d.Component),a.AsyncComponent=c}),require.register("noflo-noflo/src/lib/LoggingComponent.js",function(a,b){var c,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=b("./Component").Component,d=b("./Port").Port,e="undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node")?b("util"):{inspect:function(a){return a}},a.LoggingComponent=function(a){function b(){this.sendLog=f(this.sendLog,this),this.outPorts={log:new d}}return h(b,a),b.prototype.sendLog=function(a){return"object"==typeof a&&(a.when=new Date,a.source=this.constructor.name,null!=this.nodeId&&(a.nodeID=this.nodeId)),null!=this.outPorts.log&&this.outPorts.log.isAttached()?this.outPorts.log.send(a):console.log(e.inspect(a,4,!0,!0))},b}(c)}),require.register("noflo-noflo/src/lib/ComponentLoader.js",function(a,b){var c,d;d=b("./InternalSocket"),c=function(){function a(a){this.baseDir=a,this.components=null,this.checked=[],this.revalidate=!1}return a.prototype.getModulePrefix=function(a){return a?"noflo"===a?"":a.replace("noflo-",""):""},a.prototype.getModuleComponents=function(a){var c,d,e,f,g,h,i,j,k;if(-1===this.checked.indexOf(a)){this.checked.push(a);try{d=b("/"+a+"/component.json")}catch(l){return f=l,void 0}for(e in d.dependencies)this.getModuleComponents(e.replace("/","-"));if(d.noflo){if(h=this.getModulePrefix(d.name),"/"===a[0]&&(a=a.substr(1)),d.noflo.components){i=d.noflo.components;for(g in i)c=i[g],this.registerComponent(h,g,"/"+a+"/"+c)}if(d.noflo.graphs){j=d.noflo.graphs,k=[];for(g in j)c=j[g],k.push(this.registerComponent(h,g,"/"+a+"/"+c));return k}}}},a.prototype.listComponents=function(a){return null!==this.components?a(this.components):(this.components={},this.getModuleComponents(this.baseDir),a(this.components))},a.prototype.load=function(a,c){var d,e,f,g,h=this;if(!this.components)return this.listComponents(function(){return h.load(a,c)}),void 0;if(d=this.components[a],!d){for(e in this.components)if(e.split("/")[1]===a){d=this.components[e];break}if(!d)throw new Error("Component "+a+" not available with base "+this.baseDir)}return this.isGraph(d)?("undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node")?process.nextTick(function(){return h.loadGraph(a,c)}):setTimeout(function(){return h.loadGraph(a,c)},0),void 0):("function"==typeof d?(f=d,g=new d):(f=b(d),g=f.getComponent()),"Graph"===a&&(g.baseDir=this.baseDir),c(g))},a.prototype.isGraph=function(a){return"string"!=typeof a?!1:-1!==a.indexOf(".fbp")||-1!==a.indexOf(".json")},a.prototype.loadGraph=function(a,c){var e,f,g;return f=b(this.components.Graph),g=d.createSocket(),e=f.getComponent(),e.baseDir=this.baseDir,e.inPorts.graph.attach(g),g.send(this.components[a]),g.disconnect(),delete e.inPorts.graph,delete e.inPorts.start,c(e)},a.prototype.registerComponent=function(a,b,c,d){var e,f;return f=this.getModulePrefix(a),e=""+f+"/"+b,a||(e=b),this.components[e]=c,d?d():void 0},a.prototype.registerGraph=function(a,b,c,d){return this.registerComponent(a,b,c,d)},a.prototype.clear=function(){return this.components=null,this.checked=[],this.revalidate=!0},a}(),a.ComponentLoader=c}),require.register("noflo-noflo/src/lib/NoFlo.js",function(a,b){a.graph=b("./Graph"),a.Graph=a.graph.Graph,a.Network=b("./Network").Network,a.isBrowser=function(){return"undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node")?!1:!0},a.ComponentLoader=a.isBrowser()?b("./ComponentLoader").ComponentLoader:b("./nodejs/ComponentLoader").ComponentLoader,a.Component=b("./Component").Component,a.AsyncComponent=b("./AsyncComponent").AsyncComponent,a.LoggingComponent=b("./LoggingComponent").LoggingComponent,a.Port=b("./Port").Port,a.ArrayPort=b("./ArrayPort").ArrayPort,a.internalSocket=b("./InternalSocket"),a.createNetwork=function(b,c,d){var e,f;return e=new a.Network(b),f=function(a){return null!=c&&c(a),a.sendInitials()},0===b.nodes.length?(setTimeout(function(){return f(e)},0),e):(e.loader.listComponents(function(){return d?(null!=c&&c(e),void 0):e.connect(function(){return f(e)})}),e)},a.loadFile=function(b,c){return a.graph.loadFile(b,function(b){return a.createNetwork(b,c)})},a.saveFile=function(b,c,d){return a.graph.save(c,function(){return d(c)})}}),require.register("noflo-noflo/src/lib/Network.js",function(a,b){var c,d,e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};h=b("underscore"),g=b("./InternalSocket"),f=b("./Graph"),"undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node")?(e=b("./nodejs/ComponentLoader"),c=b("events").EventEmitter):(e=b("./ComponentLoader"),c=b("emitter")),d=function(a){function b(a){var b=this;this.processes={},this.connections=[],this.initials=[],this.graph=a,this.baseDir="undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node")?a.baseDir||process.cwd():a.baseDir||"/",this.startupDate=new Date,this.handleStartEnd(),this.graph.on("addNode",function(a){return b.addNode(a)}),this.graph.on("removeNode",function(a){return b.removeNode(a)}),this.graph.on("renameNode",function(a,c){return b.renameNode(a,c)}),this.graph.on("addEdge",function(a){return b.addEdge(a)}),this.graph.on("removeEdge",function(a){return b.removeEdge(a)}),this.graph.on("addInitial",function(a){return b.addInitial(a)}),this.graph.on("removeInitial",function(a){return b.removeInitial(a)}),this.loader=new e.ComponentLoader(this.baseDir)}return j(b,a),b.prototype.processes={},b.prototype.connections=[],b.prototype.initials=[],b.prototype.graph=null,b.prototype.startupDate=null,b.prototype.portBuffer={},b.prototype.uptime=function(){return new Date-this.startupDate},b.prototype.handleStartEnd=function(){var a,b,c,d,e=this;return a=0,c=!1,b=!1,d=null,this.on("connect",function(b){return b.socket.from?(d&&clearTimeout(d),0!==a||c||(e.emit("start",{start:e.startupDate}),c=!0),a++):void 0}),this.on("disconnect",function(f){return f.socket.from&&(a--,0>=a)?d=setTimeout(function(){return b?void 0:(e.emit("end",{start:e.startupDate,end:new Date,uptime:e.uptime()}),c=!1,b=!0)},10):void 0})},b.prototype.load=function(a,b){return"object"==typeof a?b(a):this.loader.load(a,b)},b.prototype.addNode=function(a,b){var c,d=this;return this.processes[a.id]?(b&&b(this.processes[a.id]),void 0):(c={id:a.id},a.component?this.load(a.component,function(e){return e.nodeId=a.id,c.component=e,e.isSubgraph()&&d.subscribeSubgraph(a.id,e),d.processes[c.id]=c,b?b(c):void 0}):(this.processes[c.id]=c,b&&b(c),void 0))},b.prototype.removeNode=function(a){return this.processes[a.id]?delete this.processes[a.id]:void 0},b.prototype.renameNode=function(a,b){var c;return(c=this.getNode(a))?(c.id=b,this.processes[b]=c,delete this.processes[a]):void 0},b.prototype.getNode=function(a){return this.processes[a]},b.prototype.connect=function(a){var b,c,d,e,f=this;return null==a&&(a=function(){}),e=function(a,b){return function(c){return f["add"+c](b,function(){return a(c)})}},c=h.reduceRight(this.graph.initializers,e,a),b=h.reduceRight(this.graph.edges,e,function(){return c("Initial")}),d=h.reduceRight(this.graph.nodes,e,function(){return b("Edge")}),d("Node")},b.prototype.connectPort=function(a,b,c,d){if(d){if(a.to={process:b,port:c},!b.component.inPorts||!b.component.inPorts[c])throw new Error("No inport '"+c+"' defined in process "+b.id+" ("+a.getId()+")");return b.component.inPorts[c].attach(a)}if(a.from={process:b,port:c},!b.component.outPorts||!b.component.outPorts[c])throw new Error("No outport '"+c+"' defined in process "+b.id+" ("+a.getId()+")");return b.component.outPorts[c].attach(a)},b.prototype.subscribeSubgraph=function(a,b){var c,d=this;return b.isReady()||b.once("ready",function(){d.subscribeSubgraph(a,b)}),b.network?(c=function(b,c){return c||(c={}),c.subgraph=c.subgraph?""+a+":"+c.subgraph:a,d.emit(b,c)},b.network.on("connect",function(a){return c("connect",a)}),b.network.on("begingroup",function(a){return c("begingroup",a)}),b.network.on("data",function(a){return c("data",a)}),b.network.on("endgroup",function(a){return c("endgroup",a)}),b.network.on("disconnect",function(a){return c("disconnect",a)})):void 0},b.prototype.subscribeSocket=function(a){var b=this;return a.on("connect",function(){return b.emit("connect",{id:a.getId(),socket:a})}),a.on("begingroup",function(c){return b.emit("begingroup",{id:a.getId(),socket:a,group:c})}),a.on("data",function(c){return b.emit("data",{id:a.getId(),socket:a,data:c})}),a.on("endgroup",function(c){return b.emit("endgroup",{id:a.getId(),socket:a,group:c})}),a.on("disconnect",function(){return b.emit("disconnect",{id:a.getId(),socket:a})})},b.prototype.addEdge=function(a,b){var c,d,e,f=this;if(d=g.createSocket(),c=this.getNode(a.from.node),!c)throw new Error("No process defined for outbound node "+a.from.node);if(!c.component)throw new Error("No component defined for outbound node "+a.from.node);if(!c.component.isReady())return c.component.once("ready",function(){return f.addEdge(a,b)}),void 0;if(e=this.getNode(a.to.node),!e)throw new Error("No process defined for inbound node "+a.to.node);if(!e.component)throw new Error("No component defined for inbound node "+a.to.node);return e.component.isReady()?(this.connectPort(d,e,a.to.port,!0),this.connectPort(d,c,a.from.port,!1),this.subscribeSocket(d),this.connections.push(d),b?b():void 0):(e.component.once("ready",function(){return f.addEdge(a,b)}),void 0)},b.prototype.removeEdge=function(a){var b,c,d,e,f;for(e=this.connections,f=[],c=0,d=e.length;d>c;c++)b=e[c],b&&a.to.node===b.to.process.id&&a.to.port===b.to.port&&(b.to.process.component.inPorts[b.to.port].detach(b),a.from.node&&b.from&&a.from.node===b.from.process.id&&a.from.port===b.from.port&&b.from.process.component.outPorts[b.from.port].detach(b),f.push(this.connections.splice(this.connections.indexOf(b),1)));return f},b.prototype.addInitial=function(a,b){var c,d,e=this;if(c=g.createSocket(),this.subscribeSocket(c),d=this.getNode(a.to.node),!d)throw new Error("No process defined for inbound node "+a.to.node);return d.component.isReady()||d.component.inPorts[a.to.port]?(this.connectPort(c,d,a.to.port,!0),this.connections.push(c),this.initials.push({socket:c,data:a.from.data}),b?b():void 0):(d.component.setMaxListeners(0),d.component.once("ready",function(){return e.addInitial(a,b)}),void 0)},b.prototype.removeInitial=function(a){var b,c,d,e,f;for(e=this.connections,f=[],c=0,d=e.length;d>c;c++)b=e[c],b&&a.to.node===b.to.process.id&&a.to.port===b.to.port&&(b.to.process.component.inPorts[b.to.port].detach(b),f.push(this.connections.splice(this.connections.indexOf(b),1)));return f},b.prototype.sendInitial=function(a){return a.socket.connect(),a.socket.send(a.data),a.socket.disconnect()},b.prototype.sendInitials=function(){var a,b=this;return a=function(){var a,c,d,e;for(e=b.initials,c=0,d=e.length;d>c;c++)a=e[c],b.sendInitial(a);return b.initials=[]},"undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node")?process.nextTick(a):setTimeout(a,0)},b}(c),a.Network=d}),require.register("noflo-noflo/src/components/Graph.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d="undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node")?b("../../lib/NoFlo"):b("../lib/NoFlo"),c=function(a){function b(){var a=this;this.network=null,this.ready=!0,this.started=!1,this.baseDir=null,this.inPorts={graph:new d.Port("all"),start:new d.Port("bang")},this.outPorts={},this.inPorts.graph.on("data",function(b){return a.setGraph(b)}),this.inPorts.start.on("data",function(){return a.started=!0,a.network?a.network.connect(function(){var b,c,d,e;a.network.sendInitials(),c=!1,e=a.network.processes;for(b in e)d=e[b],a.checkComponent(b,d)||(c=!0);return c?void 0:a.setToReady()}):void 0})}return f(b,a),b.prototype.setGraph=function(a){var b=this;return this.ready=!1,"object"==typeof a?"function"==typeof a.addNode?this.createNetwork(a):(d.graph.loadJSON(a,function(a){return a.baseDir=b.baseDir,b.createNetwork(a)}),void 0):("/"!==a.substr(0,1)&&(a=""+process.cwd()+"/"+a),a=d.graph.loadFile(a,function(a){return a.baseDir=b.baseDir,b.createNetwork(a)}))},b.prototype.createNetwork=function(a){var b,c=this;return(null!=(b=this.inPorts.start)?b.isAttached():void 0)&&!this.started?(d.createNetwork(a,function(a){return c.network=a,c.emit("network",c.network)},!0),void 0):d.createNetwork(a,function(a){var b,d,e,f;c.network=a,c.emit("network",c.network),d=!1,f=c.network.processes;for(b in f)e=f[b],c.checkComponent(b,e)||(d=!0);return d?void 0:c.setToReady()})},b.prototype.checkComponent=function(a,b){var c=this;return b.component.isReady()?(this.findEdgePorts(a,b),!0):(b.component.once("ready",function(){return c.checkComponent(a,b),c.setToReady()}),!1)},b.prototype.portName=function(a,b){return""+a.toLowerCase()+"."+b},b.prototype.isExported=function(a,b,c){var d,e,f,g,h;if(e=this.portName(b,c),a.isAttached())return!1;if(0===this.network.graph.exports.length)return e;for(h=this.network.graph.exports,f=0,g=h.length;g>f;f++)if(d=h[f],d["private"]===e)return d["public"];return!1},b.prototype.setToReady=function(){var a=this;return"undefined"!=typeof process&&process.execPath&&-1!==process.execPath.indexOf("node")?process.nextTick(function(){return a.ready=!0,a.emit("ready")}):setTimeout(function(){return a.ready=!0,a.emit("ready")},0)},b.prototype.findEdgePorts=function(a,b){var c,d,e,f,g;f=b.component.inPorts;for(d in f)c=f[d],e=this.isExported(c,a,d),e!==!1&&(this.inPorts[e]=c);g=b.component.outPorts;for(d in g)c=g[d],e=this.isExported(c,a,d),e!==!1&&(this.outPorts[e]=c);return!0},b.prototype.isReady=function(){return this.ready},b.prototype.isSubgraph=function(){return!0},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo/component.json",function(a,b,c){c.exports=JSON.parse('{"name":"noflo","description":"Flow-Based Programming environment for JavaScript","keywords":["fbp","workflow","flow"],"repo":"noflo/noflo","version":"0.4.0","dependencies":{"component/emitter":"*","component/underscore":"*","noflo/fbp":"*"},"development":{},"license":"MIT","main":"src/lib/NoFlo.js","scripts":["src/lib/Graph.js","src/lib/InternalSocket.js","src/lib/Port.js","src/lib/ArrayPort.js","src/lib/Component.js","src/lib/AsyncComponent.js","src/lib/LoggingComponent.js","src/lib/ComponentLoader.js","src/lib/NoFlo.js","src/lib/Network.js","src/components/Graph.js"],"json":["component.json"],"noflo":{"components":{"Graph":"src/components/Graph.js"}}}')}),require.register("noflo-noflo-runtime-iframe/index.js",function(){}),require.register("noflo-noflo-runtime-iframe/component.json",function(a,b,c){c.exports=JSON.parse('{"name":"noflo-runtime-iframe","description":"NoFlo runtime for execution inside an iframe","author":"Henri Bergius <henri.bergius@iki.fi>","repo":"noflo/noflo-runtime-iframe","version":"0.1.0","keywords":[],"dependencies":{"noflo/noflo":"*","noflo/noflo-core":"*"},"scripts":["index.js"],"json":["component.json"],"files":["runtime/component.js","html/component.html","runtime/network.js","html/network.html"]}')}),require.register("noflo-noflo-core/index.js",function(){}),require.register("noflo-noflo-core/components/Callback.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),e=b("underscore")._,c=function(a){function b(){var a=this;this.callback=null,this.inPorts={"in":new d.Port("all"),callback:new d.Port("function")},this.outPorts={error:new d.Port("object")},this.inPorts.callback.on("data",function(b){return e.isFunction(b)?a.callback=b:(a.error("The provided callback must be a function"),void 0)}),this.inPorts["in"].on("data",function(b){return a.callback?a.callback(b):(a.error("No callback provided"),void 0)})}return g(b,a),b.prototype.description="This component calls a given callback function for each  IP it receives.  The Callback component is typically used to connect  NoFlo with external Node.js code.",b.prototype.error=function(a){if(this.outPorts.error.isAttached())return this.outPorts.error.send(new Error(a)),this.outPorts.error.disconnect(),void 0;throw new Error(a)},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-core/components/DisconnectAfterPacket.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.inPorts={"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.outPorts.out.send(b),a.outPorts.out.disconnect()}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()})}return f(b,a),b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-core/components/Drop.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){this.inPorts={"in":new d.Port},this.outPorts={}}return f(b,a),b.prototype.description="This component drops every packet it receives with no  action",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-core/components/Group.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.groups=[],this.newGroups=[],this.threshold=null,this.inPorts={"in":new d.ArrayPort,group:new d.ArrayPort,threshold:new d.Port},this.outPorts={out:new d.Port},this.inPorts["in"].on("connect",function(){var b,c,d,e,f;for(e=a.newGroups,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(a.outPorts.out.beginGroup(b));return f}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.outPorts.out.send(b)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){var b,c,d,e;for(e=a.newGroups,c=0,d=e.length;d>c;c++)b=e[c],a.outPorts.out.endGroup();return a.outPorts.out.disconnect(),a.groups=[]}),this.inPorts.group.on("data",function(b){var c;return a.threshold&&(c=a.newGroups.length-a.threshold+1,c>0&&(a.newGroups=a.newGroups.slice(c))),a.newGroups.push(b)}),this.inPorts.threshold.on("data",function(b){a.threshold=b})}return f(b,a),b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-core/components/Kick.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.data={packet:null,group:[]},this.groups=[],this.inPorts={"in":new d.Port,data:new d.Port},this.outPorts={out:new d.ArrayPort},this.inPorts["in"].on("begingroup",function(b){return a.groups.push(b)}),this.inPorts["in"].on("data",function(){return a.data.group=a.groups.slice(0)}),this.inPorts["in"].on("endgroup",function(){return a.groups.pop()}),this.inPorts["in"].on("disconnect",function(){return a.sendKick(a.data),a.groups=[]}),this.inPorts.data.on("data",function(b){return a.data.packet=b})}return f(b,a),b.prototype.description="This component generates a single packet and sends it to  the output port. Mostly usable for debugging, but can also be useful  for starting up networks.",b.prototype.sendKick=function(a){var b,c,d,e,f,g,h;for(g=a.group,c=0,e=g.length;e>c;c++)b=g[c],this.outPorts.out.beginGroup(b);for(this.outPorts.out.send(a.packet),h=a.group,d=0,f=h.length;f>d;d++)b=h[d],this.outPorts.out.endGroup();return this.outPorts.out.disconnect()},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-core/components/Merge.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.inPorts={"in":new d.ArrayPort},this.outPorts={out:new d.Port},this.inPorts["in"].on("connect",function(){return a.outPorts.out.connect()}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.outPorts.out.send(b)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){var b,c,d,e;for(e=a.inPorts["in"].sockets,c=0,d=e.length;d>c;c++)if(b=e[c],b.connected)return;return a.outPorts.out.disconnect()})}return f(b,a),b.prototype.description="This component receives data on multiple input ports and    sends the same data out to the connected output port",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-core/components/Output.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),e=d.isBrowser()?{inspect:function(a){return a}}:b("util"),c=function(a){function b(){var a=this;this.options={showHidden:!1,depth:2,colors:!1},this.inPorts={"in":new d.ArrayPort,options:new d.Port},this.outPorts={out:new d.Port},this.inPorts["in"].on("data",function(b){return a.log(b),a.outPorts.out.isAttached()?a.outPorts.out.send(b):void 0}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.isAttached()?a.outPorts.out.disconnect():void 0}),this.inPorts.options.on("data",function(b){return a.setOptions(b)})}return g(b,a),b.prototype.description="This component receives input on a single inport, and    sends the data items directly to console.log",b.prototype.setOptions=function(a){var b,c,d;if("object"!=typeof a)throw new Error("Options is not an object");d=[];for(b in a)f.call(a,b)&&(c=a[b],d.push(this.options[b]=c));return d},b.prototype.log=function(a){return console.log(e.inspect(a,this.options.showHidden,this.options.depth,this.options.colors))},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-core/components/Repeat.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.inPorts={"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts["in"].on("connect",function(){return a.outPorts.out.connect()}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.outPorts.out.send(b)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return f(b,a),b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-core/components/RepeatAsync.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),e=d.isBrowser()?{inspect:function(a){return a}}:b("util"),c=function(a){function b(){var a=this;this.groups=[],this.inPorts={"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts["in"].on("begingroup",function(b){return a.groups.push(b)}),this.inPorts["in"].on("data",function(b){var c,d;return c=a.groups,d=function(){var d,e,f,g,h;for(e=0,g=c.length;g>e;e++)d=c[e],a.outPorts.out.beginGroup(d);for(a.outPorts.out.send(b),f=0,h=c.length;h>f;f++)d=c[f],a.outPorts.out.endGroup();return a.outPorts.out.disconnect()},setTimeout(d,0)}),this.inPorts["in"].on("disconnect",function(){return a.groups=[]})}return g(b,a),b.prototype.description="Like 'Repeat', except repeat on next tick",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-core/components/Split.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.inPorts={"in":new d.Port("all")},this.outPorts={out:new d.ArrayPort("all")},this.inPorts["in"].on("connect",function(){return a.outPorts.out.connect()}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.outPorts.out.send(b)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return f(b,a),b.prototype.description="This component receives data on a single input port and    sends the same data out to all connected output ports",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-core/components/RunInterval.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.interval=null,this.inPorts={interval:new d.Port("number"),stop:new d.Port("bang")},this.outPorts={out:new d.Port("bang")},this.inPorts.interval.on("data",function(b){return a.interval&&clearInterval(a.interval),a.outPorts.out.connect(),a.interval=setInterval(function(){return a.outPorts.out.send(!0)},b)}),this.inPorts.stop.on("data",function(){return a.interval?(clearInterval(a.interval),a.outPorts.out.disconnect()):void 0})}return f(b,a),b.prototype.description="Send a packet at the given interval",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-core/component.json",function(a,b,c){c.exports=JSON.parse('{"name":"noflo-core","description":"NoFlo Essentials","repo":"noflo/noflo-core","version":"0.1.0","author":{"name":"Henri Bergius","email":"henri.bergius@iki.fi"},"contributors":[{"name":"Kenneth Kan","email":"kenhkan@gmail.com"},{"name":"Ryan Shaw","email":"ryanshaw@unc.edu"}],"keywords":[],"dependencies":{"noflo/noflo":"*","component/underscore":"*"},"scripts":["components/Callback.js","components/DisconnectAfterPacket.js","components/Drop.js","components/Group.js","components/Kick.js","components/Merge.js","components/Output.js","components/Repeat.js","components/RepeatAsync.js","components/Split.js","components/RunInterval.js","index.js"],"json":["component.json"],"noflo":{"components":{"Callback":"components/Callback.js","DisconnectAfterPacket":"components/DisconnectAfterPacket.js","Drop":"components/Drop.js","Group":"components/Group.js","Kick":"components/Kick.js","Merge":"components/Merge.js","Output":"components/Output.js","Repeat":"components/Repeat.js","RepeatAsync":"components/RepeatAsync.js","Split":"components/Split.js","RunInterval":"components/RunInterval.js"}}}')
}),require.register("noflo-noflo-flow/index.js",function(){}),require.register("noflo-noflo-flow/components/Gate.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.open=!1,this.inPorts={"in":new d.Port("all"),open:new d.Port("bang"),close:new d.Port("bang")},this.outPorts={out:new d.Port("all")},this.inPorts["in"].on("connect",function(){return a.open?a.outPorts.out.connect():void 0}),this.inPorts["in"].on("begingroup",function(b){return a.open?a.outPorts.out.beginGroup(b):void 0}),this.inPorts["in"].on("data",function(b){return a.open?a.outPorts.out.send(b):void 0}),this.inPorts["in"].on("endgroup",function(){return a.open?a.outPorts.out.endGroup():void 0}),this.inPorts["in"].on("disconnect",function(){return a.open?a.outPorts.out.disconnect():void 0}),this.inPorts.open.on("data",function(){return a.open=!0}),this.inPorts.close.on("data",function(){return a.open=!1})}return f(b,a),b.prototype.description="This component forwards received packets when the gate is open",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-flow/component.json",function(a,b,c){c.exports=JSON.parse('{"name":"noflo-flow","description":"Flow Control for NoFlo","author":"Henri Bergius <henri.bergius@iki.fi>","repo":"noflo/noflo-dom","version":"0.2.0","keywords":[],"dependencies":{"noflo/noflo":"*"},"scripts":["components/Gate.js","index.js"],"json":["component.json"],"noflo":{"components":{"Gate":"components/Gate.js"}}}')}),require.register("noflo-noflo-objects/index.js",function(){}),require.register("noflo-noflo-objects/components/Extend.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("underscore"),d=b("noflo"),c=function(a){function b(){var a=this;this.bases=[],this.mergedBase={},this.key=null,this.reverse=!1,this.inPorts={"in":new d.Port,base:new d.Port,key:new d.Port,reverse:new d.Port},this.outPorts={out:new d.Port},this.inPorts.base.on("connect",function(){return a.bases=[]}),this.inPorts.base.on("data",function(b){return null!=b?a.bases.push(b):void 0}),this.inPorts.key.on("data",function(b){a.key=b}),this.inPorts.reverse.on("data",function(b){return a.reverse="true"===b}),this.inPorts["in"].on("connect",function(){}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){var c,d,f,g,h;for(d={},h=a.bases,f=0,g=h.length;g>f;f++)c=h[f],(null==a.key||null!=b[a.key]&&b[a.key]===c[a.key])&&e.extend(d,c);return a.reverse?a.outPorts.out.send(e.extend({},b,d)):a.outPorts.out.send(e.extend(d,b))}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return g(b,a),b.prototype.description="Extend an incoming object to some predefined  objects, optionally by a certain property",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/MergeObjects.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("underscore"),d=b("noflo"),c=function(a){function b(){var a=this;this.merge=e.bind(this.merge,this),this.inPorts={"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts["in"].on("connect",function(){return a.groups=[],a.objects=[]}),this.inPorts["in"].on("begingroup",function(b){return a.groups.push(b)}),this.inPorts["in"].on("data",function(b){return a.objects.push(b)}),this.inPorts["in"].on("endgroup",function(){return a.groups.pop()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.send(e.reduce(a.objects,a.merge,{})),a.outPorts.out.disconnect()})}return g(b,a),b.prototype.description="merges all incoming objects into one",b.prototype.merge=function(a,b){var c,d,e;for(c in b)if(e=b[c],d=a[c],null!=d)switch(toString.call(d)){case"[object Array]":a[c].push.apply(a[c],e);break;case"[object Object]":a[c]=this.merge(d,e);break;default:a[c]=e}else a[c]=e;return a},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/SplitObject.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.inPorts={"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){var c,d,e;e=[];for(c in b)d=b[c],a.outPorts.out.beginGroup(c),a.outPorts.out.send(d),e.push(a.outPorts.out.endGroup());return e}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return f(b,a),b.prototype.description="splits a single object into multiple IPs,    wrapped with the key as the group",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/ReplaceKey.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.patterns={},this.inPorts={"in":new d.Port,pattern:new d.Port},this.outPorts={out:new d.Port},this.inPorts.pattern.on("data",function(b){a.patterns=b}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){var c,d,e,f,g,h;d=null;for(c in b){g=b[c],h=a.patterns;for(e in h)f=h[e],e=new RegExp(e),null!=c.match(e)&&(d=c.replace(e,f),b[d]=g,delete b[c])}return a.outPorts.out.send(b)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.pattern=null,a.outPorts.out.disconnect()})}return f(b,a),b.prototype.description="given a regexp matching any key of an incoming  object as a data IP, replace the key with the provided string",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/Keys.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),e=b("underscore"),c=function(a){function b(){var a=this;this.inPorts={"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){var c,d,f,g,h;for(g=e.keys(b),h=[],d=0,f=g.length;f>d;d++)c=g[d],h.push(a.outPorts.out.send(c));return h}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return g(b,a),b.prototype.description="gets only the keys of an object and forward them as an array",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/Values.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),e=b("underscore"),c=function(a){function b(){var a=this;this.inPorts={"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){var c,d,f,g,h;for(g=e.values(b),h=[],d=0,f=g.length;f>d;d++)c=g[d],h.push(a.outPorts.out.send(c));return h}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return g(b,a),b.prototype.description="gets only the values of an object and forward them as an array",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/Join.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("underscore"),d=b("noflo"),c=function(a){function b(){var a=this;this.delimiter=",",this.inPorts={"in":new d.Port,delimiter:new d.Port},this.outPorts={out:new d.Port},this.inPorts.delimiter.on("data",function(b){a.delimiter=b}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return e.isObject(b)?a.outPorts.out.send(e.values(b).join(a.delimiter)):void 0}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return g(b,a),b.prototype.description="Join all values of a passed packet together as a  string with a predefined delimiter",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/ExtractProperty.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),e=b("underscore"),c=function(a){function b(){var a=this;this.key=null,this.inPorts={"in":new d.Port,key:new d.Port},this.outPorts={out:new d.Port},this.inPorts.key.on("data",function(b){a.key=b}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return null!=a.key&&e.isObject(b)?a.outPorts.out.send(b[a.key]):void 0}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return g(b,a),b.prototype.description="Given a key, return only the value matching that key  in the incoming object",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/InsertProperty.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),e=b("underscore"),c=function(a){function b(){var a=this;this.properties={},this.inPorts={"in":new d.Port,property:new d.Port},this.outPorts={out:new d.Port},this.inPorts.property.on("connect",function(){return a.properties={}}),this.inPorts.property.on("begingroup",function(b){a.key=b}),this.inPorts.property.on("data",function(b){return null!=a.key?a.properties[a.key]=b:void 0}),this.inPorts.property.on("endgroup",function(){return a.key=null}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){var c,d,f;e.isObject(b)||(b={}),f=a.properties;for(c in f)d=f[c],b[c]=d;return a.outPorts.out.send(b)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return g(b,a),b.prototype.description="Insert a property into incoming objects.",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/SliceArray.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.begin=0,this.end=null,this.inPorts={"in":new d.Port,begin:new d.Port,end:new d.Port},this.outPorts={out:new d.Port,error:new d.Port},this.inPorts.begin.on("data",function(b){return a.begin=b}),this.inPorts.end.on("data",function(b){return a.end=b}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.sliceData(b)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return f(b,a),b.prototype.sliceData=function(a){var b;return a.slice?(null!==this.end&&(b=a.slice(this.begin,this.end)),null===this.end&&(b=a.slice(this.begin)),this.outPorts.out.send(b)):this.outPorts.error.send("Data "+typeof a+" cannot be sliced")},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/SplitArray.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.inPorts={"in":new d.Port},this.outPorts={out:new d.ArrayPort},this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){var c,d,e,f,g;{if("[object Array]"===toString.call(b)){for(g=[],e=0,f=b.length;f>e;e++)c=b[e],g.push(a.outPorts.out.send(c));return g}for(d in b)c=b[d],a.outPorts.out.beginGroup(d),a.outPorts.out.send(c),a.outPorts.out.endGroup()}}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return f(b,a),b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/FilterPropertyValue.js",function(exports,require,module){var FilterPropertyValue,noflo,__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};noflo=require("noflo"),FilterPropertyValue=function(_super){function FilterPropertyValue(){var a=this;this.accepts={},this.regexps={},this.inPorts={accept:new noflo.ArrayPort,regexp:new noflo.ArrayPort,"in":new noflo.Port},this.outPorts={out:new noflo.Port},this.inPorts.accept.on("data",function(b){return a.prepareAccept(b)}),this.inPorts.regexp.on("data",function(b){return a.prepareRegExp(b)}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.filtering()?a.filterData(b):a.outPorts.out.send(b)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return __extends(FilterPropertyValue,_super),FilterPropertyValue.prototype.filtering=function(){return Object.keys(this.accepts).length>0||Object.keys(this.regexps).length>0},FilterPropertyValue.prototype.prepareAccept=function(map){var e,mapParts;if("object"==typeof map)return this.accepts=map,void 0;mapParts=map.split("=");try{return this.accepts[mapParts[0]]=eval(mapParts[1])}catch(_error){if(e=_error,e instanceof ReferenceError)return this.accepts[mapParts[0]]=mapParts[1];throw e}},FilterPropertyValue.prototype.prepareRegExp=function(a){var b;return b=a.split("="),this.regexps[b[0]]=b[1]},FilterPropertyValue.prototype.filterData=function(a){var b,c,d,e,f;c={},b=!1;for(d in a){if(f=a[d],this.accepts[d]){if(this.accepts[d]!==f)continue;b=!0}if(this.regexps[d]){if(e=new RegExp(this.regexps[d]),!e.exec(f))continue;b=!0}c[d]=f}return b?this.outPorts.out.send(c):void 0},FilterPropertyValue}(noflo.Component),exports.getComponent=function(){return new FilterPropertyValue}}),require.register("noflo-noflo-objects/components/FlattenObject.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.map={},this.inPorts={map:new d.ArrayPort,"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts.map.on("data",function(b){return a.prepareMap(b)}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){var c,d,e,f,g;for(f=a.flattenObject(b),g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(a.outPorts.out.send(a.mapKeys(c)));return g}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return f(b,a),b.prototype.prepareMap=function(a){var b;return"object"==typeof a?(this.map=a,void 0):(b=a.split("="),this.map[b[0]]=b[1])},b.prototype.mapKeys=function(a){var b,c,d;d=this.map;for(b in d)c=d[b],a[c]=a.flattenedKeys[b];return delete a.flattenedKeys,a},b.prototype.flattenObject=function(a){var b,c,d,e,f,g,h;b=[];for(d in a)if(f=a[d],"object"!=typeof f)b.push({flattenedKeys:[d],value:f});else for(c=this.flattenObject(f),g=0,h=c.length;h>g;g++)e=c[g],e.flattenedKeys.push(d),b.push(e);return b},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/MapProperty.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.map={},this.regexps={},this.inPorts={map:new d.ArrayPort,regexp:new d.ArrayPort,"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts.map.on("data",function(b){return a.prepareMap(b)}),this.inPorts.regexp.on("data",function(b){return a.prepareRegExp(b)}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.mapData(b)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return f(b,a),b.prototype.prepareMap=function(a){var b;return"object"==typeof a?(this.map=a,void 0):(b=a.split("="),this.map[b[0]]=b[1])},b.prototype.prepareRegExp=function(a){var b;return b=a.split("="),this.regexps[b[0]]=b[1]},b.prototype.mapData=function(a){var b,c,d,e,f,g,h,i;d={};for(e in a){h=a[e],e in this.map&&(e=this.map[e]),i=this.regexps;for(b in i)g=i[b],f=new RegExp(b),c=f.exec(e),c&&(e=e.replace(f,g));e in d?Array.isArray(d[e])?d[e].push(h):d[e]=[d[e],h]:d[e]=h}return this.outPorts.out.send(d)},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/RemoveProperty.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),e=b("underscore"),c=function(a){function b(){var a=this;this.properties=[],this.inPorts={"in":new d.Port,property:new d.ArrayPort},this.outPorts={out:new d.Port},this.inPorts.property.on("data",function(b){return a.properties.push(b)}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.outPorts.out.send(a.removeProperties(b))}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return g(b,a),b.prototype.removeProperties=function(a){var b,c,d,f;for(a=e.clone(a),f=this.properties,c=0,d=f.length;d>c;c++)b=f[c],delete a[b];return a},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/MapPropertyValue.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.mapAny={},this.map={},this.regexpAny={},this.regexp={},this.inPorts={map:new d.ArrayPort,regexp:new d.ArrayPort,"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts.map.on("data",function(b){return a.prepareMap(b)}),this.inPorts.regexp.on("data",function(b){return a.prepareRegExp(b)}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.mapData(b)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return f(b,a),b.prototype.prepareMap=function(a){var b;return"object"==typeof a?(this.mapAny=a,void 0):(b=a.split("="),3===b.length?(this.map[b[0]]={from:b[1],to:b[2]},void 0):this.mapAny[b[0]]=b[1])},b.prototype.prepareRegExp=function(a){var b;return b=a.split("="),3===b.length?(this.regexp[b[0]]={from:b[1],to:b[2]},void 0):this.regexpAny[b[0]]=b[1]},b.prototype.mapData=function(a){var b,c,d,e,f,g,h;for(d in a){g=a[d],this.map[d]&&this.map[d].from===g&&(a[d]=this.map[d].to),this.mapAny[g]&&(a[d]=this.mapAny[g]),this.regexp[d]&&(e=new RegExp(this.regexp[d].from),c=e.exec(g),c&&(a[d]=g.replace(e,this.regexp[d].to))),h=this.regexpAny;for(b in h)f=h[b],e=new RegExp(b),c=e.exec(g),c&&(a[d]=g.replace(e,f))}return this.outPorts.out.send(a)},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/GetObjectKey.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.sendGroup=!0,this.data=[],this.key=[],this.inPorts={"in":new d.Port,key:new d.ArrayPort,sendgroup:new d.Port},this.outPorts={out:new d.Port,object:new d.Port,missed:new d.Port},this.inPorts["in"].on("connect",function(){return a.data=[]}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.key.length?a.getKey(b):a.data.push(b)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){var b,c,d,e;if(!a.data.length)return a.outPorts.out.disconnect(),void 0;if(a.key.length){for(e=a.data,c=0,d=e.length;d>c;c++)b=e[c],a.getKey(b);return a.outPorts.out.disconnect(),a.outPorts.object.isAttached()?a.outPorts.object.disconnect():void 0}}),this.inPorts.key.on("data",function(b){return a.key.push(b)}),this.inPorts.key.on("disconnect",function(){var b,c,d,e;if(a.data.length){for(e=a.data,c=0,d=e.length;d>c;c++)b=e[c],a.getKey(b);return a.data=[],a.outPorts.out.disconnect()}}),this.inPorts.sendgroup.on("data",function(b){return"string"==typeof b?"false"===b.toLowerCase()?(a.sendGroup=!1,void 0):(a.sendGroup=!0,void 0):a.sendGroup=b})}return f(b,a),b.prototype.error=function(a,b){if(this.outPorts.missed.isAttached())return this.outPorts.missed.send(a),this.outPorts.missed.disconnect(),void 0;throw b},b.prototype.getKey=function(a){var b,c,d,e;if(!this.key.length)return this.error(a,new Error("Key not defined")),void 0;if("object"!=typeof a)return this.error(a,new Error("Data is not an object")),void 0;if(null===a)return this.error(a,new Error("Data is NULL")),void 0;for(e=this.key,c=0,d=e.length;d>c;c++)b=e[c],void 0!==a[b]?(this.sendGroup&&this.outPorts.out.beginGroup(b),this.outPorts.out.send(a[b]),this.sendGroup&&this.outPorts.out.endGroup()):this.error(a,new Error("Object has no key "+b));return this.outPorts.object.isAttached()?this.outPorts.object.send(a):void 0},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/UniqueArray.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.inPorts={"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts["in"].on("data",function(b){return a.outPorts.out.send(a.unique(b))}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return f(b,a),b.prototype.unique=function(a){var b,c,d,e,f;for(d={},c=[],e=0,f=a.length;f>e;e++)b=a[e],d[b]=b;for(b in d)c.push(b);return c},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/SetProperty.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.properties={},this.inPorts={property:new d.ArrayPort,"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts.property.on("data",function(b){return a.setProperty(b)}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.addProperties(b)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return f(b,a),b.prototype.setProperty=function(a){var b;return"object"==typeof a?(this.prop=a,void 0):(b=a.split("="),this.properties[b[0]]=b[1])},b.prototype.addProperties=function(a){var b,c,d;d=this.properties;for(b in d)c=d[b],a[b]=c;return this.outPorts.out.send(a)},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/SimplifyObject.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),e=b("underscore")._,c=function(a){function b(){var a=this;this.inPorts={"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts["in"].on("beginGroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.outPorts.out.send(a.simplify(b))}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return g(b,a),b.prototype.simplify=function(a){return e.isArray(a)?1===a.length?a[0]:a:e.isObject(a)?this.simplifyObject(a):a},b.prototype.simplifyObject=function(a){var b,c,d=this;return b=e.keys(a),1===b.length&&"$data"===b[0]?this.simplify(a.$data):(c={},e.each(a,function(a,b){return c[b]=d.simplify(a)}),c)},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/DuplicateProperty.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.properties={},this.separator="/",this.inPorts={property:new d.ArrayPort,separator:new d.Port,"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts.property.on("data",function(b){return a.setProperty(b)}),this.inPorts.separator.on("data",function(b){return a.separator=b}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.addProperties(b)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return f(b,a),b.prototype.setProperty=function(a){var b;return"object"==typeof a?(this.prop=a,void 0):(b=a.split("="),b.length>2?(this.properties[b.pop()]=b,void 0):this.properties[b[1]]=b[0])},b.prototype.addProperties=function(a){var b,c,d,e,f,g,h;h=this.properties;for(c in h)if(d=h[c],"string"!=typeof d){for(b=[],f=0,g=d.length;g>f;f++)e=d[f],b.push(a[e]);a[c]=b.join(this.separator)}else a[c]=a[d];return this.outPorts.out.send(a)},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/CreateObject.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.inPorts={start:new d.Port("bang")},this.outPorts={out:new d.Port("object")},this.inPorts.start.on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts.start.on("data",function(){return a.outPorts.out.send({}),a.outPorts.out.disconnect()}),this.inPorts.start.on("endgroup",function(){return a.outPorts.out.endGroup()})}return f(b,a),b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/CreateDate.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.inPorts={"in":new d.Port("string")},this.outPorts={out:new d.Port("object")},this.inPorts["in"].on("data",function(b){var c;return c="now"===b||null===b||b===!0?new Date:new Date(b),a.outPorts.out.send(c),a.outPorts.out.disconnect()})}return f(b,a),b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/SetPropertyValue.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.property=null,this.value=null,this.data=[],this.groups=[],this.inPorts={property:new d.Port,value:new d.Port,"in":new d.Port},this.outPorts={out:new d.Port},this.inPorts.property.on("data",function(b){return a.property=b,a.value&&a.data.length?a.addProperties():void 0}),this.inPorts.value.on("data",function(b){return a.value=b,a.property&&a.data.length?a.addProperties():void 0}),this.inPorts["in"].on("begingroup",function(b){return a.groups.push(b)}),this.inPorts["in"].on("data",function(b){return a.property&&a.value?(a.addProperty({data:b,group:a.groups.slice(0)}),void 0):a.data.push({data:b,group:a.groups.slice(0)})}),this.inPorts["in"].on("endgroup",function(){return a.groups.pop()}),this.inPorts["in"].on("disconnect",function(){return a.property&&a.value&&a.outPorts.out.disconnect(),a.value=null})}return f(b,a),b.prototype.addProperty=function(a){var b,c,d,e,f,g,h,i;for(a.data[this.property]=this.value,g=a.group,c=0,e=g.length;e>c;c++)b=g[c],this.outPorts.out.beginGroup(b);for(this.outPorts.out.send(a.data),h=a.group,i=[],d=0,f=h.length;f>d;d++)b=h[d],i.push(this.outPorts.out.endGroup());return i},b.prototype.addProperties=function(){var a,b,c,d;for(d=this.data,b=0,c=d.length;c>b;b++)a=d[b],this.addProperty(a);return this.data=[],this.outPorts.out.disconnect()},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/components/CallMethod.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;
this.method=null,this.inPorts={"in":new d.Port("object"),method:new d.Port("string")},this.outPorts={out:new d.Port("all"),error:new d.Port("string")},this.inPorts["in"].on("data",function(b){var c;if(a.method){if(!b[a.method]){if(c="Method '"+a.method+"' not available",a.outPorts.error.isAttached())return a.outPorts.error.send(c),a.outPorts.error.disconnect(),void 0;throw new Error(c)}return a.outPorts.out.send(b[a.method].call(b))}}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()}),this.inPorts.method.on("data",function(b){return a.method=b})}return f(b,a),b.prototype.description="call a method on an object",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-objects/component.json",function(a,b,c){c.exports=JSON.parse('{"name":"noflo-objects","description":"Object Utilities for NoFlo","version":"0.1.0","keywords":["noflo","objects","utilities"],"author":"Kenneth Kan <kenhkan@gmail.com>","repo":"noflo/objects","dependencies":{"noflo/noflo":"*","component/underscore":"*"},"scripts":["components/Extend.js","components/MergeObjects.js","components/SplitObject.js","components/ReplaceKey.js","components/Keys.js","components/Values.js","components/Join.js","components/ExtractProperty.js","components/InsertProperty.js","components/SliceArray.js","components/SplitArray.js","components/FilterPropertyValue.js","components/FlattenObject.js","components/MapProperty.js","components/RemoveProperty.js","components/MapPropertyValue.js","components/GetObjectKey.js","components/UniqueArray.js","components/SetProperty.js","components/SimplifyObject.js","components/DuplicateProperty.js","components/CreateObject.js","components/CreateDate.js","components/SetPropertyValue.js","components/CallMethod.js","index.js"],"json":["component.json"],"noflo":{"components":{"Extend":"components/Extend.js","MergeObjects":"components/MergeObjects.js","SplitObject":"components/SplitObject.js","ReplaceKey":"components/ReplaceKey.js","Keys":"components/Keys.js","Values":"components/Values.js","Join":"components/Join.js","ExtractProperty":"components/ExtractProperty.js","InsertProperty":"components/InsertProperty.js","SliceArray":"components/SliceArray.js","SplitArray":"components/SplitArray.js","FilterPropertyValue":"components/FilterPropertyValue.js","FlattenObject":"components/FlattenObject.js","MapProperty":"components/MapProperty.js","RemoveProperty":"components/RemoveProperty.js","MapPropertyValue":"components/MapPropertyValue.js","GetObjectKey":"components/GetObjectKey.js","UniqueArray":"components/UniqueArray.js","SetProperty":"components/SetProperty.js","SimplifyObject":"components/SimplifyObject.js","DuplicateProperty":"components/DuplicateProperty.js","CreateObject":"components/CreateObject.js","CreateDate":"components/CreateDate.js","SetPropertyValue":"components/SetPropertyValue.js","CallMethod":"components/CallMethod.js"}}}')}),require.register("noflo-noflo-strings/index.js",function(){}),require.register("noflo-noflo-strings/components/Filter.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.regex=null,this.inPorts={"in":new d.Port("string"),pattern:new d.Port("string")},this.outPorts={out:new d.Port("string"),missed:new d.Port("string")},this.inPorts.pattern.on("data",function(b){return a.regex=new RegExp(b)}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return"string"!=typeof b&&(b=b.toString()),null!=a.regex&&null!=(null!=b?"function"==typeof b.match?b.match(a.regex):void 0:void 0)?(a.outPorts.out.send(b),void 0):a.outPorts.missed.isAttached()?a.outPorts.missed.send(b):void 0}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect(),a.outPorts.missed.isAttached()?a.outPorts.missed.disconnect():void 0})}return f(b,a),b.prototype.description="filters an IP which is a string using a regex",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-strings/components/SendString.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.string="",this.inPorts={string:new d.Port("string"),"in":new d.Port("bang")},this.outPorts={out:new d.Port("string")},this.inPorts.string.on("data",function(b){return a.string=b}),this.inPorts["in"].on("data",function(){return a.outPorts.out.send(a.string)}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return f(b,a),b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-strings/components/StringTemplate.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),e=b("underscore"),c=function(a){function b(){var a=this;this.template=null,this.inPorts={template:new d.Port("string"),"in":new d.Port("object")},this.outPorts={out:new d.Port("string")},this.inPorts.template.on("data",function(b){return a.template=e.template(b)}),this.inPorts["in"].on("data",function(b){return a.outPorts.out.send(a.template(b))}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return g(b,a),b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-strings/components/Replace.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.pattern=null,this.replacement="",this.inPorts={"in":new d.Port("string"),pattern:new d.Port("string"),replacement:new d.Port("string")},this.outPorts={out:new d.Port("string")},this.inPorts.pattern.on("data",function(b){return a.pattern=new RegExp(b,"g")}),this.inPorts.replacement.on("data",function(b){return a.replacement=b.replace("\\\\n","\n")}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){var c;return c=b,null!=a.pattern&&(c=(""+b).replace(a.pattern,a.replacement)),a.outPorts.out.send(c)}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return f(b,a),b.prototype.description="Given a fixed pattern and its replacement, replace all  occurrences in the incoming template.",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-strings/components/Jsonify.js",function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),e=b("underscore"),c=function(a){function b(){var a=this;this.raw=!1,this.inPorts={"in":new d.Port,raw:new d.Port},this.outPorts={out:new d.Port},this.inPorts.raw.on("data",function(b){return a.raw="true"===b}),this.inPorts["in"].on("begingroup",function(b){return a.outPorts.out.beginGroup(b)}),this.inPorts["in"].on("data",function(b){return a.raw&&e.isString(b)?(a.outPorts.out.send(b),void 0):a.outPorts.out.send(JSON.stringify(b))}),this.inPorts["in"].on("endgroup",function(){return a.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.out.disconnect()})}return g(b,a),b.prototype.description="JSONify all incoming, unless a raw flag is set to  exclude data packets that are pure strings",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-strings/component.json",function(a,b,c){c.exports=JSON.parse('{"name":"noflo-strings","description":"String Utilities for NoFlo","author":"Henri Bergius <henri.bergius@iki.fi>","repo":"noflo/noflo-strings","version":"0.0.1","keywords":[],"dependencies":{"noflo/noflo":"*","component/underscore":"*"},"scripts":["components/Filter.js","components/SendString.js","components/StringTemplate.js","components/Replace.js","components/Jsonify.js","index.js"],"json":["component.json"],"noflo":{"components":{"Filter":"components/Filter.js","SendString":"components/SendString.js","StringTemplate":"components/StringTemplate.js","Replace":"components/Replace.js","Jsonify":"components/Jsonify.js"}}}')}),require.register("noflo-noflo-dom/index.js",function(){}),require.register("noflo-noflo-dom/components/AddClass.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.element=null,this["class"]=null,this.inPorts={element:new d.Port("object"),"class":new d.Port("string")},this.outPorts={},this.inPorts.element.on("data",function(b){return a.element=b,a["class"]?a.addClass():void 0}),this.inPorts["class"].on("data",function(b){return a["class"]=b,a.element?a.addClass():void 0})}return f(b,a),b.prototype.description="Add a class to an element",b.prototype.addClass=function(){return this.element.classList.add(this["class"])},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-dom/components/AppendChild.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.parent=null,this.children=[],this.inPorts={parent:new d.Port("object"),child:new d.Port("object")},this.outPorts={},this.inPorts.parent.on("data",function(b){return a.parent=b,a.children.length?a.append():void 0}),this.inPorts.child.on("data",function(b){return a.parent?a.parent.appendChild(b):(a.children.push(b),void 0)})}return f(b,a),b.prototype.description="Append elements as children of a parent element",b.prototype.append=function(){var a,b,c,d;for(d=this.children,b=0,c=d.length;c>b;b++)a=d[b],this.parent.appendChild(a);return this.children=[]},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-dom/components/CreateElement.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.inPorts={tagname:new d.Port("string")},this.outPorts={element:new d.Port("object")},this.inPorts.tagname.on("data",function(b){return a.outPorts.element.send(document.createElement(b))}),this.inPorts.tagname.on("disconnect",function(){return a.outPorts.element.disconnect()})}return f(b,a),b.prototype.description="Create a new DOM Element",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-dom/components/CreateFragment.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.inPorts={"in":new d.Port("bang")},this.outPorts={fragment:new d.Port("object")},this.inPorts["in"].on("data",function(){return a.outPorts.fragment.send(document.createDocumentFragment())}),this.inPorts["in"].on("disconnect",function(){return a.outPorts.fragment.disconnect()})}return f(b,a),b.prototype.description="Create a new DOM DocumentFragment",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-dom/components/GetAttribute.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.attribute=null,this.element=null,this.inPorts={element:new d.Port("object"),attribute:new d.Port("string")},this.outPorts={out:new d.Port("string")},this.inPorts.element.on("data",function(b){return a.element=b,a.attribute?a.getAttribute():void 0}),this.inPorts.attribute.on("data",function(b){return a.attribute=b,a.element?a.getAttribute():void 0})}return f(b,a),b.prototype.getAttribute=function(){var a;return a=this.element.getAttribute(this.attribute),this.outPorts.out.beginGroup(this.attribute),this.outPorts.out.send(a),this.outPorts.out.endGroup(),this.outPorts.out.disconnect()},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-dom/components/GetElement.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.container=null,this.inPorts={"in":new d.Port("object"),selector:new d.Port("string")},this.outPorts={element:new d.Port("object"),error:new d.Port("object")},this.inPorts["in"].on("data",function(b){return"function"!=typeof b.querySelector?(a.error("Given container doesn't support querySelectors"),void 0):a.container=b}),this.inPorts.selector.on("data",function(b){return a.select(b)})}return f(b,a),b.prototype.description="Get a DOM element matching a query",b.prototype.select=function(a){var b,c,d,e;if(b=this.container?this.container.querySelectorAll(a):document.querySelectorAll(a),!b.length)return this.error("No element matching '"+a+"' found"),void 0;for(d=0,e=b.length;e>d;d++)c=b[d],this.outPorts.element.send(c);return this.outPorts.element.disconnect()},b.prototype.error=function(a){if(this.outPorts.error.isAttached())return this.outPorts.error.send(new Error(a)),this.outPorts.error.disconnect(),void 0;throw new Error(a)},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-dom/components/ReadHtml.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.inPorts={container:new d.Port("object")},this.outPorts={html:new d.Port("string")},this.inPorts.container.on("data",function(b){return a.outPorts.html.send(b.innerHTML),a.outPorts.html.disconnect()})}return f(b,a),b.prototype.description="Read HTML from an existing element",b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-dom/components/WriteHtml.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.container=null,this.html=null,this.inPorts={html:new d.Port("string"),container:new d.Port("object")},this.outPorts={},this.inPorts.html.on("data",function(b){return a.html=b,a.container?a.writeHtml():void 0}),this.inPorts.container.on("data",function(b){return a.container=b,a.html?a.writeHtml():void 0})}return f(b,a),b.prototype.description="Write HTML inside an existing element",b.prototype.writeHtml=function(){return this.container.innerHTML=this.html,this.html=null},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-dom/components/RemoveClass.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.element=null,this["class"]=null,this.inPorts={element:new d.Port("object"),"class":new d.Port("string")},this.outPorts={},this.inPorts.element.on("data",function(b){return a.element=b,a["class"]?a.removeClass():void 0}),this.inPorts["class"].on("data",function(b){return a["class"]=b,a.element?a.removeClass():void 0})}return f(b,a),b.prototype.description="Remove a class from an element",b.prototype.removeClass=function(){return this.element.classList.remove(this["class"])},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-dom/component.json",function(a,b,c){c.exports=JSON.parse('{"name":"noflo-dom","description":"Document Object Model components for NoFlo","author":"Henri Bergius <henri.bergius@iki.fi>","repo":"noflo/noflo-dom","version":"0.0.1","keywords":[],"dependencies":{"noflo/noflo":"*"},"scripts":["components/AddClass.js","components/AppendChild.js","components/CreateElement.js","components/CreateFragment.js","components/GetAttribute.js","components/GetElement.js","components/ReadHtml.js","components/WriteHtml.js","components/RemoveClass.js","index.js"],"json":["component.json"],"noflo":{"components":{"AddClass":"components/AddClass.js","AppendChild":"components/AppendChild.js","CreateElement":"components/CreateElement.js","CreateFragment":"components/CreateFragment.js","GetAttribute":"components/GetAttribute.js","GetElement":"components/GetElement.js","WriteHtml":"components/WriteHtml.js","ReadHtml":"components/ReadHtml.js","RemoveClass":"components/RemoveClass.js"}}}')}),require.register("noflo-noflo-css/index.js",function(){}),require.register("noflo-noflo-css/components/MoveElement.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.element=null,this.inPorts={element:new d.Port("object"),x:new d.Port("number"),y:new d.Port("number"),z:new d.Port("number")},this.inPorts.element.on("data",function(b){return a.element=b}),this.inPorts.x.on("data",function(b){return a.setPosition("left",""+b+"px")}),this.inPorts.y.on("data",function(b){return a.setPosition("top",""+b+"px")}),this.inPorts.z.on("data",function(b){return a.setPosition("zIndex",b)})}return f(b,a),b.prototype.description="Change the coordinates of a DOM element",b.prototype.setPosition=function(a,b){return this.element.style.position="absolute",this.element.style[a]=b},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-css/components/RotateElement.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.element=null,this.inPorts={element:new d.Port("object"),percent:new d.Port("number")},this.inPorts.element.on("data",function(b){return a.element=b}),this.inPorts.percent.on("data",function(b){return a.element?a.setRotation(a.element,b):void 0})}return f(b,a),b.prototype.description="Change the coordinates of a DOM element",b.prototype.setRotation=function(a,b){var c;return c=360*b%360,this.setVendor(a,"transform","rotate("+c+"deg)")},b.prototype.setVendor=function(a,b,c){var d;return d=b.charAt(0).toUpperCase()+b.substr(1),a.style["webkit"+d]=c,a.style["moz"+d]=c,a.style["ms"+d]=c,a.style["o"+d]=c,a.style[b]=c},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-css/component.json",function(a,b,c){c.exports=JSON.parse('{"name":"noflo-css","description":"Cascading Style Sheets components for NoFlo","author":"Henri Bergius <henri.bergius@iki.fi>","repo":"noflo/noflo-css","version":"0.0.1","keywords":[],"dependencies":{"noflo/noflo":"*"},"scripts":["components/MoveElement.js","components/RotateElement.js","index.js"],"json":["component.json"],"noflo":{"components":{"MoveElement":"components/MoveElement.js","RotateElement":"components/RotateElement.js"}}}')}),require.register("noflo-noflo-interaction/index.js",function(){}),require.register("noflo-noflo-interaction/components/ListenDrag.js",function(a,b){var c,d,e=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){this.dragend=e(this.dragend,this),this.dragmove=e(this.dragmove,this),this.dragstart=e(this.dragstart,this);var a=this;this.inPorts={element:new d.Port("object")},this.outPorts={start:new d.ArrayPort("object"),movex:new d.ArrayPort("number"),movey:new d.ArrayPort("number"),end:new d.ArrayPort("object")},this.inPorts.element.on("data",function(b){return a.subscribe(b)})}return g(b,a),b.prototype.description="Listen to drag events on a DOM element",b.prototype.subscribe=function(a){return a.addEventListener("dragstart",this.dragstart,!1),a.addEventListener("drag",this.dragmove,!1),a.addEventListener("dragend",this.dragend,!1)},b.prototype.dragstart=function(a){return a.preventDefault(),a.stopPropagation(),this.outPorts.start.send(a),this.outPorts.start.disconnect()},b.prototype.dragmove=function(a){return a.preventDefault(),a.stopPropagation(),this.outPorts.movex.send(a.clientX),this.outPorts.movey.send(a.clientY)},b.prototype.dragend=function(a){return a.preventDefault(),a.stopPropagation(),this.outPorts.movex.isConnected()&&this.outPorts.movex.disconnect(),this.outPorts.movey.isConnected()&&this.outPorts.movey.disconnect(),this.outPorts.end.send(a),this.outPorts.end.disconnect()},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-interaction/components/ListenKeyboard.js",function(a,b){var c,d,e=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){this.keypress=e(this.keypress,this);var a=this;this.inPorts={element:new d.Port("object")},this.outPorts={keypress:new d.Port("integer")},this.inPorts.element.on("data",function(b){return a.subscribe(b)})}return g(b,a),b.prototype.subscribe=function(a){return a.addEventListener("keypress",this.keypress,!1)},b.prototype.keypress=function(a){return this.outPorts.keypress.isAttached()?(this.outPorts.keypress.send(a.keyCode),this.outPorts.keypress.disconnect()):void 0},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-interaction/components/ListenMouse.js",function(a,b){var c,d,e=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){this.dblclick=e(this.dblclick,this),this.click=e(this.click,this);var a=this;this.inPorts={element:new d.Port("object")},this.outPorts={click:new d.ArrayPort("object"),dblclick:new d.ArrayPort("object")},this.inPorts.element.on("data",function(b){return a.subscribe(b)})}return g(b,a),b.prototype.description="Listen to mouse events on a DOM element",b.prototype.subscribe=function(a){return a.addEventListener("click",this.click,!1),a.addEventListener("dblclick",this.dblclick,!1)},b.prototype.click=function(a){return this.outPorts.click.sockets.length?(a.preventDefault(),a.stopPropagation(),this.outPorts.click.send(a),this.outPorts.click.disconnect()):void 0},b.prototype.dblclick=function(a){return this.outPorts.dblclick.sockets.length?(a.preventDefault(),a.stopPropagation(),this.outPorts.dblclick.send(a),this.outPorts.dblclick.disconnect()):void 0},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-interaction/components/ListenScroll.js",function(a,b){var c,d,e=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){this.scroll=e(this.scroll,this);var a=this;this.inPorts={start:new d.Port},this.outPorts={top:new d.Port("number"),bottom:new d.Port("number"),left:new d.Port("number"),right:new d.Port("number")},this.inPorts.start.on("data",function(){return a.subscribe()})}return g(b,a),b.prototype.description="Listen to scroll events",b.prototype.subscribe=function(){return window.addEventListener("scroll",this.scroll,!1)},b.prototype.scroll=function(){var a,b,c,d;return d=window.scrollY,b=window.scrollX,this.outPorts.top.isAttached()&&(this.outPorts.top.send(d),this.outPorts.top.disconnect()),this.outPorts.bottom.isAttached()&&(a=d+window.innerHeight,this.outPorts.bottom.send(a),this.outPorts.bottom.disconnect()),this.outPorts.left.isAttached()&&(this.outPorts.left.send(b),this.outPorts.left.disconnect()),this.outPorts.right.isAttached()?(c=b+window.innerWidth,this.outPorts.right.send(c),this.outPorts.right.disconnect()):void 0},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-interaction/components/ListenTouch.js",function(a,b){var c,d,e=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){this.touchend=e(this.touchend,this),this.touchmove=e(this.touchmove,this),this.touchstart=e(this.touchstart,this);var a=this;this.inPorts={element:new d.Port("object")},this.outPorts={start:new d.ArrayPort("object"),movex:new d.ArrayPort("number"),movey:new d.ArrayPort("number"),end:new d.ArrayPort("object")},this.inPorts.element.on("data",function(b){return a.subscribe(b)})}return g(b,a),b.prototype.description="Listen to touch events on a DOM element",b.prototype.subscribe=function(a){return a.addEventListener("touchstart",this.touchstart,!1),a.addEventListener("touchmove",this.touchmove,!1),a.addEventListener("touchend",this.touchend,!1)},b.prototype.touchstart=function(a){var b,c,d,e,f;if(a.preventDefault(),a.stopPropagation(),a.changedTouches&&a.changedTouches.length){for(f=a.changedTouches,b=d=0,e=f.length;e>d;b=++d)c=f[b],this.outPorts.start.beginGroup(b),this.outPorts.start.send(a),this.outPorts.start.endGroup();return this.outPorts.start.disconnect()}},b.prototype.touchmove=function(a){var b,c,d,e,f,g;if(a.preventDefault(),a.stopPropagation(),a.changedTouches&&a.changedTouches.length){for(f=a.changedTouches,g=[],b=d=0,e=f.length;e>d;b=++d)c=f[b],this.outPorts.movex.beginGroup(b),this.outPorts.movex.send(c.pageX),this.outPorts.movex.endGroup(),this.outPorts.movey.beginGroup(b),this.outPorts.movey.send(c.pageY),g.push(this.outPorts.movey.endGroup());return g}},b.prototype.touchend=function(a){var b,c,d,e,f;if(a.preventDefault(),a.stopPropagation(),a.changedTouches&&a.changedTouches.length){for(this.outPorts.movex.isConnected()&&this.outPorts.movex.disconnect(),this.outPorts.movey.isConnected()&&this.outPorts.movey.disconnect(),f=a.changedTouches,b=d=0,e=f.length;e>d;b=++d)c=f[b],this.outPorts.end.beginGroup(b),this.outPorts.end.send(a),this.outPorts.end.endGroup();return this.outPorts.end.disconnect()}},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-interaction/component.json",function(a,b,c){c.exports=JSON.parse('{"name":"noflo-interaction","description":"User interaction components for NoFlo","author":"Henri Bergius <henri.bergius@iki.fi>","repo":"noflo/noflo-interaction","version":"0.0.1","keywords":[],"dependencies":{"noflo/noflo":"*"},"scripts":["components/ListenDrag.js","components/ListenKeyboard.js","components/ListenMouse.js","components/ListenScroll.js","components/ListenTouch.js","index.js"],"json":["component.json"],"noflo":{"components":{"ListenDrag":"components/ListenDrag.js","ListenKeyboard":"components/ListenKeyboard.js","ListenMouse":"components/ListenMouse.js","ListenScroll":"components/ListenScroll.js","ListenTouch":"components/ListenTouch.js"}}}')}),require.register("noflo-noflo-physics/index.js",function(){}),require.register("noflo-noflo-physics/components/Spring.js",function(a,b){var c,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};"object"==typeof process&&"node"===process.title?(d=b("noflo"),e=process.nextTick):(d=b("noflo"),e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){return setTimeout(a,1)}),c=function(a){function b(){this.step=f(this.step,this);var a=this;this.massPosition=0,this.anchorPosition=0,this.stiffness=120,this.mass=10,this.friction=3,this.speed=0,this.inPorts={anchor:new d.Port("number"),"in":new d.Port("number"),stiffness:new d.Port("int"),mass:new d.Port("int"),friction:new d.Port("int")},this.outPorts={out:new d.Port("number")},this.inPorts.anchor.on("data",function(b){a.anchorPosition=b}),this.inPorts.stiffness.on("data",function(b){a.stiffness=b}),this.inPorts.mass.on("data",function(b){a.mass=b}),this.inPorts.friction.on("data",function(b){a.friction=b}),this.inPorts["in"].on("data",function(b){return a.massPosition=b,a.step()})}return h(b,a),b.prototype.description="Animates a directional spring",b.prototype.step=function(){var a,b,c,d,f,g;return c=this.massPosition-this.anchorPosition,b=-this.friction*this.speed,f=-this.stiffness*c,g=f+b,a=g/this.mass,this.speed+=a,d=this.massPosition,this.massPosition+=this.speed/100,Math.round(this.massPosition)!==Math.round(d)&&this.outPorts.out.send(Math.round(this.massPosition)),Math.round(this.massPosition)===this.anchorPosition&&Math.abs(this.speed)<.2?this.outPorts.out.disconnect():0!==this.massPosition?e(this.step):void 0},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-physics/component.json",function(a,b,c){c.exports=JSON.parse('{"name":"noflo-physics","description":"Physics components for NoFlo","author":"Henri Bergius <henri.bergius@iki.fi>","repo":"noflo/noflo-physics","version":"0.1.0","keywords":[],"dependencies":{"noflo/noflo":"*"},"scripts":["components/Spring.js","index.js"],"json":["component.json"],"noflo":{"components":{"Spring":"components/Spring.js"}}}')}),require.register("noflo-noflo-math/index.js",function(){}),require.register("noflo-noflo-math/components/Add.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.augend=null,this.addend=null,this.inPorts={augend:new d.Port,addend:new d.Port},this.outPorts={sum:new d.Port},this.inPorts.augend.on("data",function(b){return a.augend=b,null!==a.addend?a.add():void 0}),this.inPorts.addend.on("data",function(b){return a.addend=b,null!==a.augend?a.add():void 0})}return f(b,a),b.prototype.add=function(){return this.outPorts.sum.send(this.augend+this.addend),this.outPorts.sum.disconnect()},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-math/components/Subtract.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a
}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.minuend=null,this.subtrahend=null,this.inPorts={minuend:new d.Port,subtrahend:new d.Port},this.outPorts={difference:new d.Port},this.inPorts.minuend.on("data",function(b){return a.minuend=b,null!==a.subtrahend?a.add():void 0}),this.inPorts.subtrahend.on("data",function(b){return a.subtrahend=b,null!==a.minuend?a.add():void 0})}return f(b,a),b.prototype.add=function(){return this.outPorts.difference.send(this.minuend-this.subtrahend),this.outPorts.difference.disconnect()},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-math/components/Multiply.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.multiplicand=null,this.multiplier=null,this.inPorts={multiplicand:new d.Port,multiplier:new d.Port},this.outPorts={product:new d.Port},this.inPorts.multiplicand.on("data",function(b){return a.multiplicand=b,null!==a.multiplier?a.add():void 0}),this.inPorts.multiplier.on("data",function(b){return a.multiplier=b,null!==a.multiplicand?a.add():void 0})}return f(b,a),b.prototype.add=function(){return this.outPorts.product.send(this.multiplicand*this.multiplier),this.outPorts.product.disconnect()},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-math/components/Divide.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.dividend=null,this.divisor=null,this.inPorts={dividend:new d.Port,divisor:new d.Port},this.outPorts={quotient:new d.Port},this.inPorts.dividend.on("data",function(b){return a.dividend=b,null!==a.divisor?a.add():void 0}),this.inPorts.divisor.on("data",function(b){return a.divisor=b,null!==a.dividend?a.add():void 0})}return f(b,a),b.prototype.add=function(){return this.outPorts.quotient.send(this.dividend/this.divisor),this.outPorts.quotient.disconnect()},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-math/components/CountSum.js",function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){var a=this;this.portCounts={},this.inPorts={"in":new d.ArrayPort("number")},this.outPorts={out:new d.ArrayPort("number")},this.inPorts["in"].on("data",function(b,c){return a.count(c,b)}),this.inPorts["in"].on("disconnect",function(b){var c,d,e;for(e=a.inPorts["in"].sockets,c=0,d=e.length;d>c;c++)if(b=e[c],b.isConnected())return;return a.outPorts.out.disconnect()})}return f(b,a),b.prototype.count=function(a,b){var c,d,e,f,g,h;for(e=0,this.portCounts[a]=b,h=this.inPorts["in"].sockets,c=f=0,g=h.length;g>f;c=++f)d=h[c],"undefined"==typeof this.portCounts[c]&&(this.portCounts[c]=0),e+=this.portCounts[c];return this.outPorts.out.send(e)},b}(d.Component),a.getComponent=function(){return new c}}),require.register("noflo-noflo-math/component.json",function(a,b,c){c.exports=JSON.parse('{"name":"noflo-math","description":"Mathematical components for NoFlo","author":"Henri Bergius <henri.bergius@iki.fi>","repo":"noflo/noflo-math","version":"0.0.1","keywords":[],"dependencies":{"noflo/noflo":"*"},"scripts":["components/Add.js","components/Subtract.js","components/Multiply.js","components/Divide.js","components/CountSum.js","index.js"],"json":["component.json"],"noflo":{"components":{"Add":"components/Add.js","Subtract":"components/Subtract.js","Multiply":"components/Multiply.js","Divide":"components/Divide.js","CountSum":"components/CountSum.js"}}}')}),require.register("d4tocchini-noflo-draggabilly/index.js",function(){}),require.register("d4tocchini-noflo-draggabilly/components/Draggabilly.js",function(a,b){var c,d,e=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("noflo"),c=function(a){function b(){this.dragend=e(this.dragend,this),this.dragmove=e(this.dragmove,this),this.dragstart=e(this.dragstart,this),this.subscribe=e(this.subscribe,this);var a=this;this.options={},this.inPorts={container:new d.Port("object"),options:new d.Port,element:new d.Port("object")},this.outPorts={start:new d.ArrayPort("object"),movex:new d.ArrayPort("number"),movey:new d.ArrayPort("number"),end:new d.ArrayPort("object")},this.inPorts.container.on("data",function(b){return a.setOptions({containment:b})}),this.inPorts.options.on("data",function(b){return a.setOptions(b)}),this.inPorts.element.on("data",function(b){return a.subscribe(b)})}return g(b,a),b.prototype.description="Make shiz draggable",b.prototype.subscribe=function(a){var b;return b=this.draggie=new Draggabilly(a,this.options),b.on("dragStart",this.dragstart),b.on("dragMove",this.dragmove),b.on("dragEnd",this.dragend)},b.prototype.setOptions=function(a){var b,c,d;if("object"!=typeof a)throw new Error("Options is not an object");d=[];for(b in a)f.call(a,b)&&(c=a[b],d.push(this.options[b]=c));return d},b.prototype.dragstart=function(a,b){return this.outPorts.start.send(b),this.outPorts.start.disconnect(),this.outPorts.movex.send(a.position.x),this.outPorts.movey.send(a.position.y)},b.prototype.dragmove=function(a){return this.outPorts.movex.send(a.position.x),this.outPorts.movey.send(a.position.y)},b.prototype.dragend=function(a,b){return this.outPorts.movex.isConnected()&&this.outPorts.movex.disconnect(),this.outPorts.movey.isConnected()&&this.outPorts.movey.disconnect(),this.outPorts.end.send(b),this.outPorts.end.disconnect()},b}(d.Component),a.getComponent=function(){return new c}}),require.register("d4tocchini-noflo-draggabilly/component.json",function(a,b,c){c.exports=JSON.parse('{"name":"noflo-draggabilly","description":"Draggabilly components for the NoFlo flow-based programming environment","author":"D4 Tocchini <d4@rituwall.com>","repo":"d4tocchini/noflo-draggabilly","version":"0.0.1","keywords":["fbp","drag","dnd","draggable"],"dependencies":{"noflo/noflo":"*"},"scripts":["components/Draggabilly.js","index.js"],"json":["component.json"],"noflo":{"components":{"Draggabilly":"components/Draggabilly.js"}}}')}),require.register("noflo-ui/src/noflo-ui.js",function(a,b){var c,d,e,f;c=b("/meemoo-dataflow").Dataflow,d=b("/noflo"),e=b("./plugins/noflo"),f={iframe:b("./runtimes/iframe")},a.start=function(a,e){return d.graph.loadJSON(e,function(d){var e;return d.baseDir="/noflo-ui",b("./plugins/preview-iframe"),e=new c({appendTo:a}),e.plugins["preview-iframe"].setContents(d.properties.environment.preview,function(){var a;return a=new f.iframe(e,d,e.plugins["preview-iframe"].getElement()),e.plugins.noflo.registerGraph(d,a)})})}}),require.register("noflo-ui/src/plugins/noflo.js",function(a,b){var c,d,e,f;c=b("/meemoo-dataflow").Dataflow,d=c.prototype.module("graph"),e=function(){function a(){this.dataflow=null}return a.prototype.initialize=function(a){return this.dataflow=a,this.dataflow.plugins.source.listeners(!1),this.dataflow.plugins.log.listeners(!1)},a.prototype.registerGraph=function(a,b,c){var d,e=this;return d=this.dataflow.loadGraph({}),c=c?c:function(){},this.prepareGraph(a,d,b,c),b.iframe.onload=function(){var c,d,f,g,h,i,j,k,l,m,n,o;for(b.sendGraph("graph",{baseDir:a.baseDir}),m=a.nodes,g=0,j=m.length;j>g;g++)f=m[g],e.addNodeRuntime(f,b);for(n=a.edges,h=0,k=n.length;k>h;h++)c=n[h],e.addEdgeRuntime(c,b);for(o=a.initializers,i=0,l=o.length;l>i;i++)d=o[i],e.addInitialRuntime(d,b);return b.sendNetwork("start")}},a.prototype.registerSubgraph=function(a,b,c){var e;return e=new d.Model({dataflow:this.dataflow}),c=c?c:function(){},this.prepareGraph(a,e,b,c)},a.prototype.prepareGraph=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;for(b.nofloGraph=a,a.dataflowGraph=b,a.runtime=c,c.loadComponents(a.baseDir),c.sendGraph("graph",{baseDir:a.baseDir}),this.subscribeDataflowEvents(b),this.subscribeNoFloEvents(a,c),m=a.nodes,g=0,j=m.length;j>g;g++)f=m[g],this.addNode(f,b);for(n=a.edges,h=0,k=n.length;k>h;h++)d=n[h],this.addEdge(d,b);for(o=a.initializers,p=[],i=0,l=o.length;l>i;i++)e=o[i],p.push(this.addInitial(e,b));return p},a.prototype.subscribeDataflowEvents=function(a){var b=this;return a.on("change",function(){var c;return c=JSON.stringify(a.nofloGraph.toJSON(),null,2),b.dataflow.plugins.source.show(c)}),this.dataflow.on("node:add",function(c,d){return c===a?b.subscribeDataflowNode(d,a):void 0}),this.dataflow.on("edge:add",function(c,d){return c===a?b.subscribeDataflowEdge(d,a):void 0}),this.dataflow.on("node:remove",function(b,c){return b===a?c.nofloNode?a.nofloGraph.removeNode(c.nofloNode.id):void 0:void 0}),this.dataflow.on("edge:remove",function(b,c){return b===a?c.nofloEdge?(c=c.nofloEdge,a.nofloGraph.removeEdge(c.from.node,c.from.port,c.to.node,c.to.port)):void 0:void 0})},a.prototype.subscribeDataflowNode=function(a,b){var c;return a.nofloNode||(c=a.id+"",a.nofloNode=b.nofloGraph.addNode(c,a.type,{x:a.get("x"),y:a.get("y")})),a.on("change:label",function(a,c){var d;return d=a.nofloNode.id,b.nofloGraph.renameNode(d,c)}),a.on("change:x change:y",function(){return a.nofloNode.metadata.x=a.get("x"),a.nofloNode.metadata.y=a.get("y")}),a.on("change:state",function(c,d){var e,f,g,h,i;for(f={},i=b.nofloGraph.initializers,g=0,h=i.length;h>g;g++)if(e=i[g],e&&e.to.node===a.nofloNode.id&&e.to.port===c){if(e.from.data===d)return;f=e.metadata,b.nofloGraph.removeInitial(a.nofloNode.id,c)}return b.nofloGraph.addInitial(d,a.nofloNode.id,c,f)}),a.on("bang",function(c){var d,e,f,g,h;for(e={},h=b.nofloGraph.initializers,f=0,g=h.length;g>f;f++)d=h[f],d&&d.to.node===a.nofloNode.id&&d.to.port===c&&(e=d.metadata,b.nofloGraph.removeInitial(a.nofloNode.id,c));return b.nofloGraph.addInitial(!0,a.nofloNode.id,c,e)})},a.prototype.subscribeDataflowEdge=function(a,b){var c;if(!a.nofloEdge)try{a.nofloEdge=b.nofloGraph.addEdge(a.source.parentNode.id,a.source.id,a.target.parentNode.id,a.target.id,{route:a.get("route")})}catch(d){c=d}return a.on("change:route",function(){return a.nofloEdge.metadata.route=a.get("route")})},a.prototype.subscribeNoFloEvents=function(a,b){var c=this;return a.on("addNode",function(b){return c.addNode(b,a.dataflowGraph),c.dataflow.plugins.log.add("node added: "+b.id)}),a.on("removeNode",function(a){return null!=a.dataflowNode&&a.dataflowNode.remove(),c.dataflow.plugins.log.add("node removed: "+a.id),b.sendGraph("removenode",{id:a.id})}),a.on("addEdge",function(b){return c.addEdge(b,a.dataflowGraph),c.dataflow.plugins.log.add("edge added.")}),a.on("removeEdge",function(a){return null!=a.from.node&&null!=a.to.node&&null!=a.dataflowEdge&&a.dataflowEdge.remove(),c.dataflow.plugins.log.add("edge removed."),b.sendGraph("removeedge",{from:a.from,to:a.to})}),a.on("addInitial",function(b){return c.addInitial(b,a.dataflowGraph),c.dataflow.plugins.log.add("IIP added: "+JSON.stringify(b))}),a.on("removeInitial",function(a){return c.dataflow.plugins.log.add("IIP removed: "+JSON.stringify(a)),b.sendGraph("removeinitial",{from:a.from,to:a.to})}),b.listenNetwork(function(b,c){var d,e,f,g,h;for(e=null,h=a.edges,f=0,g=h.length;g>f;f++)if(d=h[f],d.to.node===c.to.node&&d.to.port===c.to.port){if(!c.from){e=d;continue}d.from.node===c.from.node&&d.from.port===c.from.port&&(e=d)}return e?e.dataflowEdge.get("log").add({type:b,group:c.group,data:c.data}):void 0})},a.prototype.addNode=function(a,b){var c;if(a)return this.addNodeRuntime(a,b.nofloGraph.runtime),a.dataflowNode||(c=b.nofloGraph.runtime.getComponentInstance(a.component,{id:a.id,label:a.id,x:null!=a.metadata.x?a.metadata.x:300,y:null!=a.metadata.y?a.metadata.y:300,parentGraph:b}),a.dataflowNode=c,a.nofloNode=a),b.nodes.add(c)},a.prototype.addNodeRuntime=function(a,b){return b.sendGraph("addnode",{id:a.id,component:a.component,metadata:a.metadata})},a.prototype.addEdge=function(a,b){var c,d;if(a)return this.addEdgeRuntime(a,b.nofloGraph.runtime),a.dataflowEdge||(c=this.dataflow.module("edge"),a.metadata||(a.metadata={}),d=new c.Model({id:a.from.node+":"+a.from.port+"::"+a.to.node+":"+a.to.port,parentGraph:b,source:a.from,target:a.to,route:a.metadata.route?a.metadata.route:0}),d.nofloEdge=a,a.dataflowEdge=d),b.edges.add(d)},a.prototype.addEdgeRuntime=function(a,b){return b.sendGraph("addedge",{from:a.from,to:a.to})},a.prototype.addInitial=function(a,b){var c,d;if(a)return this.addInitialRuntime(a,b.nofloGraph.runtime),c=b.nodes.get(a.to.node),c&&(d=c.inputs.get(a.to.port))?c.setState(a.to.port,a.from.data):void 0},a.prototype.addInitialRuntime=function(a,b){return b.sendGraph("addinitial",{from:a.from,to:a.to})},a}(),f=c.prototype.plugin("noflo"),c.prototype.plugins.noflo=new e}),require.register("noflo-ui/src/plugins/preview-iframe.js",function(a,b){var c,d,e;c=b("/meemoo-dataflow").Dataflow,d=function(){function a(){}return a.prototype.initialize=function(a){return this.$iframe=$('<iframe id="preview-iframe"></iframe>'),$("body").append(this.$iframe),a.addPlugin({id:"preview",name:"",menu:this.$iframe,icon:"play",pinned:!0})},a.prototype.getElement=function(){return this.$iframe[0]},a.prototype.setContents=function(a,b){var c;return this.$iframe.attr("src",a.src),this.$iframe.css({width:a.width,height:a.height}),c=_.once(b),this.$iframe.load(c)},a}(),e=c.prototype.plugin("preview-iframe"),c.prototype.plugins["preview-iframe"]=new d}),require.register("noflo-ui/src/runtimes/base.js",function(a,b,c){var d,e=function(a,b){return function(){return a.apply(b,arguments)}};d=function(){function a(a,b){this.dataflow=a,this.graph=b,this.updateInstancePorts=e(this.updateInstancePorts,this),this.components={},this.types={},this.instances={},this.networkListeners=[],this.connect("graph"),this.connect("network"),this.connect("component"),this.prepareComponents()}return a.prototype.libraryUpdater=_.debounce(function(){return this.dataflow.plugins.library.update({exclude:["base","base-resizable","dataflow-subgraph"]})},100),a.prototype.getComponentInstance=function(a,b){var c,d;return this.types[a]?(d=this.types[a],c=new d.Model(b),this.instances[a]||(this.instances[a]=[]),this.instances[a].push(c),c):null},a.prototype.loadComponents=function(a){return this.sendComponent("list",a)},a.prototype.prepareComponents=function(){var a,b,c,d,e=this;b={},this.graph.nodes.forEach(function(a){return b[a.component]={name:a.component,description:"",inPorts:[],outPorts:[]},e.graph.edges.forEach(function(c){return c.from.node===a.id&&b[a.component].outPorts.push({id:c.from.port,type:"all"}),c.to.node===a.id?b[a.component].inPorts.push({id:c.to.port,type:"all"}):void 0}),e.graph.initializers.forEach(function(c){return c.to.node===a.id?b[a.component].inPorts.push({id:c.to.port,type:"all"}):void 0})}),d=[];for(c in b)a=b[c],d.push(this.registerComponent(a));return d},a.prototype.registerComponent=function(a){var b,c;return this.components[a.name]=a,this.types[a.name]?(c=this.types[a.name].Model,c.prototype.inputs=a.inPorts,c.prototype.outputs=a.outPorts,this.instances[a.name]?this.instances[a.name].forEach(this.updateInstancePorts):void 0):(b=this.dataflow.node("base"),this.types[a.name]=this.dataflow.node(a.name),this.types[a.name].Model=b.Model.extend({defaults:function(){var c;return c=b.Model.prototype.defaults.call(this),c.type=a.name,c},inputs:a.inPorts,outputs:a.outPorts}),this.libraryUpdater())},a.prototype.updateInstancePorts=function(a){var b,c,d,e,f,g,h,i,j;for(h=this.components[a.type].inPorts,d=0,f=h.length;f>d;d++)c=h[d],b=a.inputs.get(c.id),b?b.set(c):a.inputs.add({label:c.id,parentNode:a,id:c.id,type:c.type});for(i=this.components[a.type].outPorts,j=[],e=0,g=i.length;g>e;e++)c=i[e],b=a.outputs.get(c.id),b?j.push(b.set(c)):j.push(a.outputs.add({label:c.id,parentNode:a,id:c.id,type:c.type}));return j},a.prototype.listenNetwork=function(a){return this.networkListeners.push(a)},a.prototype.sendNetworkEvent=function(a,b){var c,d,e,f,g;for(f=this.networkListeners,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c(a,b));return g},a.prototype.recvComponent=function(a,b){switch(a){case"component":return this.registerComponent(b)}},a.prototype.recvGraph=function(){},a.prototype.recvNetwork=function(a,b){switch(a){case"start":break;case"stop":break;default:return this.sendNetworkEvent(a,b)}},a.prototype.connect=function(){},a.prototype.sendGraph=function(){},a.prototype.sendNetwork=function(){},a.prototype.sendComponent=function(){},a}(),c.exports=d}),require.register("noflo-ui/src/runtimes/iframe.js",function(a,b,c){var d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("./base"),e=function(a){function b(a,c,d){this.onMessage=f(this.onMessage,this),this.iframe=d,this.origin=window.location.origin,b.__super__.constructor.call(this,a,c)}return h(b,a),b.prototype.sendGraph=function(a,b){return this.send("graph",a,b)},b.prototype.sendNetwork=function(a,b){return this.send("network",a,b)},b.prototype.sendComponent=function(a,b){return this.send("component",a,b)},b.prototype.getFrameWindow=function(){return this.iframe.contentWindow},b.prototype.send=function(a,b,c){var d;return d=this.getFrameWindow(),d&&"about:blank"!==d.location.href?d.postMessage({protocol:a,command:b,payload:c},d.location.href):void 0},b.prototype.connect=function(){return window.addEventListener("message",this.onMessage,!1)},b.prototype.disconnect=function(){return window.removeEventListener("message",this.onMessage,!1)},b.prototype.onMessage=function(a){switch(a.data.protocol){case"graph":return this.recvGraph(a.data.command,a.data.payload);case"network":return this.recvNetwork(a.data.command,a.data.payload);case"component":return this.recvComponent(a.data.command,a.data.payload)}},b}(d),c.exports=e}),require.register("noflo-ui/component.json",function(a,b,c){c.exports=JSON.parse('{"name":"noflo-ui","description":"NoFlo Development Environment","author":"Henri Bergius <henri.bergius@iki.fi>","repo":"noflo/noflo-ui","version":"0.1.0","keywords":["fbp","noflo","graph","visual","dataflow"],"dependencies":{"meemoo/dataflow":"*","noflo/noflo":"*","noflo/noflo-runtime-iframe":"*","noflo/noflo-core":"*","noflo/noflo-flow":"*","noflo/noflo-objects":"*","noflo/noflo-strings":"*","noflo/noflo-dom":"*","noflo/noflo-css":"*","noflo/noflo-interaction":"*","noflo/noflo-physics":"*","noflo/noflo-math":"*","d4tocchini/noflo-draggabilly":"*"},"main":"src/noflo-ui.js","scripts":["src/noflo-ui.js","src/plugins/noflo.js","src/plugins/preview-iframe.js","src/runtimes/base.js","src/runtimes/iframe.js"],"json":["component.json"]}')}),require.alias("meemoo-dataflow/build/dataflow.build.js","noflo-ui/deps/dataflow/build/dataflow.build.js"),require.alias("meemoo-dataflow/build/dataflow.build.js","noflo-ui/deps/dataflow/index.js"),require.alias("meemoo-dataflow/build/dataflow.build.js","dataflow/index.js"),require.alias("meemoo-dataflow/build/dataflow.build.js","meemoo-dataflow/index.js"),require.alias("noflo-noflo/src/lib/Graph.js","noflo-ui/deps/noflo/src/lib/Graph.js"),require.alias("noflo-noflo/src/lib/InternalSocket.js","noflo-ui/deps/noflo/src/lib/InternalSocket.js"),require.alias("noflo-noflo/src/lib/Port.js","noflo-ui/deps/noflo/src/lib/Port.js"),require.alias("noflo-noflo/src/lib/ArrayPort.js","noflo-ui/deps/noflo/src/lib/ArrayPort.js"),require.alias("noflo-noflo/src/lib/Component.js","noflo-ui/deps/noflo/src/lib/Component.js"),require.alias("noflo-noflo/src/lib/AsyncComponent.js","noflo-ui/deps/noflo/src/lib/AsyncComponent.js"),require.alias("noflo-noflo/src/lib/LoggingComponent.js","noflo-ui/deps/noflo/src/lib/LoggingComponent.js"),require.alias("noflo-noflo/src/lib/ComponentLoader.js","noflo-ui/deps/noflo/src/lib/ComponentLoader.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-ui/deps/noflo/src/lib/NoFlo.js"),require.alias("noflo-noflo/src/lib/Network.js","noflo-ui/deps/noflo/src/lib/Network.js"),require.alias("noflo-noflo/src/components/Graph.js","noflo-ui/deps/noflo/src/components/Graph.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-ui/deps/noflo/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo/index.js"),require.alias("component-emitter/index.js","noflo-noflo/deps/emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo-noflo/deps/underscore/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/lib/fbp.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-fbp/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo/index.js"),require.alias("noflo-noflo-runtime-iframe/index.js","noflo-ui/deps/noflo-runtime-iframe/index.js"),require.alias("noflo-noflo-runtime-iframe/index.js","noflo-runtime-iframe/index.js"),require.alias("noflo-noflo/src/lib/Graph.js","noflo-noflo-runtime-iframe/deps/noflo/src/lib/Graph.js"),require.alias("noflo-noflo/src/lib/InternalSocket.js","noflo-noflo-runtime-iframe/deps/noflo/src/lib/InternalSocket.js"),require.alias("noflo-noflo/src/lib/Port.js","noflo-noflo-runtime-iframe/deps/noflo/src/lib/Port.js"),require.alias("noflo-noflo/src/lib/ArrayPort.js","noflo-noflo-runtime-iframe/deps/noflo/src/lib/ArrayPort.js"),require.alias("noflo-noflo/src/lib/Component.js","noflo-noflo-runtime-iframe/deps/noflo/src/lib/Component.js"),require.alias("noflo-noflo/src/lib/AsyncComponent.js","noflo-noflo-runtime-iframe/deps/noflo/src/lib/AsyncComponent.js"),require.alias("noflo-noflo/src/lib/LoggingComponent.js","noflo-noflo-runtime-iframe/deps/noflo/src/lib/LoggingComponent.js"),require.alias("noflo-noflo/src/lib/ComponentLoader.js","noflo-noflo-runtime-iframe/deps/noflo/src/lib/ComponentLoader.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-runtime-iframe/deps/noflo/src/lib/NoFlo.js"),require.alias("noflo-noflo/src/lib/Network.js","noflo-noflo-runtime-iframe/deps/noflo/src/lib/Network.js"),require.alias("noflo-noflo/src/components/Graph.js","noflo-noflo-runtime-iframe/deps/noflo/src/components/Graph.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-runtime-iframe/deps/noflo/index.js"),require.alias("component-emitter/index.js","noflo-noflo/deps/emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo-noflo/deps/underscore/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/lib/fbp.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-fbp/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo/index.js"),require.alias("noflo-noflo-core/components/Callback.js","noflo-noflo-runtime-iframe/deps/noflo-core/components/Callback.js"),require.alias("noflo-noflo-core/components/DisconnectAfterPacket.js","noflo-noflo-runtime-iframe/deps/noflo-core/components/DisconnectAfterPacket.js"),require.alias("noflo-noflo-core/components/Drop.js","noflo-noflo-runtime-iframe/deps/noflo-core/components/Drop.js"),require.alias("noflo-noflo-core/components/Group.js","noflo-noflo-runtime-iframe/deps/noflo-core/components/Group.js"),require.alias("noflo-noflo-core/components/Kick.js","noflo-noflo-runtime-iframe/deps/noflo-core/components/Kick.js"),require.alias("noflo-noflo-core/components/Merge.js","noflo-noflo-runtime-iframe/deps/noflo-core/components/Merge.js"),require.alias("noflo-noflo-core/components/Output.js","noflo-noflo-runtime-iframe/deps/noflo-core/components/Output.js"),require.alias("noflo-noflo-core/components/Repeat.js","noflo-noflo-runtime-iframe/deps/noflo-core/components/Repeat.js"),require.alias("noflo-noflo-core/components/RepeatAsync.js","noflo-noflo-runtime-iframe/deps/noflo-core/components/RepeatAsync.js"),require.alias("noflo-noflo-core/components/Split.js","noflo-noflo-runtime-iframe/deps/noflo-core/components/Split.js"),require.alias("noflo-noflo-core/components/RunInterval.js","noflo-noflo-runtime-iframe/deps/noflo-core/components/RunInterval.js"),require.alias("noflo-noflo-core/index.js","noflo-noflo-runtime-iframe/deps/noflo-core/index.js"),require.alias("noflo-noflo/src/lib/Graph.js","noflo-noflo-core/deps/noflo/src/lib/Graph.js"),require.alias("noflo-noflo/src/lib/InternalSocket.js","noflo-noflo-core/deps/noflo/src/lib/InternalSocket.js"),require.alias("noflo-noflo/src/lib/Port.js","noflo-noflo-core/deps/noflo/src/lib/Port.js"),require.alias("noflo-noflo/src/lib/ArrayPort.js","noflo-noflo-core/deps/noflo/src/lib/ArrayPort.js"),require.alias("noflo-noflo/src/lib/Component.js","noflo-noflo-core/deps/noflo/src/lib/Component.js"),require.alias("noflo-noflo/src/lib/AsyncComponent.js","noflo-noflo-core/deps/noflo/src/lib/AsyncComponent.js"),require.alias("noflo-noflo/src/lib/LoggingComponent.js","noflo-noflo-core/deps/noflo/src/lib/LoggingComponent.js"),require.alias("noflo-noflo/src/lib/ComponentLoader.js","noflo-noflo-core/deps/noflo/src/lib/ComponentLoader.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-core/deps/noflo/src/lib/NoFlo.js"),require.alias("noflo-noflo/src/lib/Network.js","noflo-noflo-core/deps/noflo/src/lib/Network.js"),require.alias("noflo-noflo/src/components/Graph.js","noflo-noflo-core/deps/noflo/src/components/Graph.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-core/deps/noflo/index.js"),require.alias("component-emitter/index.js","noflo-noflo/deps/emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo-noflo/deps/underscore/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/lib/fbp.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-fbp/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo/index.js"),require.alias("component-underscore/index.js","noflo-noflo-core/deps/underscore/index.js"),require.alias("noflo-noflo-core/components/Callback.js","noflo-ui/deps/noflo-core/components/Callback.js"),require.alias("noflo-noflo-core/components/DisconnectAfterPacket.js","noflo-ui/deps/noflo-core/components/DisconnectAfterPacket.js"),require.alias("noflo-noflo-core/components/Drop.js","noflo-ui/deps/noflo-core/components/Drop.js"),require.alias("noflo-noflo-core/components/Group.js","noflo-ui/deps/noflo-core/components/Group.js"),require.alias("noflo-noflo-core/components/Kick.js","noflo-ui/deps/noflo-core/components/Kick.js"),require.alias("noflo-noflo-core/components/Merge.js","noflo-ui/deps/noflo-core/components/Merge.js"),require.alias("noflo-noflo-core/components/Output.js","noflo-ui/deps/noflo-core/components/Output.js"),require.alias("noflo-noflo-core/components/Repeat.js","noflo-ui/deps/noflo-core/components/Repeat.js"),require.alias("noflo-noflo-core/components/RepeatAsync.js","noflo-ui/deps/noflo-core/components/RepeatAsync.js"),require.alias("noflo-noflo-core/components/Split.js","noflo-ui/deps/noflo-core/components/Split.js"),require.alias("noflo-noflo-core/components/RunInterval.js","noflo-ui/deps/noflo-core/components/RunInterval.js"),require.alias("noflo-noflo-core/index.js","noflo-ui/deps/noflo-core/index.js"),require.alias("noflo-noflo-core/index.js","noflo-core/index.js"),require.alias("noflo-noflo/src/lib/Graph.js","noflo-noflo-core/deps/noflo/src/lib/Graph.js"),require.alias("noflo-noflo/src/lib/InternalSocket.js","noflo-noflo-core/deps/noflo/src/lib/InternalSocket.js"),require.alias("noflo-noflo/src/lib/Port.js","noflo-noflo-core/deps/noflo/src/lib/Port.js"),require.alias("noflo-noflo/src/lib/ArrayPort.js","noflo-noflo-core/deps/noflo/src/lib/ArrayPort.js"),require.alias("noflo-noflo/src/lib/Component.js","noflo-noflo-core/deps/noflo/src/lib/Component.js"),require.alias("noflo-noflo/src/lib/AsyncComponent.js","noflo-noflo-core/deps/noflo/src/lib/AsyncComponent.js"),require.alias("noflo-noflo/src/lib/LoggingComponent.js","noflo-noflo-core/deps/noflo/src/lib/LoggingComponent.js"),require.alias("noflo-noflo/src/lib/ComponentLoader.js","noflo-noflo-core/deps/noflo/src/lib/ComponentLoader.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-core/deps/noflo/src/lib/NoFlo.js"),require.alias("noflo-noflo/src/lib/Network.js","noflo-noflo-core/deps/noflo/src/lib/Network.js"),require.alias("noflo-noflo/src/components/Graph.js","noflo-noflo-core/deps/noflo/src/components/Graph.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-core/deps/noflo/index.js"),require.alias("component-emitter/index.js","noflo-noflo/deps/emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo-noflo/deps/underscore/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/lib/fbp.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-fbp/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo/index.js"),require.alias("component-underscore/index.js","noflo-noflo-core/deps/underscore/index.js"),require.alias("noflo-noflo-flow/components/Gate.js","noflo-ui/deps/noflo-flow/components/Gate.js"),require.alias("noflo-noflo-flow/index.js","noflo-ui/deps/noflo-flow/index.js"),require.alias("noflo-noflo-flow/index.js","noflo-flow/index.js"),require.alias("noflo-noflo/src/lib/Graph.js","noflo-noflo-flow/deps/noflo/src/lib/Graph.js"),require.alias("noflo-noflo/src/lib/InternalSocket.js","noflo-noflo-flow/deps/noflo/src/lib/InternalSocket.js"),require.alias("noflo-noflo/src/lib/Port.js","noflo-noflo-flow/deps/noflo/src/lib/Port.js"),require.alias("noflo-noflo/src/lib/ArrayPort.js","noflo-noflo-flow/deps/noflo/src/lib/ArrayPort.js"),require.alias("noflo-noflo/src/lib/Component.js","noflo-noflo-flow/deps/noflo/src/lib/Component.js"),require.alias("noflo-noflo/src/lib/AsyncComponent.js","noflo-noflo-flow/deps/noflo/src/lib/AsyncComponent.js"),require.alias("noflo-noflo/src/lib/LoggingComponent.js","noflo-noflo-flow/deps/noflo/src/lib/LoggingComponent.js"),require.alias("noflo-noflo/src/lib/ComponentLoader.js","noflo-noflo-flow/deps/noflo/src/lib/ComponentLoader.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-flow/deps/noflo/src/lib/NoFlo.js"),require.alias("noflo-noflo/src/lib/Network.js","noflo-noflo-flow/deps/noflo/src/lib/Network.js"),require.alias("noflo-noflo/src/components/Graph.js","noflo-noflo-flow/deps/noflo/src/components/Graph.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-flow/deps/noflo/index.js"),require.alias("component-emitter/index.js","noflo-noflo/deps/emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo-noflo/deps/underscore/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/lib/fbp.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-fbp/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo/index.js"),require.alias("noflo-noflo-objects/components/Extend.js","noflo-ui/deps/noflo-objects/components/Extend.js"),require.alias("noflo-noflo-objects/components/MergeObjects.js","noflo-ui/deps/noflo-objects/components/MergeObjects.js"),require.alias("noflo-noflo-objects/components/SplitObject.js","noflo-ui/deps/noflo-objects/components/SplitObject.js"),require.alias("noflo-noflo-objects/components/ReplaceKey.js","noflo-ui/deps/noflo-objects/components/ReplaceKey.js"),require.alias("noflo-noflo-objects/components/Keys.js","noflo-ui/deps/noflo-objects/components/Keys.js"),require.alias("noflo-noflo-objects/components/Values.js","noflo-ui/deps/noflo-objects/components/Values.js"),require.alias("noflo-noflo-objects/components/Join.js","noflo-ui/deps/noflo-objects/components/Join.js"),require.alias("noflo-noflo-objects/components/ExtractProperty.js","noflo-ui/deps/noflo-objects/components/ExtractProperty.js"),require.alias("noflo-noflo-objects/components/InsertProperty.js","noflo-ui/deps/noflo-objects/components/InsertProperty.js"),require.alias("noflo-noflo-objects/components/SliceArray.js","noflo-ui/deps/noflo-objects/components/SliceArray.js"),require.alias("noflo-noflo-objects/components/SplitArray.js","noflo-ui/deps/noflo-objects/components/SplitArray.js"),require.alias("noflo-noflo-objects/components/FilterPropertyValue.js","noflo-ui/deps/noflo-objects/components/FilterPropertyValue.js"),require.alias("noflo-noflo-objects/components/FlattenObject.js","noflo-ui/deps/noflo-objects/components/FlattenObject.js"),require.alias("noflo-noflo-objects/components/MapProperty.js","noflo-ui/deps/noflo-objects/components/MapProperty.js"),require.alias("noflo-noflo-objects/components/RemoveProperty.js","noflo-ui/deps/noflo-objects/components/RemoveProperty.js"),require.alias("noflo-noflo-objects/components/MapPropertyValue.js","noflo-ui/deps/noflo-objects/components/MapPropertyValue.js"),require.alias("noflo-noflo-objects/components/GetObjectKey.js","noflo-ui/deps/noflo-objects/components/GetObjectKey.js"),require.alias("noflo-noflo-objects/components/UniqueArray.js","noflo-ui/deps/noflo-objects/components/UniqueArray.js"),require.alias("noflo-noflo-objects/components/SetProperty.js","noflo-ui/deps/noflo-objects/components/SetProperty.js"),require.alias("noflo-noflo-objects/components/SimplifyObject.js","noflo-ui/deps/noflo-objects/components/SimplifyObject.js"),require.alias("noflo-noflo-objects/components/DuplicateProperty.js","noflo-ui/deps/noflo-objects/components/DuplicateProperty.js"),require.alias("noflo-noflo-objects/components/CreateObject.js","noflo-ui/deps/noflo-objects/components/CreateObject.js"),require.alias("noflo-noflo-objects/components/CreateDate.js","noflo-ui/deps/noflo-objects/components/CreateDate.js"),require.alias("noflo-noflo-objects/components/SetPropertyValue.js","noflo-ui/deps/noflo-objects/components/SetPropertyValue.js"),require.alias("noflo-noflo-objects/components/CallMethod.js","noflo-ui/deps/noflo-objects/components/CallMethod.js"),require.alias("noflo-noflo-objects/index.js","noflo-ui/deps/noflo-objects/index.js"),require.alias("noflo-noflo-objects/index.js","noflo-objects/index.js"),require.alias("noflo-noflo/src/lib/Graph.js","noflo-noflo-objects/deps/noflo/src/lib/Graph.js"),require.alias("noflo-noflo/src/lib/InternalSocket.js","noflo-noflo-objects/deps/noflo/src/lib/InternalSocket.js"),require.alias("noflo-noflo/src/lib/Port.js","noflo-noflo-objects/deps/noflo/src/lib/Port.js"),require.alias("noflo-noflo/src/lib/ArrayPort.js","noflo-noflo-objects/deps/noflo/src/lib/ArrayPort.js"),require.alias("noflo-noflo/src/lib/Component.js","noflo-noflo-objects/deps/noflo/src/lib/Component.js"),require.alias("noflo-noflo/src/lib/AsyncComponent.js","noflo-noflo-objects/deps/noflo/src/lib/AsyncComponent.js"),require.alias("noflo-noflo/src/lib/LoggingComponent.js","noflo-noflo-objects/deps/noflo/src/lib/LoggingComponent.js"),require.alias("noflo-noflo/src/lib/ComponentLoader.js","noflo-noflo-objects/deps/noflo/src/lib/ComponentLoader.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-objects/deps/noflo/src/lib/NoFlo.js"),require.alias("noflo-noflo/src/lib/Network.js","noflo-noflo-objects/deps/noflo/src/lib/Network.js"),require.alias("noflo-noflo/src/components/Graph.js","noflo-noflo-objects/deps/noflo/src/components/Graph.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-objects/deps/noflo/index.js"),require.alias("component-emitter/index.js","noflo-noflo/deps/emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo-noflo/deps/underscore/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/lib/fbp.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-fbp/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo/index.js"),require.alias("component-underscore/index.js","noflo-noflo-objects/deps/underscore/index.js"),require.alias("noflo-noflo-strings/components/Filter.js","noflo-ui/deps/noflo-strings/components/Filter.js"),require.alias("noflo-noflo-strings/components/SendString.js","noflo-ui/deps/noflo-strings/components/SendString.js"),require.alias("noflo-noflo-strings/components/StringTemplate.js","noflo-ui/deps/noflo-strings/components/StringTemplate.js"),require.alias("noflo-noflo-strings/components/Replace.js","noflo-ui/deps/noflo-strings/components/Replace.js"),require.alias("noflo-noflo-strings/components/Jsonify.js","noflo-ui/deps/noflo-strings/components/Jsonify.js"),require.alias("noflo-noflo-strings/index.js","noflo-ui/deps/noflo-strings/index.js"),require.alias("noflo-noflo-strings/index.js","noflo-strings/index.js"),require.alias("noflo-noflo/src/lib/Graph.js","noflo-noflo-strings/deps/noflo/src/lib/Graph.js"),require.alias("noflo-noflo/src/lib/InternalSocket.js","noflo-noflo-strings/deps/noflo/src/lib/InternalSocket.js"),require.alias("noflo-noflo/src/lib/Port.js","noflo-noflo-strings/deps/noflo/src/lib/Port.js"),require.alias("noflo-noflo/src/lib/ArrayPort.js","noflo-noflo-strings/deps/noflo/src/lib/ArrayPort.js"),require.alias("noflo-noflo/src/lib/Component.js","noflo-noflo-strings/deps/noflo/src/lib/Component.js"),require.alias("noflo-noflo/src/lib/AsyncComponent.js","noflo-noflo-strings/deps/noflo/src/lib/AsyncComponent.js"),require.alias("noflo-noflo/src/lib/LoggingComponent.js","noflo-noflo-strings/deps/noflo/src/lib/LoggingComponent.js"),require.alias("noflo-noflo/src/lib/ComponentLoader.js","noflo-noflo-strings/deps/noflo/src/lib/ComponentLoader.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-strings/deps/noflo/src/lib/NoFlo.js"),require.alias("noflo-noflo/src/lib/Network.js","noflo-noflo-strings/deps/noflo/src/lib/Network.js"),require.alias("noflo-noflo/src/components/Graph.js","noflo-noflo-strings/deps/noflo/src/components/Graph.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-strings/deps/noflo/index.js"),require.alias("component-emitter/index.js","noflo-noflo/deps/emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo-noflo/deps/underscore/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/lib/fbp.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-fbp/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo/index.js"),require.alias("component-underscore/index.js","noflo-noflo-strings/deps/underscore/index.js"),require.alias("noflo-noflo-dom/components/AddClass.js","noflo-ui/deps/noflo-dom/components/AddClass.js"),require.alias("noflo-noflo-dom/components/AppendChild.js","noflo-ui/deps/noflo-dom/components/AppendChild.js"),require.alias("noflo-noflo-dom/components/CreateElement.js","noflo-ui/deps/noflo-dom/components/CreateElement.js"),require.alias("noflo-noflo-dom/components/CreateFragment.js","noflo-ui/deps/noflo-dom/components/CreateFragment.js"),require.alias("noflo-noflo-dom/components/GetAttribute.js","noflo-ui/deps/noflo-dom/components/GetAttribute.js"),require.alias("noflo-noflo-dom/components/GetElement.js","noflo-ui/deps/noflo-dom/components/GetElement.js"),require.alias("noflo-noflo-dom/components/ReadHtml.js","noflo-ui/deps/noflo-dom/components/ReadHtml.js"),require.alias("noflo-noflo-dom/components/WriteHtml.js","noflo-ui/deps/noflo-dom/components/WriteHtml.js"),require.alias("noflo-noflo-dom/components/RemoveClass.js","noflo-ui/deps/noflo-dom/components/RemoveClass.js"),require.alias("noflo-noflo-dom/index.js","noflo-ui/deps/noflo-dom/index.js"),require.alias("noflo-noflo-dom/index.js","noflo-dom/index.js"),require.alias("noflo-noflo/src/lib/Graph.js","noflo-noflo-dom/deps/noflo/src/lib/Graph.js"),require.alias("noflo-noflo/src/lib/InternalSocket.js","noflo-noflo-dom/deps/noflo/src/lib/InternalSocket.js"),require.alias("noflo-noflo/src/lib/Port.js","noflo-noflo-dom/deps/noflo/src/lib/Port.js"),require.alias("noflo-noflo/src/lib/ArrayPort.js","noflo-noflo-dom/deps/noflo/src/lib/ArrayPort.js"),require.alias("noflo-noflo/src/lib/Component.js","noflo-noflo-dom/deps/noflo/src/lib/Component.js"),require.alias("noflo-noflo/src/lib/AsyncComponent.js","noflo-noflo-dom/deps/noflo/src/lib/AsyncComponent.js"),require.alias("noflo-noflo/src/lib/LoggingComponent.js","noflo-noflo-dom/deps/noflo/src/lib/LoggingComponent.js"),require.alias("noflo-noflo/src/lib/ComponentLoader.js","noflo-noflo-dom/deps/noflo/src/lib/ComponentLoader.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-dom/deps/noflo/src/lib/NoFlo.js"),require.alias("noflo-noflo/src/lib/Network.js","noflo-noflo-dom/deps/noflo/src/lib/Network.js"),require.alias("noflo-noflo/src/components/Graph.js","noflo-noflo-dom/deps/noflo/src/components/Graph.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-dom/deps/noflo/index.js"),require.alias("component-emitter/index.js","noflo-noflo/deps/emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo-noflo/deps/underscore/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/lib/fbp.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-fbp/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo/index.js"),require.alias("noflo-noflo-css/components/MoveElement.js","noflo-ui/deps/noflo-css/components/MoveElement.js"),require.alias("noflo-noflo-css/components/RotateElement.js","noflo-ui/deps/noflo-css/components/RotateElement.js"),require.alias("noflo-noflo-css/index.js","noflo-ui/deps/noflo-css/index.js"),require.alias("noflo-noflo-css/index.js","noflo-css/index.js"),require.alias("noflo-noflo/src/lib/Graph.js","noflo-noflo-css/deps/noflo/src/lib/Graph.js"),require.alias("noflo-noflo/src/lib/InternalSocket.js","noflo-noflo-css/deps/noflo/src/lib/InternalSocket.js"),require.alias("noflo-noflo/src/lib/Port.js","noflo-noflo-css/deps/noflo/src/lib/Port.js"),require.alias("noflo-noflo/src/lib/ArrayPort.js","noflo-noflo-css/deps/noflo/src/lib/ArrayPort.js"),require.alias("noflo-noflo/src/lib/Component.js","noflo-noflo-css/deps/noflo/src/lib/Component.js"),require.alias("noflo-noflo/src/lib/AsyncComponent.js","noflo-noflo-css/deps/noflo/src/lib/AsyncComponent.js"),require.alias("noflo-noflo/src/lib/LoggingComponent.js","noflo-noflo-css/deps/noflo/src/lib/LoggingComponent.js"),require.alias("noflo-noflo/src/lib/ComponentLoader.js","noflo-noflo-css/deps/noflo/src/lib/ComponentLoader.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-css/deps/noflo/src/lib/NoFlo.js"),require.alias("noflo-noflo/src/lib/Network.js","noflo-noflo-css/deps/noflo/src/lib/Network.js"),require.alias("noflo-noflo/src/components/Graph.js","noflo-noflo-css/deps/noflo/src/components/Graph.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-css/deps/noflo/index.js"),require.alias("component-emitter/index.js","noflo-noflo/deps/emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo-noflo/deps/underscore/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/lib/fbp.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-fbp/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo/index.js"),require.alias("noflo-noflo-interaction/components/ListenDrag.js","noflo-ui/deps/noflo-interaction/components/ListenDrag.js"),require.alias("noflo-noflo-interaction/components/ListenKeyboard.js","noflo-ui/deps/noflo-interaction/components/ListenKeyboard.js"),require.alias("noflo-noflo-interaction/components/ListenMouse.js","noflo-ui/deps/noflo-interaction/components/ListenMouse.js"),require.alias("noflo-noflo-interaction/components/ListenScroll.js","noflo-ui/deps/noflo-interaction/components/ListenScroll.js"),require.alias("noflo-noflo-interaction/components/ListenTouch.js","noflo-ui/deps/noflo-interaction/components/ListenTouch.js"),require.alias("noflo-noflo-interaction/index.js","noflo-ui/deps/noflo-interaction/index.js"),require.alias("noflo-noflo-interaction/index.js","noflo-interaction/index.js"),require.alias("noflo-noflo/src/lib/Graph.js","noflo-noflo-interaction/deps/noflo/src/lib/Graph.js"),require.alias("noflo-noflo/src/lib/InternalSocket.js","noflo-noflo-interaction/deps/noflo/src/lib/InternalSocket.js"),require.alias("noflo-noflo/src/lib/Port.js","noflo-noflo-interaction/deps/noflo/src/lib/Port.js"),require.alias("noflo-noflo/src/lib/ArrayPort.js","noflo-noflo-interaction/deps/noflo/src/lib/ArrayPort.js"),require.alias("noflo-noflo/src/lib/Component.js","noflo-noflo-interaction/deps/noflo/src/lib/Component.js"),require.alias("noflo-noflo/src/lib/AsyncComponent.js","noflo-noflo-interaction/deps/noflo/src/lib/AsyncComponent.js"),require.alias("noflo-noflo/src/lib/LoggingComponent.js","noflo-noflo-interaction/deps/noflo/src/lib/LoggingComponent.js"),require.alias("noflo-noflo/src/lib/ComponentLoader.js","noflo-noflo-interaction/deps/noflo/src/lib/ComponentLoader.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-interaction/deps/noflo/src/lib/NoFlo.js"),require.alias("noflo-noflo/src/lib/Network.js","noflo-noflo-interaction/deps/noflo/src/lib/Network.js"),require.alias("noflo-noflo/src/components/Graph.js","noflo-noflo-interaction/deps/noflo/src/components/Graph.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-interaction/deps/noflo/index.js"),require.alias("component-emitter/index.js","noflo-noflo/deps/emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo-noflo/deps/underscore/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/lib/fbp.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-fbp/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo/index.js"),require.alias("noflo-noflo-physics/components/Spring.js","noflo-ui/deps/noflo-physics/components/Spring.js"),require.alias("noflo-noflo-physics/index.js","noflo-ui/deps/noflo-physics/index.js"),require.alias("noflo-noflo-physics/index.js","noflo-physics/index.js"),require.alias("noflo-noflo/src/lib/Graph.js","noflo-noflo-physics/deps/noflo/src/lib/Graph.js"),require.alias("noflo-noflo/src/lib/InternalSocket.js","noflo-noflo-physics/deps/noflo/src/lib/InternalSocket.js"),require.alias("noflo-noflo/src/lib/Port.js","noflo-noflo-physics/deps/noflo/src/lib/Port.js"),require.alias("noflo-noflo/src/lib/ArrayPort.js","noflo-noflo-physics/deps/noflo/src/lib/ArrayPort.js"),require.alias("noflo-noflo/src/lib/Component.js","noflo-noflo-physics/deps/noflo/src/lib/Component.js"),require.alias("noflo-noflo/src/lib/AsyncComponent.js","noflo-noflo-physics/deps/noflo/src/lib/AsyncComponent.js"),require.alias("noflo-noflo/src/lib/LoggingComponent.js","noflo-noflo-physics/deps/noflo/src/lib/LoggingComponent.js"),require.alias("noflo-noflo/src/lib/ComponentLoader.js","noflo-noflo-physics/deps/noflo/src/lib/ComponentLoader.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-physics/deps/noflo/src/lib/NoFlo.js"),require.alias("noflo-noflo/src/lib/Network.js","noflo-noflo-physics/deps/noflo/src/lib/Network.js"),require.alias("noflo-noflo/src/components/Graph.js","noflo-noflo-physics/deps/noflo/src/components/Graph.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-physics/deps/noflo/index.js"),require.alias("component-emitter/index.js","noflo-noflo/deps/emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo-noflo/deps/underscore/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/lib/fbp.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-fbp/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo/index.js"),require.alias("noflo-noflo-math/components/Add.js","noflo-ui/deps/noflo-math/components/Add.js"),require.alias("noflo-noflo-math/components/Subtract.js","noflo-ui/deps/noflo-math/components/Subtract.js"),require.alias("noflo-noflo-math/components/Multiply.js","noflo-ui/deps/noflo-math/components/Multiply.js"),require.alias("noflo-noflo-math/components/Divide.js","noflo-ui/deps/noflo-math/components/Divide.js"),require.alias("noflo-noflo-math/components/CountSum.js","noflo-ui/deps/noflo-math/components/CountSum.js"),require.alias("noflo-noflo-math/index.js","noflo-ui/deps/noflo-math/index.js"),require.alias("noflo-noflo-math/index.js","noflo-math/index.js"),require.alias("noflo-noflo/src/lib/Graph.js","noflo-noflo-math/deps/noflo/src/lib/Graph.js"),require.alias("noflo-noflo/src/lib/InternalSocket.js","noflo-noflo-math/deps/noflo/src/lib/InternalSocket.js"),require.alias("noflo-noflo/src/lib/Port.js","noflo-noflo-math/deps/noflo/src/lib/Port.js"),require.alias("noflo-noflo/src/lib/ArrayPort.js","noflo-noflo-math/deps/noflo/src/lib/ArrayPort.js"),require.alias("noflo-noflo/src/lib/Component.js","noflo-noflo-math/deps/noflo/src/lib/Component.js"),require.alias("noflo-noflo/src/lib/AsyncComponent.js","noflo-noflo-math/deps/noflo/src/lib/AsyncComponent.js"),require.alias("noflo-noflo/src/lib/LoggingComponent.js","noflo-noflo-math/deps/noflo/src/lib/LoggingComponent.js"),require.alias("noflo-noflo/src/lib/ComponentLoader.js","noflo-noflo-math/deps/noflo/src/lib/ComponentLoader.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-math/deps/noflo/src/lib/NoFlo.js"),require.alias("noflo-noflo/src/lib/Network.js","noflo-noflo-math/deps/noflo/src/lib/Network.js"),require.alias("noflo-noflo/src/components/Graph.js","noflo-noflo-math/deps/noflo/src/components/Graph.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo-math/deps/noflo/index.js"),require.alias("component-emitter/index.js","noflo-noflo/deps/emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo-noflo/deps/underscore/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/lib/fbp.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-fbp/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo/index.js"),require.alias("d4tocchini-noflo-draggabilly/components/Draggabilly.js","noflo-ui/deps/noflo-draggabilly/components/Draggabilly.js"),require.alias("d4tocchini-noflo-draggabilly/index.js","noflo-ui/deps/noflo-draggabilly/index.js"),require.alias("d4tocchini-noflo-draggabilly/index.js","noflo-draggabilly/index.js"),require.alias("noflo-noflo/src/lib/Graph.js","d4tocchini-noflo-draggabilly/deps/noflo/src/lib/Graph.js"),require.alias("noflo-noflo/src/lib/InternalSocket.js","d4tocchini-noflo-draggabilly/deps/noflo/src/lib/InternalSocket.js"),require.alias("noflo-noflo/src/lib/Port.js","d4tocchini-noflo-draggabilly/deps/noflo/src/lib/Port.js"),require.alias("noflo-noflo/src/lib/ArrayPort.js","d4tocchini-noflo-draggabilly/deps/noflo/src/lib/ArrayPort.js"),require.alias("noflo-noflo/src/lib/Component.js","d4tocchini-noflo-draggabilly/deps/noflo/src/lib/Component.js"),require.alias("noflo-noflo/src/lib/AsyncComponent.js","d4tocchini-noflo-draggabilly/deps/noflo/src/lib/AsyncComponent.js"),require.alias("noflo-noflo/src/lib/LoggingComponent.js","d4tocchini-noflo-draggabilly/deps/noflo/src/lib/LoggingComponent.js"),require.alias("noflo-noflo/src/lib/ComponentLoader.js","d4tocchini-noflo-draggabilly/deps/noflo/src/lib/ComponentLoader.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","d4tocchini-noflo-draggabilly/deps/noflo/src/lib/NoFlo.js"),require.alias("noflo-noflo/src/lib/Network.js","d4tocchini-noflo-draggabilly/deps/noflo/src/lib/Network.js"),require.alias("noflo-noflo/src/components/Graph.js","d4tocchini-noflo-draggabilly/deps/noflo/src/components/Graph.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","d4tocchini-noflo-draggabilly/deps/noflo/index.js"),require.alias("component-emitter/index.js","noflo-noflo/deps/emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo-noflo/deps/underscore/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/lib/fbp.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-noflo/deps/fbp/index.js"),require.alias("noflo-fbp/lib/fbp.js","noflo-fbp/index.js"),require.alias("noflo-noflo/src/lib/NoFlo.js","noflo-noflo/index.js"),require.alias("noflo-ui/src/noflo-ui.js","noflo-ui/index.js");
